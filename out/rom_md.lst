 AS V1.42 Beta [Bld 118] - source file main.asm - page 1 - 8/12/2019 17:35:03


       1/       0 :                     ; ===========================================================================
       2/       0 :                     ; +-----------------------------------------------------------------+
       3/       0 :                     ; SEGA GENESIS GAME TEMPLATE
       4/       0 :                     ; +-----------------------------------------------------------------+
       5/       0 :                     
       6/       0 :                     		cpu 68000				; [AS] Current CPU is 68000
       7/       0 :                     		padding off				; [AS] Don't pad dc.b
       8/       0 :                     		listing purecode			; [AS] Want listing file, but only the final code in expanded macros
       9/       0 :                     		supmode on 				; [AS] Supervisor mode
      10/       0 :                     		page 0
      11/       0 :                     		
      12/       0 :                     ; ====================================================================
      13/       0 :                     ; ----------------------------------------------------------------
      14/       0 :                     ; Include variables
      15/       0 :                     ; ----------------------------------------------------------------
      16/       0 :                     
      17/       0 :                     		include "system/macros.asm"		; Assembler macros
(1)    1/       0 :                     ; ===========================================================================
(1)    2/       0 :                     ; ----------------------------------------------------------------
(1)    3/       0 :                     ; MACROS
(1)    4/       0 :                     ; ----------------------------------------------------------------
(1)    5/       0 :                     
(1)    6/       0 :                     ; ====================================================================
(1)    7/       0 :                     ; ---------------------------------------------
(1)    8/       0 :                     ; Functions
(1)    9/       0 :                     ; ---------------------------------------------
(1)   10/       0 :                     
(1)   11/       0 :                     doubleword 	function l,r,(l<<16&$FFFF0000|r&$FFFF)				; LLLL RRRR
(1)   12/       0 :                     mapsize		function l,r,( ((l-1)/8)<<16&$FFFF0000|((r-1)/8)&$FFFF )	; for cell w/h use doubleword
(1)   13/       0 :                     locate		function a,b,c,(c&$FF)|(b<<8&$FF00)|(a<<16&$FF0000)		; Layer,X pos,Y pos for some video routines
(1)   14/       0 :                     
(1)   15/       0 :                     ; ====================================================================
(1)   16/       0 :                     ; ---------------------------------------------
(1)   17/       0 :                     ; Macros
(1)   18/       0 :                     ; ---------------------------------------------
(1)   19/       0 :                     
(1)   20/       0 :                     ; -------------------------------------
(1)   21/       0 :                     ; Reserve memory space
(1)   22/       0 :                     ; -------------------------------------
(1)   23/       0 :                     
(1)   24/       0 :                     struct		macro thisinput			; Reserve memory address
(1)   25/       0 :                     GLBL_LASTPC	set *
(1)   26/       0 :                     GLBL_LASTORG	set *
(1)   27/       0 :                     		dephase
(1)   28/       0 :                     		phase thisinput
(1)   29/       0 :                     		endm
(1)   30/       0 :                     		
(1)   31/       0 :                     ; -------------------------------------
(1)   32/       0 :                     ; Finish reserve
(1)   33/       0 :                     ; -------------------------------------
(1)   34/       0 :                     
(1)   35/       0 :                     finish		macro				; Then finish
(1)   36/       0 :                     		!org GLBL_LASTORG
(1)   37/       0 :                     		phase GLBL_LASTPC
(1)   38/       0 :                     		endm
(1)   39/       0 :                     
(1)   40/       0 :                     ; -------------------------------------
(1)   41/       0 :                     ; ZERO Fill padding
(1)   42/       0 :                     ; 
(1)   43/       0 :                     ; if AS align doesn't work
(1)   44/       0 :                     ; -------------------------------------
(1)   45/       0 :                     
(1)   46/       0 :                     rompad		macro address			; Zero fill
(1)   47/       0 :                     diff := address - *
(1)   48/       0 :                     		if diff < 0
(1)   49/       0 :                     			error "too much stuff before org $\{address} ($\{(-diff)} bytes)"
(1)   50/       0 :                     		else
(1)   51/       0 :                     			while diff > 1024
(1)   52/       0 :                     				; AS can only generate 1 kb of code on a single line
(1)   53/       0 :                     				dc.b [1024]0
(1)   54/       0 :                     diff := diff - 1024
(1)   55/       0 :                     			endm
(1)   56/       0 :                     			dc.b [diff]0
(1)   57/       0 :                     		endif
(1)   58/       0 :                     	endm
(1)   59/       0 :                     	
(1)   60/       0 :                     ; -------------------------------------
(1)   61/       0 :                     ; ORG
(1)   62/       0 :                     ;
(1)   63/       0 :                     ; (from s2disasm)
(1)   64/       0 :                     ; -------------------------------------
(1)   65/       0 :                     
(1)   66/       0 : =$0                 paddingSoFar set 0
(1)   67/       0 :                     notZ80 function cpu,(cpu<>128)&&(cpu<>32988)
(1)   68/       0 :                     org macro address
(1)   69/       0 :                     	if notZ80(MOMCPU)
(1)   70/       0 :                     		if address < *
(1)   71/       0 :                     			error "too much stuff before org $\{address} ($\{(*-address)} bytes)"
(1)   72/       0 :                     		elseif address > *
(1)   73/       0 :                     paddingSoFar	set paddingSoFar + address - *
(1)   74/       0 :                     			!org address
(1)   75/       0 :                     		endif
(1)   76/       0 :                     	else
(1)   77/       0 :                     		if address < $
(1)   78/       0 :                     			error "too much stuff before org 0\{address}h (0\{($-address)}h bytes)"
(1)   79/       0 :                     		else
(1)   80/       0 :                     			while address > $
(1)   81/       0 :                     				db 0
(1)   82/       0 :                     			endm
(1)   83/       0 :                     		endif
(1)   84/       0 :                     	endif
(1)   85/       0 :                         endm
(1)   86/       0 :                     
(1)   87/       0 :                     ; ====================================================================
(1)   88/       0 :                     ; ---------------------------------------------
(1)   89/       0 :                     ; Mega CD only
(1)   90/       0 :                     ; ---------------------------------------------
(1)   91/       0 :                     
(1)   92/       0 :                     ; Set a ISO file
(1)   93/       0 :                     ; NOTES:
(1)   94/       0 :                     ; - a valid ISO head is required ($8000 to $B7FF)
(1)   95/       0 :                     ; - currently only the year is set
(1)   96/       0 :                     
(1)   97/       0 :                     ; -----------------------------------------
(1)   98/       0 :                     ; type - 0 or 1
(1)   99/       0 :                     ; start - ISO filelist start point
(1)  100/       0 :                     ; end - ISO filelist end point
(1)  101/       0 :                     ; -----------------------------------------
(1)  102/       0 :                     
(1)  103/       0 :                     iso_setfs	macro type,start,end
(1)  104/       0 :                     .fstrt:		dc.b .fend-.fstrt				; Block size
(1)  105/       0 :                     		dc.b 0						; zero
(1)  106/       0 :                     		dc.b (start>>11&$FF),(start>>19&$FF)		; Start sector, little
(1)  107/       0 :                     		dc.b (start>>27&$FF),(start>>35&$FF)
(1)  108/       0 :                     		dc.l start>>11					; Start sector, big
(1)  109/       0 :                     		dc.b ((end-start)&$FF),((end-start)>>8&$FF)	; Filesize, little
(1)  110/       0 :                     		dc.b ((end-start)>>16&$FF),((end-start)>>24&$FF)
(1)  111/       0 :                     		dc.l end-start					; Filesize, big
(1)  112/       0 :                     		dc.b (2019-1900)+1				; Year
(1)  113/       0 :                     		dc.b 0,0,0,0,0,0				; TODO
(1)  114/       0 :                     		dc.b 2						; File flags
(1)  115/       0 :                     		dc.b 0,0
(1)  116/       0 :                     		dc.b 1,0					; Volume sequence number, little
(1)  117/       0 :                     		dc.b 0,1					; Volume sequence number, big
(1)  118/       0 :                     		dc.b 1,type
(1)  119/       0 :                     .fend:
(1)  120/       0 :                     		endm
(1)  121/       0 :                     
(1)  122/       0 :                     ; -----------------------------------------
(1)  123/       0 :                     ; filename - ISO Filename 8.3
(1)  124/       0 :                     ; start - File data start position
(1)  125/       0 :                     ; end - File data end position
(1)  126/       0 :                     ; 
(1)  127/       0 :                     ; Don't forget to pad $800 at the end
(1)  128/       0 :                     ; of each file
(1)  129/       0 :                     ; -----------------------------------------
(1)  130/       0 :                     
(1)  131/       0 :                     iso_file	macro filename,start,end
(1)  132/       0 :                     .fstrt:		dc.b .fend-.fstrt				; Block size
(1)  133/       0 :                     		dc.b 0						; zero
(1)  134/       0 :                     		dc.b (start>>11&$FF),(start>>19&$FF)		; Start sector, little
(1)  135/       0 :                     		dc.b (start>>27&$FF),(start>>35&$FF)
(1)  136/       0 :                     		dc.l start>>11					; Start sector, big
(1)  137/       0 :                     		dc.b ((end-start)&$FF),((end-start)>>8&$FF)	; Filesize, little
(1)  138/       0 :                     		dc.b ((end-start)>>16&$FF),((end-start)>>24&$FF)
(1)  139/       0 :                     		dc.l end-start					; Filesize, big
(1)  140/       0 :                     		dc.b (2019-1900)+1				; Year
(1)  141/       0 :                     		dc.b 0,0,0,0,0,0				; TODO
(1)  142/       0 :                     		dc.b 0						; File flags
(1)  143/       0 :                     		dc.b 0,0
(1)  144/       0 :                     		dc.b 1,0					; Volume sequence number, little
(1)  145/       0 :                     		dc.b 0,1					; Volume sequence number, big
(1)  146/       0 :                     		dc.b .flend-.flen
(1)  147/       0 :                     .flen:		dc.b filename,";1"
(1)  148/       0 :                     .flend:		dc.b 0
(1)  149/       0 :                     .fend:
(1)  150/       0 :                     		endm
(1)  151/       0 :                     		
(1)  152/       0 :                     ; ====================================================================
(1)  153/       0 :                     ; ---------------------------------------------
(1)  154/       0 :                     ; 32X only
(1)  155/       0 :                     ; ---------------------------------------------
(1)  156/       0 :                     
(1)  157/       0 :                     ; (later)
(1)  158/       0 :                     
(1)  159/       0 :                     
      18/       0 :                     		include "system/md/const.asm"		; Variables and constants
(1)    1/       0 :                     ; ====================================================================
(1)    2/       0 :                     ; ----------------------------------------------------------------
(1)    3/       0 :                     ; Settings
(1)    4/       0 :                     ; ----------------------------------------------------------------
(1)    5/       0 :                     
(1)    6/       0 :                     ; If you want to set your RAM structure below $FF8000, you will
(1)    7/       0 :                     ; need to modify the instructions that locate RAM as a WORD:
(1)    8/       0 :                     ; ($8000-$FFFF)
(1)    9/       0 :                     ; 
(1)   10/       0 :                     ; from (ram_label).w to (ram_label).l
(1)   11/       0 :                     
(1)   12/       0 : =$FFFF8000          MDRAM_START	equ	$FFFF8000		; MD RAM Start, keep the first $FF (Available: $FF0000-$FFFFFF)
(1)   13/       0 : =$2000              MAX_LOCRAM	equ	$2000			; Maximum local RAM for the current screen
(1)   14/       0 : =$10                MAX_PRNTLIST	equ	16			; Maximum print values
(1)   15/       0 :                     
(1)   16/       0 : =$7FF               varNullVram	equ	$7FF			; Blank VRAM cell, for some video routines
(1)   17/       0 :                     
(1)   18/       0 :                     ; ====================================================================
(1)   19/       0 :                     ; ----------------------------------------------------------------
(1)   20/       0 :                     ; Variables
(1)   21/       0 :                     ; ----------------------------------------------------------------
(1)   22/       0 :                     
(1)   23/       0 :                     ; --------------------------------------------------------
(1)   24/       0 :                     ; System
(1)   25/       0 :                     ; --------------------------------------------------------
(1)   26/       0 :                     
(1)   27/       0 :                     ; ------------------------------------------------
(1)   28/       0 :                     ; vdp_ctrl READ bits
(1)   29/       0 :                     ; ------------------------------------------------
(1)   30/       0 :                     
(1)   31/       0 : =$7                 bitVInt 	equ 7			; If a VBlank interrupt started
(1)   32/       0 : =$6                 bitSprOvr	equ 6			; Sprite overflow
(1)   33/       0 : =$5                 bitSprCol	equ 5			; Sprite collision (leftover from MS)
(1)   34/       0 : =$4                 bitOdd		equ 4			; if we are in a Odd frame
(1)   35/       0 : =$3                 bitVBlnk	equ 3			; VBlank
(1)   36/       0 : =$2                 bitHBlnk	equ 2			; HBlank
(1)   37/       0 : =$1                 bitDma		equ 1			; DMA Busy
(1)   38/       0 : =$0                 bitPal		equ 0			; PAL flag (from VDP)
(1)   39/       0 :                     
(1)   40/       0 :                     ; ------------------------------------------------
(1)   41/       0 :                     ; VDP register variables
(1)   42/       0 :                     ; ------------------------------------------------
(1)   43/       0 :                     
(1)   44/       0 :                     ; Register $80
(1)   45/       0 : =$2                 HVStop		equ $02
(1)   46/       0 : =$10                HintEnbl	equ $10
(1)   47/       0 : =$1                 bitHVStop	equ 1
(1)   48/       0 : =$4                 bitHintEnbl	equ 4
(1)   49/       0 :                     
(1)   50/       0 :                     ; Register $81
(1)   51/       0 : =$40                DispEnbl 	equ $40
(1)   52/       0 : =$20                VintEnbl 	equ $20
(1)   53/       0 : =$10                DmaEnbl		equ $10
(1)   54/       0 : =$6                 bitDispEnbl	equ 6
(1)   55/       0 : =$5                 bitVintEnbl	equ 5
(1)   56/       0 : =$4                 bitDmaEnbl	equ 4
(1)   57/       0 : =$3                 bitV30		equ 3
(1)   58/       0 :                     	
(1)   59/       0 :                     ; ------------------------------------------------
(1)   60/       0 :                     ; Controller buttons
(1)   61/       0 :                     ; ------------------------------------------------
(1)   62/       0 :                     
(1)   63/       0 : =$1                 JoyUp		equ $0001
(1)   64/       0 : =$2                 JoyDown		equ $0002
(1)   65/       0 : =$4                 JoyLeft		equ $0004
(1)   66/       0 : =$8                 JoyRight	equ $0008
(1)   67/       0 : =$10                JoyB		equ $0010
(1)   68/       0 : =$20                JoyC		equ $0020
(1)   69/       0 : =$40                JoyA		equ $0040
(1)   70/       0 : =$80                JoyStart	equ $0080
(1)   71/       0 : =$100               JoyZ		equ $0100
(1)   72/       0 : =$200               JoyY		equ $0200
(1)   73/       0 : =$400               JoyX		equ $0400
(1)   74/       0 : =$800               JoyMode		equ $0800
(1)   75/       0 :                     
(1)   76/       0 :                     ; right byte only
(1)   77/       0 : =$0                 bitJoyUp	equ 0
(1)   78/       0 : =$1                 bitJoyDown	equ 1
(1)   79/       0 : =$2                 bitJoyLeft	equ 2
(1)   80/       0 : =$3                 bitJoyRight	equ 3
(1)   81/       0 : =$4                 bitJoyB		equ 4
(1)   82/       0 : =$5                 bitJoyC		equ 5
(1)   83/       0 : =$6                 bitJoyA		equ 6
(1)   84/       0 : =$7                 bitJoyStart	equ 7
(1)   85/       0 :                     
(1)   86/       0 :                     ; left byte only
(1)   87/       0 : =$0                 bitJoyZ		equ 0
(1)   88/       0 : =$1                 bitJoyY		equ 1
(1)   89/       0 : =$2                 bitJoyX		equ 2
(1)   90/       0 : =$3                 bitJoyMode	equ 3
(1)   91/       0 :                     
(1)   92/       0 :                     ; ====================================================================
(1)   93/       0 :                     ; ----------------------------------------------------------------
(1)   94/       0 :                     ; Structures
(1)   95/       0 :                     ; ----------------------------------------------------------------
(1)   96/       0 :                     
(1)   97/       0 :                     ; Controller
(1)   98/       0 : (MACRO)             		struct 0
(1)   98/       0 : =$0                 GLBL_LASTPC     set *
(1)   98/       0 : =$0                 GLBL_LASTORG    set *
(1)   98/       0 :                                     dephase
(1)   98/       0 :                                     phase 0
(1)   99/       0 :                     pad_id		ds.b 1
(1)  100/       1 :                     pad_ver		ds.b 1
(1)  101/       2 :                     on_hold		ds.w 1
(1)  102/       4 :                     on_press	ds.w 1
(1)  103/       6 :                     sizeof_input	ds.l 0
(1)  104/       8 : (MACRO)             		finish
(1)  104/       0 :                                     !org GLBL_LASTORG
(1)  104/       0 :                                     phase GLBL_LASTPC
(1)  105/       0 :                     
(1)  106/       0 :                     ; ====================================================================
(1)  107/       0 :                     ; ----------------------------------------------------------------
(1)  108/       0 :                     ; Alias
(1)  109/       0 :                     ; ----------------------------------------------------------------
(1)  110/       0 :                     
(1)  111/       0 : =$FFFFFFFFFF..      Controller_1	equ RAM_InputData
(1)  112/       0 : =$FFFFFFFFFF..      Controller_2	equ RAM_InputData+sizeof_input
(1)  113/       0 :                     
(1)  114/       0 : =$C0000000          VDP_PALETTE	equ $C0000000				; Palette
(1)  115/       0 : =$40000010          VDP_VSRAM	equ $40000010				; Vertical scroll
(1)  116/       0 :                     
(1)  117/       0 :                     ; ====================================================================
(1)  118/       0 :                     ; ----------------------------------------------------------------
(1)  119/       0 :                     ; MD RAM
(1)  120/       0 :                     ; ----------------------------------------------------------------
(1)  121/       0 :                     
(1)  122/       0 :                     ; This looks bad but it works as intended
(1)  123/       0 :                     
(1)  124/       0 : (MACRO)             		struct MDRAM_START		; Set struct at start of our base RAM
(1)  124/       0 : =$0                 GLBL_LASTPC     set *
(1)  124/       0 : =$0                 GLBL_LASTORG    set *
(1)  124/       0 :                                     dephase
(1)  124/FFFFFFFFFFFF8000 :                                     phase MDRAM_START
(1)  125/FFFFFFFFFFFF8000 :                     
(1)  126/FFFFFFFFFFFF8000 :                     	; --------------------------------
(1)  127/FFFFFFFFFFFF8000 :                     	; First pass, empty sizes
(1)  135/FFFFFFFFFFFF8000 :                     	
(1)  136/FFFFFFFFFFFF8000 :                     	; --------------------------------
(1)  137/FFFFFFFFFFFF8000 :                     	; Second pass, sizes are set
(1)  138/FFFFFFFFFFFF8000 :                     RAM_Global	ds.b sizeof_global-RAM_Global
(1)  139/FFFFFFFFFFFF8004 :                     RAM_Local	ds.b MAX_LOCRAM
(1)  140/FFFFFFFFFFFFA004 :                     RAM_MdSystem	ds.b sizeof_mdsys-RAM_MdSystem
(1)  141/FFFFFFFFFFFFA010 :                     RAM_MdVideo	ds.b sizeof_mdvid-RAM_MdVideo
(1)  142/FFFFFFFFFFFFA08A :                     sizeof_mdram	ds.l 0
(1)  144/FFFFFFFFFFFFA08C :                     	
(1)  145/FFFFFFFFFFFFA08C :                     	; --------------------------------
(1)  146/FFFFFFFFFFFFA08C :                     	; Report RAM usage on pass 5
MD RAM ends at: FFA08A
(1)  148/FFFFFFFFFFFFA08C :                     		message "MD RAM ends at: \{((sizeof_mdram)&$FFFFFF)}"
(1)  150/FFFFFFFFFFFFA08C : (MACRO)             		finish
(1)  150/FFFFFFFFFFFF8000 :                                     !org GLBL_LASTORG
(1)  150/       0 :                                     phase GLBL_LASTPC
(1)  151/       0 :                     
(1)  152/       0 :                     ; ====================================================================
(1)  153/       0 :                     ; ----------------------------------------------------------------
(1)  154/       0 :                     ; System RAM
(1)  155/       0 :                     ; ----------------------------------------------------------------
(1)  156/       0 :                     
(1)  157/       0 : (MACRO)             		struct RAM_MdSystem
(1)  157/       0 : =$0                 GLBL_LASTPC     set *
(1)  157/       0 : =$0                 GLBL_LASTORG    set *
(1)  157/       0 :                                     dephase
(1)  157/FFFFFFFFFFFFA004 :                                     phase RAM_MDSYSTEM
(1)  158/FFFFFFFFFFFFA004 :                     RAM_InputData	ds.b sizeof_input*2			; 2 controller buffers
(1)  159/FFFFFFFFFFFFA010 :                     sizeof_mdsys	ds.l 0
(1)  160/FFFFFFFFFFFFA010 : (MACRO)             		finish
(1)  160/FFFFFFFFFFFFA004 :                                     !org GLBL_LASTORG
(1)  160/       0 :                                     phase GLBL_LASTPC
(1)  161/       0 :                     		
(1)  162/       0 :                     ; ====================================================================
(1)  163/       0 :                     ; ----------------------------------------------------------------
(1)  164/       0 :                     ; Video cache RAM
(1)  165/       0 :                     ; ----------------------------------------------------------------
(1)  166/       0 :                     
(1)  167/       0 : (MACRO)             		struct RAM_MdVideo
(1)  167/       0 : =$0                 GLBL_LASTPC     set *
(1)  167/       0 : =$0                 GLBL_LASTORG    set *
(1)  167/       0 :                                     dephase
(1)  167/FFFFFFFFFFFFA010 :                                     phase RAM_MDVIDEO
(1)  168/FFFFFFFFFFFFA010 :                     RAM_VdpCache	ds.b 24				; List of VDP register data copies
(1)  169/FFFFFFFFFFFFA028 :                     RAM_VidPrntList	ds.w MAX_PRNTLIST*3		; VDP address (2 WORDS), value type (WORD)
(1)  170/FFFFFFFFFFFFA088 :                     RAM_VidPrntVram	ds.w 1				; Current VRAM address for the Print routines
(1)  171/FFFFFFFFFFFFA08A :                     sizeof_mdvid	ds.l 0
(1)  172/FFFFFFFFFFFFA08C : (MACRO)             		finish
(1)  172/FFFFFFFFFFFFA010 :                                     !org GLBL_LASTORG
(1)  172/       0 :                                     phase GLBL_LASTPC
(1)  173/       0 :                     		
(1)  174/       0 :                     ; ====================================================================
(1)  175/       0 :                     ; ----------------------------------------------------------------
(1)  176/       0 :                     ; Sound buffer RAM (68k and Z80)
(1)  177/       0 :                     ; ----------------------------------------------------------------
(1)  178/       0 :                     
(1)  179/       0 :                     ; 		struct RAM_MdSound
(1)  180/       0 :                     ; 		finish
(1)  181/       0 :                     
(1)  182/       0 :                     ; ====================================================================
(1)  183/       0 :                     
      19/       0 :                     		include "system/md/map.asm"		; Memory map
(1)    1/       0 :                     ; ====================================================================
(1)    2/       0 :                     ; ----------------------------------------------------------------
(1)    3/       0 :                     ; Genesis / Mega drive 68k map
(1)    4/       0 :                     ; ----------------------------------------------------------------
(1)    5/       0 :                     
(1)    6/       0 : =$200000            sys_exram	equ	$200000		; External RAM
(1)    7/       0 : =$A00000            z80_cpu		equ	$A00000		; Z80 CPU RAM, size: $2000
(1)    8/       0 : =$A04000            ym_ctrl_1	equ	$A04000		; YM2612 Reg 1, channels 1-3
(1)    9/       0 : =$A04001            ym_data_1	equ	$A04001		; YM2612 Reg 2
(1)   10/       0 : =$A04002            ym_ctrl_2	equ	$A04002		; YM2612 Reg 1, channels 4-6
(1)   11/       0 : =$A04003            ym_data_2	equ	$A04003		; YM2612 Reg 2
(1)   12/       0 : =$A10001            sys_io		equ	$A10001		; bits: OVRSEAS(7)|PAL(6)|DISK(5)|VER(3-0)
(1)   13/       0 : =$A10003            sys_data_1	equ	$A10003		; Port 1 DATA
(1)   14/       0 : =$A10005            sys_data_2	equ	$A10005		; Port 2 DATA
(1)   15/       0 : =$A10007            sys_data_3	equ	$A10007		; Modem DATA
(1)   16/       0 : =$A10009            sys_ctrl_1	equ	$A10009		; Port 1 CTRL
(1)   17/       0 : =$A1000B            sys_ctrl_2	equ	$A1000B		; Port 2 CTRL
(1)   18/       0 : =$A1000D            sys_ctrl_3	equ	$A1000D		; Modem CTRL
(1)   19/       0 : =$A14000            sys_tmss	equ	$A14000		; Write "SEGA" here if ver > 0
(1)   20/       0 : =$A11100            z80_bus 	equ	$A11100		; Only use bit 0 (bit 8 as WORD)
(1)   21/       0 : =$A11200            z80_reset	equ	$A11200		; WRITE only ($0000 reset/$0100 cancel)
(1)   22/       0 : =$A130EC            md_mars_id	equ	$A130EC		; MARS ID "MARS"
(1)   23/       0 : =$A130F1            md_bank_sram	equ	$A130F1		; Make SRAM visible at $200000
(1)   24/       0 : =$C00000            vdp_data	equ	$C00000		; Video data port (mirror: $C00002)
(1)   25/       0 : =$C00004            vdp_ctrl	equ	$C00004		; Video control port (mirror: $C00006)
(1)   26/       0 : =$C00011            psg_ctrl	equ	$C00011		; PSG Sound port
(1)   27/       0 :                     
(1)   28/       0 :                     ; ----------------------------------------------------------------
(1)   29/       0 :                     ; Genesis / Mega drive Z80 map
(1)   30/       0 :                     ; ----------------------------------------------------------------
(1)   31/       0 :                     
(1)   32/       0 : =$4000              zym_ctrl_1	equ	$4000		; YM2612 reg 1
(1)   33/       0 : =$4001              zym_data_1	equ	$4001		; YM2612 reg 2
(1)   34/       0 : =$4002              zym_ctrl_2	equ	$4002		; YM2612 reg 1
(1)   35/       0 : =$4003              zym_data_2	equ	$4003		; YM2612 reg 2
(1)   36/       0 : =$6000              zbank		equ	$6000		; ROM BANK 24bits %XXXXXXXX X0000000 00000000
(1)   37/       0 : =$7F00              zvdp_data	equ	$7F00		; Video data port
(1)   38/       0 : =$7F04              zvdp_ctrl	equ	$7F04		; Video control port
(1)   39/       0 : =$7F11              zpsg_ctrl	equ	$7F11		; PSG control
(1)   40/       0 :                     
(1)   41/       0 :                     ; ----------------------------------------------------------------
(1)   42/       0 :                     ; If a SEGA CD is attached
(1)   43/       0 :                     ; ----------------------------------------------------------------
(1)   44/       0 :                     
(1)   45/       0 : =$20000             syscd_prgram	equ	$020000		; SubCPU PRG-RAM, up to $1FFFF, banked
(1)   46/       0 : =$200000            syscd_wordram	equ	$200000		; WORD-RAM seen in MAIN-CPU
(1)   47/       0 : =$A12000            syscd_bus	equ	$A12000		; WORD | Sub-CPU BUS/RESET
(1)   48/       0 : =$A12003            syscd_memory	equ	$A12003		; BYTE | Sub-CPU memory mode
(1)   49/       0 : =$A12004            syscd_cdcmode	equ	$A12004		; WORD | CDC Mode
(1)   50/       0 : =$A12006            syscd_hint	equ	$A12006		; WORD | VDP HBlank jump ($FFxxxx)
(1)   51/       0 : =$A12008            syscd_cdchost	equ	$A12008		; WORD | CDC Host
(1)   52/       0 : =$A12008            syscd_stopwtch	equ	$A12008		; WORD | Stopwatch
(1)   53/       0 : =$A1200E            syscd_comm_m	equ	$A1200E		; BYTE | MainCPU R/W comm byte
(1)   54/       0 : =$A1200F            syscd_comm_s	equ	$A1200F		; BYTE | Sub-CPU Read comm byte
(1)   55/       0 : =$A12010            syscd_args_m	equ	$A12010		; DATA | Comm R/W list, max size: $E
(1)   56/       0 : =$A12020            syscd_args_s	equ	$A12020		; DATA | Comm Read list, max size: $E
(1)   57/       0 :                     
(1)   58/       0 :                     ; ----------------------------------------------------------------
(1)   59/       0 :                     ; If a 32X is attached
(1)   60/       0 :                     ; ----------------------------------------------------------------
(1)   61/       0 :                     
(1)   62/       0 : =$A130EC            sysmars_ID	equ	$A130EC		; MARS ID "MARS"
(1)   63/       0 : =$A15100            sysmars_reg	equ	$A15100		; MARS 32X buffer (check for mars_ID first)
(1)   64/       0 :                     
      20/       0 :                     		include "game/global.asm"		; Global variables and RAM
(1)    1/       0 :                     ; ====================================================================
(1)    2/       0 :                     ; ----------------------------------------------------------------
(1)    3/       0 :                     ; Put your global structs/values here
(1)    4/       0 :                     ; ----------------------------------------------------------------
(1)    5/       0 :                     
(1)    6/       0 :                     ; ====================================================================
(1)    7/       0 :                     ; --------------------------------------------------------
(1)    8/       0 :                     ; Structures
(1)    9/       0 :                     ; --------------------------------------------------------
(1)   10/       0 :                     
(1)   11/       0 :                     ; ====================================================================
(1)   12/       0 :                     ; --------------------------------------------------------
(1)   13/       0 :                     ; RAM
(1)   14/       0 :                     ; --------------------------------------------------------
(1)   15/       0 :                     
(1)   16/       0 :                     ; ds.b numof_bytes
(1)   17/       0 :                     ; ds.w numof_words (2 bytes)
(1)   18/       0 :                     ; ds.l numof_longs (4 bytes)
(1)   19/       0 : (MACRO)             		struct RAM_Global
(1)   19/       0 : =$0                 GLBL_LASTPC     set *
(1)   19/       0 : =$0                 GLBL_LASTORG    set *
(1)   19/       0 :                                     dephase
(1)   19/FFFFFFFFFFFF8000 :                                     phase RAM_GLOBAL
(1)   20/FFFFFFFFFFFF8000 :                     RAM_GlblNull	ds.l 1
(1)   21/FFFFFFFFFFFF8004 :                     sizeof_global	ds.l 0
(1)   22/FFFFFFFFFFFF8004 : (MACRO)             		finish
(1)   22/FFFFFFFFFFFF8000 :                                     !org GLBL_LASTORG
(1)   22/       0 :                                     phase GLBL_LASTPC
(1)   23/       0 :                     		
(1)   24/       0 :                     
      21/       0 :                     
      22/       0 :                     ; ====================================================================
      23/       0 :                     ; ----------------------------------------------------------------
      24/       0 :                     ; Header
      25/       0 :                     ; ----------------------------------------------------------------
      26/       0 :                     
      27/       0 :                     		include "system/head.asm"		; Header and initialization
(1)    1/       0 :                     ; ====================================================================
(1)    2/       0 :                     ; ----------------------------------------------------------------
(1)    3/       0 :                     ; ROM HEAD
(1)    4/       0 :                     ; 
(1)    5/       0 :                     ; Genesis
(1)    6/       0 :                     ; ----------------------------------------------------------------
(1)    7/       0 :                     
(1)    8/       0 : 0000 0000           		dc.l 0				; Stack point (at end of RAM, goes backwards)
(1)    9/       4 : 0000 0202           		dc.l MD_Entry			; Entry point
(1)   10/       8 : 0000 0200           		dc.l MD_ErrBus			; Bus error
(1)   11/       C : 0000 0200           		dc.l MD_ErrAddr			; Address error
(1)   12/      10 : 0000 0200           		dc.l MD_ErrIll			; ILLEGAL Instruction
(1)   13/      14 : 0000 0200           		dc.l MD_ErrZDiv			; Divide by 0
(1)   14/      18 : 0000 0200           		dc.l MD_ErrChk			; CHK Instruction
(1)   15/      1C : 0000 0200           		dc.l MD_ErrTrapV		; TRAPV Instruction
(1)   16/      20 : 0000 0200           		dc.l MD_ErrPrivl		; Privilege violation
(1)   17/      24 : 0000 0200           		dc.l MD_Trace			; Trace
(1)   18/      28 : 0000 0200           		dc.l MD_Line1010		; Line 1010 Emulator
(1)   19/      2C : 0000 0200           		dc.l MD_Line1111		; Line 1111 Emulator
(1)   20/      30 : 0000 0200           		dc.l MD_ErrorEx			; Error exception
(1)   21/      34 : 0000 0200           		dc.l MD_ErrorEx
(1)   22/      38 : 0000 0200           		dc.l MD_ErrorEx
(1)   23/      3C : 0000 0200           		dc.l MD_ErrorEx
(1)   24/      40 : 0000 0200           		dc.l MD_ErrorEx	
(1)   25/      44 : 0000 0200           		dc.l MD_ErrorEx
(1)   26/      48 : 0000 0200           		dc.l MD_ErrorEx
(1)   27/      4C : 0000 0200           		dc.l MD_ErrorEx
(1)   28/      50 : 0000 0200           		dc.l MD_ErrorEx
(1)   29/      54 : 0000 0200           		dc.l MD_ErrorEx
(1)   30/      58 : 0000 0200           		dc.l MD_ErrorEx
(1)   31/      5C : 0000 0200           		dc.l MD_ErrorEx
(1)   32/      60 : 0000 0200           		dc.l MD_ErrorEx		
(1)   33/      64 : 0000 0200           		dc.l MD_ErrorTrap
(1)   34/      68 : 0000 0200           		dc.l MD_ErrorTrap
(1)   35/      6C : 0000 0200           		dc.l MD_ErrorTrap
(1)   36/      70 : 0000 2C12           		dc.l MD_HBlank			; VDP HBlank interrupt
(1)   37/      74 : 0000 0200           		dc.l MD_ErrorTrap
(1)   38/      78 : 0000 2D2A           		dc.l MD_VBlank			; VDP VBlank interrupt
(1)   39/      7C : 0000 0200           		dc.l MD_ErrorTrap
(1)   40/      80 : 0000 0200           		dc.l MD_ErrorTrap
(1)   41/      84 : 0000 0200           		dc.l MD_ErrorTrap
(1)   42/      88 : 0000 0200           		dc.l MD_ErrorTrap
(1)   43/      8C : 0000 0200           		dc.l MD_ErrorTrap
(1)   44/      90 : 0000 0200           		dc.l MD_ErrorTrap
(1)   45/      94 : 0000 0200           		dc.l MD_ErrorTrap
(1)   46/      98 : 0000 0200           		dc.l MD_ErrorTrap
(1)   47/      9C : 0000 0200           		dc.l MD_ErrorTrap
(1)   48/      A0 : 0000 0200           		dc.l MD_ErrorTrap
(1)   49/      A4 : 0000 0200           		dc.l MD_ErrorTrap
(1)   50/      A8 : 0000 0200           		dc.l MD_ErrorTrap
(1)   51/      AC : 0000 0200           		dc.l MD_ErrorTrap
(1)   52/      B0 : 0000 0200           		dc.l MD_ErrorTrap
(1)   53/      B4 : 0000 0200           		dc.l MD_ErrorTrap
(1)   54/      B8 : 0000 0200           		dc.l MD_ErrorTrap
(1)   55/      BC : 0000 0200           		dc.l MD_ErrorTrap
(1)   56/      C0 : 0000 0200           		dc.l MD_ErrorTrap
(1)   57/      C4 : 0000 0200           		dc.l MD_ErrorTrap
(1)   58/      C8 : 0000 0200           		dc.l MD_ErrorTrap
(1)   59/      CC : 0000 0200           		dc.l MD_ErrorTrap
(1)   60/      D0 : 0000 0200           		dc.l MD_ErrorTrap
(1)   61/      D4 : 0000 0200           		dc.l MD_ErrorTrap
(1)   62/      D8 : 0000 0200           		dc.l MD_ErrorTrap
(1)   63/      DC : 0000 0200           		dc.l MD_ErrorTrap
(1)   64/      E0 : 0000 0200           		dc.l MD_ErrorTrap
(1)   65/      E4 : 0000 0200           		dc.l MD_ErrorTrap
(1)   66/      E8 : 0000 0200           		dc.l MD_ErrorTrap
(1)   67/      EC : 0000 0200           		dc.l MD_ErrorTrap
(1)   68/      F0 : 0000 0200           		dc.l MD_ErrorTrap
(1)   69/      F4 : 0000 0200           		dc.l MD_ErrorTrap
(1)   70/      F8 : 0000 0200           		dc.l MD_ErrorTrap
(1)   71/      FC : 0000 0200           		dc.l MD_ErrorTrap
(1)   72/     100 : 5345 4741 2047 454E 		dc.b "SEGA GENESIS    "					; System name, the "SEGA" word is required
                    4553 4953 2020 2020 
(1)   73/     110 : 2843 294E 414D 4520 		dc.b "(C)NAME 2019.JAN"					; "(C)[company] [year].[month]"
                    3230 3139 2E4A 414E 
(1)   74/     120 : 5075 6C73 654D 696E 		dc.b "PulseMini driver de sonido                      " ; Your game title in your country
                    6920 6472 6976 6572 
                    2064 6520 736F 6E69 
                    646F 2020 2020 2020 
                    2020 2020 2020 2020 
                    2020 2020 2020 2020 
(1)   75/     150 : 5075 6C73 654D 696E 		dc.b "PulseMini sound driver                          "	; Your game title outside of your country
                    6920 736F 756E 6420 
                    6472 6976 6572 2020 
                    2020 2020 2020 2020 
                    2020 2020 2020 2020 
                    2020 2020 2020 2020 
(1)   76/     180 : 474D 2030 3030 3030 		dc.b "GM 00000000-00"					; Serial number and version
                    3030 302D 3030      
(1)   77/     18E : 0000                		dc.w 0							; Checksum, leave it zero if not needed
(1)   78/     190 : 4A20 2020 2020 2020 		dc.b "J               "					; Peripherals supported, "J" is 3-button controller
                    2020 2020 2020 2020 
(1)   79/     1A0 : 0000 0000           		dc.l 0							; ROM Start address, always 0
(1)   80/     1A4 : 0003 7815           		dc.l ROM_END-1						; ROM End address - 1
(1)   81/     1A8 : 00FF 0000           		dc.l $FF0000						; RAM Start address, always $FF0000
(1)   82/     1AC : 00FF FFFF           		dc.l $FFFFFF						; RAM Start address, always $FFFFFF
(1)   83/     1B0 : 5241 F820           		dc.b "RA",$F8,$20
(1)   84/     1B4 : 0020 0001           		dc.l $200001
(1)   85/     1B8 : 0020 FFFF           		dc.l $20FFFF
(1)   86/     1BC : 2020 2020           		dc.l $20202020						; Modem data, not used
(1)   87/     1C0 : 2020 2020           		dc.l $20202020
(1)   88/     1C4 : 2020 2020           		dc.l $20202020
(1)   89/     1C8 : 4472 6976 6572 206E 		dc.b "Driver name might get changed later.    "		; Memo
                    616D 6520 6D69 6768 
                    7420 6765 7420 6368 
                    616E 6765 6420 6C61 
                    7465 722E 2020 2020 
(1)   90/     1F0 : 4A55 4520 2020 2020 		dc.b "JUE             "					; Allowed regions: Japan, United states and Europe
                    2020 2020 2020 2020 
(1)   91/     200 :                     
(1)   92/     200 :                     ; ====================================================================
(1)   93/     200 :                     ; ----------------------------------------------------------------
(1)   94/     200 :                     ; Error handlers
(1)   95/     200 :                     ; 
(1)   96/     200 :                     ; all these do nothing currently
(1)   97/     200 :                     ; ----------------------------------------------------------------
(1)   98/     200 :                     
(1)   99/     200 :                     MD_ErrBus:				; Bus error
(1)  100/     200 :                     MD_ErrAddr:				; Address error
(1)  101/     200 :                     MD_ErrIll:				; ILLEGAL Instruction
(1)  102/     200 :                     MD_ErrZDiv:				; Divide by 0
(1)  103/     200 :                     MD_ErrChk:				; CHK Instruction
(1)  104/     200 :                     MD_ErrTrapV:				; TRAPV Instruction
(1)  105/     200 :                     MD_ErrPrivl:				; Privilege violation
(1)  106/     200 :                     MD_Trace:				; Trace
(1)  107/     200 :                     MD_Line1010:				; Line 1010 Emulator
(1)  108/     200 :                     MD_Line1111:				; Line 1111 Emulator
(1)  109/     200 :                     MD_ErrorEx:				; Error exception
(1)  110/     200 :                     MD_ErrorTrap:
(1)  111/     200 : 4E73                		rte			; Return from Exception
(1)  112/     202 :                     
(1)  113/     202 :                     ; ====================================================================
(1)  114/     202 :                     ; ----------------------------------------------------------------
(1)  115/     202 :                     ; Entry point
(1)  116/     202 :                     ; ----------------------------------------------------------------
(1)  117/     202 :                     
(1)  118/     202 :                     MD_Entry:
(1)  119/     202 :                     	; --------------------------------
(1)  120/     202 :                     	; Check if the system has TMSS
(1)  121/     202 : 46FC 2700           		move	#$2700,sr			; Disable interrputs
(1)  122/     206 : 1039 00A1 0001      		move.b	(sys_io).l,d0			; Read IO port
(1)  123/     20C : 0200 000F           		andi.b	#%1111,d0			; Get version, right 4 bits
(1)  124/     210 : 670A                		beq.s	.oldmd				; If == 0, skip this part
(1)  125/     212 : 23F9 0000 0100 00A1 		move.l	($100).l,(sys_tmss).l		; Write "SEGA" to port sys_tmss
                    4000                
(1)  126/     21C :                     .oldmd:
(1)  127/     21C : 4A79 00C0 0004      		tst.w	(vdp_ctrl).l			; Random VDP test, to unlock it
(1)  128/     222 :                     		
(1)  129/     222 :                     	; --------------------------------
(1)  130/     222 : 7000                		moveq	#0,d0				; d0 = 0
(1)  131/     224 : 2C40                		movea.l	d0,a6				; a6 = d0
(1)  132/     226 : 4E66                		move.l	a6,usp				; move a6 to usp
(1)  133/     228 : 3039 00C0 0004      .waitframe:	move.w	(vdp_ctrl).l,d0			; Wait for VBlank
(1)  134/     22E : 0800 0007           		btst	#bitVint,d0
(1)  135/     232 : 67F4                		beq.s	.waitframe
(1)  136/     234 : 23FC 8004 8144 00C0 		move.l	#$80048144,(vdp_ctrl).l		; VDP: Set special bits, and keep Display (TMSS screen stays on)
                    0004                
(1)  137/     23E : 41F9 FFFF 0000      		lea	($FFFF0000),a0			; a0 - RAM Address
(1)  138/     244 : 303C 3BFF           		move.w	#($F000/4)-1,d0			; d0 - Bytes to clear / 4, minus 1
(1)  139/     248 :                     .clrram:
(1)  140/     248 : 4298                		clr.l	(a0)+				; Clear 4 bytes, and increment by 4
(1)  141/     24A : 51C8 FFFC           		dbf	d0,.clrram			; Loop until d0 == 0
(1)  142/     24E : 4CF9 7FFF 00FF 0000 		movem.l	($FF0000),d0-a6			; Trick: Grab clean RAM memory to clear all registers except a7 (Stack point)
(1)  143/     256 : 6000 29BC           		bra	MD_Main				; Branch to MD_Main
(1)  144/     25A :                     
      28/     25A :                     
      29/     25A :                     ; ====================================================================
      30/     25A :                     ; CODE Section
      31/     25A :                     ; ====================================================================
      32/     25A :                     
      33/     25A :                     ; ====================================================================
      34/     25A :                     ; ----------------------------------------------------------------
      35/     25A :                     ; System functions
      36/     25A :                     ; ----------------------------------------------------------------
      37/     25A :                     
      38/     25A :                     		include "system/md/sound/main.asm"	; Sound
(1)    1/     25A :                     ; ====================================================================
(1)    2/     25A :                     ; ----------------------------------------------------------------
(1)    3/     25A :                     ; Sound
(1)    4/     25A :                     ; ----------------------------------------------------------------
(1)    5/     25A :                     
(1)    6/     25A :                     ; --------------------------------------------------------
(1)    7/     25A :                     ; Init Sound
(1)    8/     25A :                     ; 
(1)    9/     25A :                     ; Uses:
(1)   10/     25A :                     ; a0-a1,d0-d1
(1)   11/     25A :                     ; --------------------------------------------------------
(1)   12/     25A :                     
(1)   13/     25A :                     Sound_Init:
(1)   14/     25A : 33FC 0100 00A1 1100 		move.w	#$0100,(z80_bus).l		; Stop Z80
(1)   15/     262 : 13FC 0001 00A1 1200 		move.b	#1,(z80_reset).l		; Reset
(1)   16/     26A :                     .wait:
(1)   17/     26A : 0839 0000 00A1 1100 		btst	#0,(z80_bus).l			; Wait for it
(1)   18/     272 : 66F6                		bne.s	.wait
(1)   19/     274 : 41F9 00A0 0000      		lea	(z80_cpu).l,a0
(1)   20/     27A : 303C 1FFF           		move.w	#$1FFF,d0
(1)   21/     27E : 7200                		moveq	#0,d1
(1)   22/     280 :                     .cleanup:
(1)   23/     280 : 10C1                		move.b	d1,(a0)+
(1)   24/     282 : 51C8 FFFC           		dbf	d0,.cleanup
(1)   25/     286 : 41F9 0000 0400      		lea	(Z80_CODE).l,a0			; Send this code
(1)   26/     28C : 43F9 00A0 0000      		lea	(z80_cpu).l,a1
(1)   27/     292 : 303C 14E7           		move.w	#(Z80_CODE_END-Z80_CODE)-1,d0
(1)   28/     296 :                     .copy:
(1)   29/     296 : 12D8                		move.b	(a0)+,(a1)+
(1)   30/     298 : 51C8 FFFC           		dbf	d0,.copy
(1)   31/     29C : 13FC 0001 00A1 1200 		move.b	#1,(z80_reset).l		; Reset
(1)   32/     2A4 : 4E71                		nop 
(1)   33/     2A6 : 4E71                		nop 
(1)   34/     2A8 : 4E71                		nop 
(1)   35/     2AA : 33FC 0000 00A1 1100 		move.w	#0,(z80_bus).l
(1)   36/     2B2 : 4E75                		rts
(1)   37/     2B4 :                     		
(1)   38/     2B4 :                     ; ====================================================================
(1)   39/     2B4 :                     ; ----------------------------------------------------------------
(1)   40/     2B4 :                     ; Subroutines
(1)   41/     2B4 :                     ; ----------------------------------------------------------------
(1)   42/     2B4 :                     
(1)   43/     2B4 :                     ; --------------------------------------------------------
(1)   44/     2B4 :                     ; Sound_SetTrack
(1)   45/     2B4 :                     ; 
(1)   46/     2B4 :                     ; Input:
(1)   47/     2B4 :                     ; d0 | LONG - Track blocks (Z80 WORD) | Track pattern (Z80 WORD)
(1)   48/     2B4 :                     ; d1 | LONG - Track instruments (Z80 WORD) | ROM bank 
(1)   49/     2B4 :                     ; d2 | LONG - 00 | Start Block | Tempo bits | Ticks
(1)   50/     2B4 :                     ; d3 | WORD - Slot
(1)   51/     2B4 :                     ; --------------------------------------------------------
(1)   52/     2B4 :                     
(1)   53/     2B4 :                     Sound_SetTrack:
(1)   54/     2B4 : 33FC 0100 00A1 1100 		move.w	#$0100,(z80_bus).l
(1)   55/     2BC :                     .wait:
(1)   56/     2BC : 0839 0000 00A1 1100 		btst	#0,(z80_bus).l
(1)   57/     2C4 : 66F6                		bne.s	.wait
(1)   58/     2C6 :                     
(1)   59/     2C6 : 3803                		move.w	d3,d4
(1)   60/     2C8 : D844                		add.w	d4,d4
(1)   61/     2CA : D844                		add.w	d4,d4
(1)   62/     2CC : 287B 4050           		movea.l	SndDrv_TrckBuffers(pc,d4.w),a4
(1)   63/     2D0 :                     
(1)   64/     2D0 : 2800                		move.l	d0,d4
(1)   65/     2D2 : 1944 0002           		move.b	d4,trck_ReqPatt(a4)
(1)   66/     2D6 : E08C                		lsr.l	#8,d4
(1)   67/     2D8 : 1944 0003           		move.b	d4,trck_ReqPatt+1(a4)
(1)   68/     2DC : E08C                		lsr.l	#8,d4
(1)   69/     2DE : 1884                		move.b	d4,trck_ReqBlk(a4)
(1)   70/     2E0 : E08C                		lsr.l	#8,d4
(1)   71/     2E2 : 1944 0001           		move.b	d4,trck_ReqBlk+1(a4)
(1)   72/     2E6 :                     
(1)   73/     2E6 : 2801                		move.l	d1,d4
(1)   74/     2E8 : 4844                		swap	d4
(1)   75/     2EA : 1944 0004           		move.b	d4,trck_ReqIns(a4)
(1)   76/     2EE : E04C                		lsr.w	#8,d4
(1)   77/     2F0 : 1944 0005           		move.b	d4,trck_ReqIns+1(a4)
(1)   78/     2F4 : 4844                		swap	d4
(1)   79/     2F6 : 1944 0009           		move.b	d4,trck_ReqSndBnk(a4)
(1)   80/     2FA :                     		
(1)   81/     2FA : 2802                		move.l	d2,d4	
(1)   82/     2FC : 1944 0006           		move.b	d4,trck_ReqTicks(a4)		; Ticks
(1)   83/     300 : E08C                		lsr.l	#8,d4
(1)   84/     302 : 1944 0007           		move.b	d4,trck_ReqTempo(a4)		; Tempo
(1)   85/     306 : E08C                		lsr.l	#8,d4
(1)   86/     308 : 1944 0008           		move.b	d4,trck_ReqCurrBlk(a4)		; Block start
(1)   87/     30C :                     
(1)   88/     30C : 383C 0001           		move.w	#1,d4
(1)   89/     310 : 1944 000A           		move.b	d4,trck_ReqFlag(a4)		; Request $01, set and play song
(1)   90/     314 :                     		
(1)   91/     314 : 33FC 0000 00A1 1100 		move.w	#0,(z80_bus).l
(1)   92/     31C : 4E75                		rts
(1)   93/     31E :                     
(1)   94/     31E :                     SndDrv_TrckBuffers:
(1)   95/     31E : 00A0 0E30           		dc.l SndBuff_Track_1|Z80_CPU
(1)   96/     322 : 00A0 0E50           		dc.l SndBuff_Track_2|Z80_CPU
(1)   97/     326 :                     
(1)   98/     326 :                     ; --------------------------------------------------------
(1)   99/     326 :                     ; Sound_Stop
(1)  100/     326 :                     ; 
(1)  101/     326 :                     ; Input:
(1)  102/     326 :                     ; d0 | WORD - Request Type
(1)  103/     326 :                     ; d1 | WORD - Slot
(1)  104/     326 :                     ; --------------------------------------------------------
(1)  105/     326 :                     
(1)  106/     326 :                     Sound_StopTrack:
(1)  107/     326 : 33FC 0100 00A1 1100 		move.w	#$0100,(z80_bus).l
(1)  108/     32E :                     .wait:
(1)  109/     32E : 0839 0000 00A1 1100 		btst	#0,(z80_bus).l
(1)  110/     336 : 66F6                		bne.s	.wait
(1)  111/     338 :                     
(1)  112/     338 : 3801                		move.w	d1,d4
(1)  113/     33A : D844                		add.w	d4,d4
(1)  114/     33C : D844                		add.w	d4,d4
(1)  115/     33E : 287B 40DE           		movea.l	SndDrv_TrckBuffers(pc,d4.w),a4
(1)  116/     342 : 3800                		move.w	d0,d4
(1)  117/     344 : 1944 000A           		move.b	d4,trck_ReqFlag(a4)
(1)  118/     348 :                     
(1)  119/     348 : 33FC 0000 00A1 1100 		move.w	#0,(z80_bus).l
(1)  120/     350 : 4E75                		rts
(1)  121/     352 :                     
(1)  122/     352 :                     ; ====================================================================
(1)  123/     352 :                     ; ----------------------------------------------------------------
(1)  124/     352 :                     ; Z80 Code
(1)  125/     352 :                     ; 
(1)  126/     352 :                     ; Maximum size: 2000h-stack
(1)  127/     352 :                     ; ----------------------------------------------------------------
(1)  128/     352 :                     
(1)  129/     352 :                     		align $100
(1)  130/     400 :                     Z80_CODE:
(1)  131/     400 :                     		cpu Z80				; [AS] Set to Z80
(1)  132/       0 :                     		phase 0				; [AS] Reset PC to zero, for this section
(1)  133/       0 :                     		
(1)  134/       0 :                     ; ====================================================================
(1)  135/       0 :                     ; Z80 goes here
(1)  136/       0 :                     
(1)  137/       0 :                     		include "system/md/sound/z80.asm"
(2)    1/       0 :                     ; ====================================================================
(2)    2/       0 :                     ; ----------------------------------------------------------------
(2)    3/       0 :                     ; Z80 Code
(2)    4/       0 :                     ; ----------------------------------------------------------------
(2)    5/       0 :                     
(2)    6/       0 : =AH                 MAX_CHNLS	equ	10			; Only first 10 are used
(2)    7/       0 : =2H                 MAX_TRACKS	equ	2
(2)    8/       0 :                     
(2)    9/       0 :                     ; --------------------------------------------------------
(2)   10/       0 :                     ; Init
(2)   11/       0 :                     ; --------------------------------------------------------
(2)   12/       0 :                     
(2)   13/       0 : F3                  		di				; Disable interrputs
(2)   14/       1 : ED 56               		im	1			; Interrput mode 1
(2)   15/       3 : 31 00 20            		ld	sp,2000h		; Set stack at the end of Z80
(2)   16/       6 : 18 33               		jr	z80_init		; Jump to z80_init
(2)   17/       8 :                     
(2)   18/       8 :                     ; --------------------------------------------------------
(2)   19/       8 :                     ; RST 0008h
(2)   20/       8 :                     ; 
(2)   21/       8 :                     ; Set ROM Bank
(2)   22/       8 :                     ; ; a - 0xxx xxxx x0000 0000
(2)   23/       8 :                     ; --------------------------------------------------------
(2)   24/       8 :                     
(2)   25/       8 : (MACRO)             		org 0008h
(2)   26/       8 : E5                  		push	hl
(2)   27/       9 : 21 00 60            		ld	hl,zbank
(2)   28/       C : 77                  		ld	(hl),a
(2)   29/       D : 0F                  		rrca
(2)   30/       E : 77                  		ld	(hl),a
(2)   31/       F : 0F                  		rrca
(2)   32/      10 : 77                  		ld	(hl),a
(2)   33/      11 : 0F                  		rrca
(2)   34/      12 : 77                  		ld	(hl),a
(2)   35/      13 : 0F                  		rrca
(2)   36/      14 : 77                  		ld	(hl),a
(2)   37/      15 : 0F                  		rrca
(2)   38/      16 : 77                  		ld	(hl),a
(2)   39/      17 : 0F                  		rrca
(2)   40/      18 : 77                  		ld	(hl),a
(2)   41/      19 : 0F                  		rrca
(2)   42/      1A : 77                  		ld	(hl),a
(2)   43/      1B : AF                  		xor	a
(2)   44/      1C : 77                  		ld	(hl),a
(2)   45/      1D : E1                  		pop	hl
(2)   46/      1E : C9                  		ret
(2)   47/      1F :                     		
(2)   48/      1F :                     ; ----------------------------------------------------
(2)   49/      1F :                     ; DAC Sample buffer
(2)   50/      1F :                     ; ----------------------------------------------------
(2)   51/      1F :                     
(2)   52/      1F : 00                  Sample_Flags	db 00000000b				; Request
(2)   53/      20 : 00                  Sample_Read	db 0					; Read
(2)   54/      21 : 00 00               		dw 0;(WavIns_Pursuit&7FFFh)|8000h	
(2)   55/      23 : 00                  		db 0;WavIns_Pursuit>>15
(2)   56/      24 : 00 00               Sample_Start	dw 0;(WavIns_Pursuit&7FFFh)|8000h	; Start
(2)   57/      26 : 00                  		db 0;WavIns_Pursuit>>15
(2)   58/      27 : 00 00               Sample_End	dw 0;(WavIns_Pursuit_e&7FFFh)|8000h	; End
(2)   59/      29 : 00                  		db 0;WavIns_Pursuit_e>>15
(2)   60/      2A : 00 00               Sample_Loop	dw 0;(WavIns_Pursuit&7FFFh)|8000h	; Loop
(2)   61/      2C : 00                  		db 0;WavIns_Pursuit>>15
(2)   62/      2D : 00 01               Sample_Speed	dw 0100h				; update me with bit 1 on Sample_Flags
(2)   63/      2F :                     
(2)   64/      2F :                     ; --------------------------------------------------------
(2)   65/      2F :                     
(2)   66/      2F : C3                  curr_Jsr	db 0C3h					; (moved here)
(2)   67/      30 : 00 00               		dw 0
(2)   68/      32 : 00                  curr_SndBank	db 0					; Current ROM bank for pulsemini
(2)   69/      33 : 00                  curr_NoiseMode	db 0					; Current PSG Noise mode
(2)   70/      34 :                     
(2)   71/      34 :                     ; --------------------------------------------------------
(2)   72/      34 :                     ; Z80 Interrupt at 0038h
(2)   73/      34 :                     ; 
(2)   74/      34 :                     ; VBlank only
(2)   75/      34 :                     ; --------------------------------------------------------
(2)   76/      34 :                     
(2)   77/      34 : (MACRO)             		org 0038h			; align to 0038h
(2)   77/      34 : 00                                                  db 0
(2)   77/      35 : 00                                                  db 0
(2)   77/      36 : 00                                                  db 0
(2)   77/      37 : 00                                                  db 0
(2)   77/      38 :                     
(2)   78/      38 : C3 6C 01            		jp	z80_int
(2)   79/      3B :                     		
(2)   80/      3B :                     ; --------------------------------------------------------
(2)   81/      3B :                     ; Z80 Init
(2)   82/      3B :                     ; --------------------------------------------------------
(2)   83/      3B :                     
(2)   84/      3B :                     z80_init:
(2)   85/      3B : CD 9A 01            		call	SndDrv_Init
(2)   86/      3E : FB                  		ei
(2)   87/      3F :                     
(2)   88/      3F :                     ; --------------------------------------------------------
(2)   89/      3F :                     ; Sample playback LOOP
(2)   90/      3F :                     ; --------------------------------------------------------
(2)   91/      3F :                     
(2)   92/      3F :                     .loop:
(2)   93/      3F : 3A 1F 00            		ld	a,(Sample_Flags)
(2)   94/      42 : B7                  		or	a
(2)   95/      43 : F2 E8 00            		jp	p,.request
(2)   96/      46 : 3E 2A               		ld	a,2Ah
(2)   97/      48 : 32 00 40            		ld	(zym_ctrl_1),a
(2)   98/      4B : 2A 21 00            		ld	hl,(Sample_Read+1)
(2)   99/      4E : 7E                  		ld	a,(hl)
(2)  100/      4F : 09                  		add	hl,bc
(2)  101/      50 : DA 96 00            		jp	c,.exit
(2)  102/      53 : 32 01 40            		ld	(zym_data_1),a
(2)  103/      56 : 2A 20 00            		ld	hl,(Sample_Read)	; 0000XX.XX
(2)  104/      59 : 19                  		add 	hl,de
(2)  105/      5A : 22 20 00            		ld	(Sample_Read),hl
(2)  106/      5D : D2 3F 00            		jp	nc,.loop
(2)  107/      60 : 3A 22 00            		ld	a,(Sample_Read+2)	; 00XX00.00
(2)  108/      63 : 3C                  		inc 	a
(2)  109/      64 : 32 22 00            		ld	(Sample_Read+2),a
(2)  110/      67 : FA 3F 00            		jp	m,.loop
(2)  111/      6A : 3A 23 00            		ld	a,(Sample_Read+3)	; XX8000.00
(2)  112/      6D : 3C                  		inc	a
(2)  113/      6E : 67                  		ld	h,a
(2)  114/      6F : 32 23 00            		ld	(Sample_Read+3),a
(2)  115/      72 : CF                  		rst	8
(2)  116/      73 : 3A 22 00            		ld	a,(Sample_Read+2)
(2)  117/      76 : F6 80               		or	80h
(2)  118/      78 : 32 22 00            		ld	(Sample_Read+2),a
(2)  119/      7B : 01 00 00            		ld	bc,0
(2)  120/      7E : 3A 29 00            		ld	a,(Sample_End+2)
(2)  121/      81 : BC                  		cp	h
(2)  122/      82 : C2 3F 00            		jp	nz,.loop
(2)  123/      85 : 2A 27 00            		ld	hl,(Sample_End)
(2)  124/      88 : ED 4B 27 00         		ld	bc,(Sample_End)
(2)  125/      8C : 3F                  		ccf
(2)  126/      8D : ED 42               		sbc 	hl,bc
(2)  127/      8F : 3F                  		ccf
(2)  128/      90 : ED 42               		sbc 	hl,bc
(2)  129/      92 : 44                  		ld	b,h
(2)  130/      93 : 4D                  		ld	c,l
(2)  131/      94 : 18 A9               		jr	.loop
(2)  132/      96 :                     
(2)  133/      96 :                     ; ------------------------------------------------
(2)  134/      96 :                     ; WAV Exit
(2)  135/      96 :                     ; ------------------------------------------------
(2)  136/      96 :                     
(2)  137/      96 :                     .exit:
(2)  138/      96 : 3A 1F 00            		ld	a,(Sample_Flags)
(2)  139/      99 : CB BF               		res	7,a
(2)  140/      9B : 32 1F 00            		ld	(Sample_Flags),a
(2)  141/      9E : CB 77               		bit 	6,a
(2)  142/      A0 : CA DC 00            		jp	z,.full_stop
(2)  143/      A3 :                     
(2)  144/      A3 : AF                  		xor	a
(2)  145/      A4 : 32 20 00            		ld	(Sample_Read),a
(2)  146/      A7 : 2A 2A 00            		ld	hl,(Sample_Loop)
(2)  147/      AA : 3A 2C 00            		ld	a,(Sample_Loop+2)
(2)  148/      AD : 32 23 00            		ld	(Sample_Read+3),a
(2)  149/      B0 : 22 21 00            		ld	(Sample_Read+1),hl
(2)  150/      B3 : CF                  		rst	8
(2)  151/      B4 :                     		
(2)  152/      B4 : 3A 1F 00            		ld	a,(Sample_Flags)
(2)  153/      B7 : CB FF               		set	7,a
(2)  154/      B9 : 32 1F 00            		ld	(Sample_Flags),a
(2)  155/      BC : 01 00 00            		ld	bc,0
(2)  156/      BF : 3A 23 00            		ld	a,(Sample_Read+3)
(2)  157/      C2 : 67                  		ld	h,a
(2)  158/      C3 : 3A 29 00            		ld	a,(Sample_End+2)
(2)  159/      C6 : BC                  		cp	h
(2)  160/      C7 : C2 3F 00            		jp	nz,.loop
(2)  161/      CA : 2A 27 00            		ld	hl,(Sample_End)
(2)  162/      CD : ED 4B 27 00         		ld	bc,(Sample_End)
(2)  163/      D1 : 3F                  		ccf
(2)  164/      D2 : ED 42               		sbc 	hl,bc
(2)  165/      D4 : 3F                  		ccf
(2)  166/      D5 : ED 42               		sbc 	hl,bc
(2)  167/      D7 : 44                  		ld	b,h
(2)  168/      D8 : 4D                  		ld	c,l
(2)  169/      D9 : C3 3F 00            		jp	.loop
(2)  170/      DC :                     
(2)  171/      DC :                     ; ----------------------------------------
(2)  172/      DC :                     
(2)  173/      DC :                     .full_stop:
(2)  174/      DC : 3E 2B               		ld	a,2Bh
(2)  175/      DE : 32 00 40            		ld	(zym_ctrl_1),a
(2)  176/      E1 : AF                  		xor	a
(2)  177/      E2 : 32 01 40            		ld	(zym_data_1),a
(2)  178/      E5 : 32 1F 00            		ld	(Sample_Flags),a
(2)  179/      E8 :                     		
(2)  180/      E8 :                     ; ------------------------------------------------
(2)  181/      E8 :                     ; WAV Request
(2)  182/      E8 :                     ; ------------------------------------------------
(2)  183/      E8 :                     
(2)  184/      E8 :                     .request:
(2)  185/      E8 : 3A 1F 00            		ld	a,(Sample_Flags)
(2)  186/      EB : CB 57               		bit 	2,a
(2)  187/      ED : C2 4C 01            		jp	nz,.pitch
(2)  188/      F0 : CB 77               		bit	6,a
(2)  189/      F2 : C2 5D 01            		jp	nz,.turn_off
(2)  190/      F5 : B7                  		or	a
(2)  191/      F6 : CA E8 00            		jp	z,.request
(2)  192/      F9 :                     		
(2)  193/      F9 :                     ; ----------------------------------------
(2)  194/      F9 :                     
(2)  195/      F9 :                     .restart:
(2)  196/      F9 : 3E 2B               		ld	a,2Bh
(2)  197/      FB : 32 00 40            		ld	(zym_ctrl_1),a
(2)  198/      FE : 3E 80               		ld	a,80h
(2)  199/     100 : 32 01 40            		ld	(zym_data_1),a
(2)  200/     103 : 01 00 00            		ld	bc,0
(2)  201/     106 : 3A 1F 00            		ld	a,(Sample_Flags)
(2)  202/     109 : F6 80               		or	10000000b
(2)  203/     10B : CB 4F               		bit 	1,a			; LOOP bit?
(2)  204/     10D : CA 12 01            		jp	z,.nlpfl
(2)  205/     110 : F6 40               		or	01000000b
(2)  206/     112 :                     .nlpfl:
(2)  207/     112 : E6 F0               		and 	11110000b
(2)  208/     114 : 32 1F 00            		ld	(Sample_Flags),a
(2)  209/     117 : ED 5B 2D 00         		ld	de,(Sample_Speed)
(2)  210/     11B :                     		
(2)  211/     11B : AF                  		xor	a
(2)  212/     11C : 32 20 00            		ld	(Sample_Read),a
(2)  213/     11F : 2A 24 00            		ld	hl,(Sample_Start)
(2)  214/     122 : 3A 26 00            		ld	a,(Sample_Start+2)
(2)  215/     125 : 22 21 00            		ld	(Sample_Read+1),hl
(2)  216/     128 : 32 23 00            		ld	(Sample_Read+3),a
(2)  217/     12B : CF                  		rst 	8
(2)  218/     12C :                     
(2)  219/     12C : 01 00 00            		ld	bc,0			; full size
(2)  220/     12F : 3A 26 00            		ld	a,(Sample_Start+2)
(2)  221/     132 : 67                  		ld	h,a
(2)  222/     133 : 3A 29 00            		ld	a,(Sample_End+2)
(2)  223/     136 : BC                  		cp	h
(2)  224/     137 : C2 3F 00            		jp	nz,.loop
(2)  225/     13A : 2A 27 00            		ld	hl,(Sample_End)
(2)  226/     13D : ED 4B 27 00         		ld	bc,(Sample_End)
(2)  227/     141 : 3F                  		ccf
(2)  228/     142 : ED 42               		sbc 	hl,bc
(2)  229/     144 : 3F                  		ccf
(2)  230/     145 : ED 42               		sbc 	hl,bc
(2)  231/     147 : 44                  		ld	b,h
(2)  232/     148 : 4D                  		ld	c,l
(2)  233/     149 : C3 3F 00            		jp	.loop
(2)  234/     14C :                     
(2)  235/     14C :                     ; ----------------------------------------
(2)  236/     14C :                     
(2)  237/     14C :                     .pitch:
(2)  238/     14C : ED 5B 2D 00         		ld	de,(Sample_Speed)
(2)  239/     150 : 3A 1F 00            		ld	a,(Sample_Flags)
(2)  240/     153 : E6 FB               		and	11111011b
(2)  241/     155 : F6 80               		or	80h
(2)  242/     157 : 32 1F 00            		ld	(Sample_Flags),a
(2)  243/     15A : C3 3F 00            		jp	.loop
(2)  244/     15D :                     
(2)  245/     15D :                     ; ------------------------------------------------
(2)  246/     15D :                     ; Stop WAV
(2)  247/     15D :                     ; ------------------------------------------------
(2)  248/     15D :                     
(2)  249/     15D :                     .turn_off:
(2)  250/     15D : 3E 2B               		ld	a,2Bh
(2)  251/     15F : 32 00 40            		ld	(zym_ctrl_1),a
(2)  252/     162 : AF                  		xor	a
(2)  253/     163 : 32 1F 00            		ld	(Sample_Flags),a
(2)  254/     166 : 32 01 40            		ld	(zym_data_1),a
(2)  255/     169 : C3 3F 00            		jp	.loop
(2)  256/     16C :                     		
(2)  257/     16C :                     ; ====================================================================
(2)  258/     16C :                     ; ----------------------------------------------------------------
(2)  259/     16C :                     ; FM/PSG track player
(2)  260/     16C :                     ; 
(2)  261/     16C :                     ; ticks: 150 + trck_tempo_bits*10
(2)  262/     16C :                     ; speed: trck_speed - 1
(2)  263/     16C :                     ; ----------------------------------------------------------------
(2)  264/     16C :                     
(2)  265/     16C :                     z80_int:
(2)  266/     16C : F3                  		di
(2)  267/     16D : F5                  		push	af
(2)  268/     16E : D9                  		exx
(2)  269/     16F :                     
(2)  270/     16F :                     ; ------------------------------------
(2)  271/     16F :                     ; Read tracks
(2)  272/     16F :                     ; ------------------------------------
(2)  273/     16F :                     
(2)  274/     16F : 3A 32 00            		ld	a,(curr_SndBank)		; Move ROM to music data
(2)  275/     172 : CF                  		rst 	8
(2)  276/     173 : FD 21 30 0E         		ld	iy,SndBuff_Track_1
(2)  277/     177 : DD 21 70 0E         		ld	ix,SndBuff_ChnlBuff_1
(2)  278/     17B : CD E5 01            		call	SndDrv_ReadTrack
(2)  279/     17E : FD 21 50 0E         		ld	iy,SndBuff_Track_2
(2)  280/     182 : DD 21 B0 0F         		ld	ix,SndBuff_ChnlBuff_2
(2)  281/     186 : CD E5 01            		call	SndDrv_ReadTrack
(2)  282/     189 :                     
(2)  283/     189 :                     ; ------------------------------------
(2)  284/     189 :                     ; Exit Vint
(2)  285/     189 :                     ; ------------------------------------
(2)  286/     189 :                     
(2)  287/     189 : 3A 23 00            		ld	a,(Sample_Read+3)		; Return ROM bank to sample
(2)  288/     18C : CF                  		rst 	8
(2)  289/     18D : 16 2A               		ld	d,2Ah				; Play last byte
(2)  290/     18F : 2A 21 00            		ld	hl,(Sample_Read+1)		; TODO: might read a bad byte (no EOF check)
(2)  291/     192 : 5E                  		ld	e,(hl)
(2)  292/     193 : CD 78 0B            		call	SndDrv_FmSet_1
(2)  293/     196 :                     
(2)  294/     196 :                     ; ------------------------------------
(2)  295/     196 :                     
(2)  296/     196 :                     .no_trcks:
(2)  297/     196 : D9                  		exx
(2)  298/     197 : F1                  		pop	af
(2)  299/     198 : FB                  		ei
(2)  300/     199 : C9                  		ret					; Return
(2)  301/     19A :                     
(2)  302/     19A :                     ; ===================================================================
(2)  303/     19A :                     ; ------------------------------------
(2)  304/     19A :                     ; Init driver
(2)  305/     19A :                     ; ------------------------------------
(2)  306/     19A :                     
(2)  307/     19A :                     SndDrv_Init:
(2)  308/     19A : 11 0B 22            		ld	de,220Bh			; LFO 03h
(2)  309/     19D : CD 78 0B            		call	SndDrv_FmSet_1
(2)  310/     1A0 : 11 00 27            		ld	de,2700h
(2)  311/     1A3 : CD 78 0B            		call	SndDrv_FmSet_1
(2)  312/     1A6 : 11 00 28            		ld	de,2800h
(2)  313/     1A9 : CD 78 0B            		call	SndDrv_FmSet_1
(2)  314/     1AC : 11 01 28            		ld	de,2801h
(2)  315/     1AF : CD 78 0B            		call	SndDrv_FmSet_1
(2)  316/     1B2 : 11 02 28            		ld	de,2802h
(2)  317/     1B5 : CD 78 0B            		call	SndDrv_FmSet_1
(2)  318/     1B8 : 11 04 28            		ld	de,2804h
(2)  319/     1BB : CD 78 0B            		call	SndDrv_FmSet_1
(2)  320/     1BE : 11 05 28            		ld	de,2805h
(2)  321/     1C1 : CD 78 0B            		call	SndDrv_FmSet_1
(2)  322/     1C4 : 11 06 28            		ld	de,2806h
(2)  323/     1C7 : CD 78 0B            		call	SndDrv_FmSet_1
(2)  324/     1CA : 11 00 2B            		ld	de,2B00h
(2)  325/     1CD : CD 78 0B            		call	SndDrv_FmSet_1
(2)  326/     1D0 : 3E 9F               		ld	a,09Fh
(2)  327/     1D2 : 32 11 7F            		ld	(Zpsg_ctrl),a
(2)  328/     1D5 : 3E BF               		ld	a,0BFh
(2)  329/     1D7 : 32 11 7F            		ld	(Zpsg_ctrl),a		
(2)  330/     1DA : 3E DF               		ld	a,0DFh
(2)  331/     1DC : 32 11 7F            		ld	(Zpsg_ctrl),a	
(2)  332/     1DF : 3E FF               		ld	a,0FFh
(2)  333/     1E1 : 32 11 7F            		ld	(Zpsg_ctrl),a
(2)  334/     1E4 : C9                  		ret
(2)  335/     1E5 :                     
(2)  336/     1E5 :                     ; ===================================================================
(2)  337/     1E5 :                     ; ------------------------------------
(2)  338/     1E5 :                     ; Read track
(2)  339/     1E5 :                     ; 
(2)  340/     1E5 :                     ; iy - Pattern buffer
(2)  341/     1E5 :                     ; ix - Channel list
(2)  342/     1E5 :                     ; ------------------------------------
(2)  343/     1E5 :                     
(2)  344/     1E5 :                     SndDrv_ReadTrack:
(2)  345/     1E5 : FD 7E 0A            		ld	a,(iy+trck_ReqFlag)
(2)  346/     1E8 : B7                  		or	a
(2)  347/     1E9 : C4 78 0A            		call	nz,SndDrv_ReqTrack
(2)  348/     1EC : FD 7E 11            		ld	a,(iy+trck_Active)
(2)  349/     1EF : B7                  		or	a
(2)  350/     1F0 : C8                  		ret	z
(2)  351/     1F1 : FD 7E 1D            		ld	a,(iy+trck_TempoBits)
(2)  352/     1F4 : 0F                  		rrca
(2)  353/     1F5 : FD 77 1D            		ld	(iy+trck_TempoBits),a
(2)  354/     1F8 : DA 09 02            		jp	c,.force_on
(2)  355/     1FB : FD 7E 0D            		ld	a,(iy+trck_TicksRead)
(2)  356/     1FE : 3D                  		dec	a
(2)  357/     1FF : FD 77 0D            		ld	(iy+trck_TicksRead),a
(2)  358/     202 : F0                  		ret	p
(2)  359/     203 : FD 7E 1F            		ld	a,(iy+trck_TicksCurr)		; save Ticks
(2)  360/     206 : FD 77 0D            		ld	(iy+trck_TicksRead),a
(2)  361/     209 :                     .force_on:
(2)  362/     209 : FD 7E 1E            		ld	a,(iy+trck_RowWait)		; row countdown
(2)  363/     20C : 3D                  		dec	a
(2)  364/     20D : FD 77 1E            		ld	(iy+trck_RowWait),a
(2)  365/     210 : F2 E4 02            		jp	p,.row_countdwn
(2)  366/     213 : FD 36 1E 00         		ld	(iy+trck_RowWait),0
(2)  367/     217 :                     		
(2)  368/     217 :                     ; ------------------------------
(2)  369/     217 :                     ; check for new track data
(2)  370/     217 :                     ; ------------------------------
(2)  371/     217 :                     
(2)  372/     217 : FD 5E 1A            		ld	e,(iy+trck_RowSteps)		; Row finished?
(2)  373/     21A : FD 56 1B            		ld	d,(iy+(trck_RowSteps+1))
(2)  374/     21D : 7B                  		ld	a,e
(2)  375/     21E : B2                  		or	d
(2)  376/     21F : C2 67 02            		jp	nz,.dontupd_trck
(2)  377/     222 :                     .trck_restart:
(2)  378/     222 : 11 00 00            		ld	de,0
(2)  379/     225 : FD 5E 0E            		ld	e,(iy+trck_BlockCurr)
(2)  380/     228 : FD 6E 12            		ld	l,(iy+trck_Blocks)
(2)  381/     22B : FD 66 13            		ld	h,(iy+(trck_Blocks+1))
(2)  382/     22E : 4D                  		ld	c,l				; bc - copy of hl
(2)  383/     22F : 44                  		ld	b,h
(2)  384/     230 : 19                  		add 	hl,de
(2)  385/     231 : 7E                  		ld	a,(hl)
(2)  386/     232 : FE FE               		cp	0FEh
(2)  387/     234 : CC CE 02            		call	z,.skip_block
(2)  388/     237 : FE FF               		cp	0FFh				; End of song marker? 0FFh
(2)  389/     239 : CA D2 02            		jp	z,.stop_track
(2)  390/     23C : 87                  		add 	a,a
(2)  391/     23D : 87                  		add 	a,a
(2)  392/     23E : 23                  		inc 	hl
(2)  393/     23F : FD 34 0E            		inc 	(iy+trck_BlockCurr)
(2)  394/     242 : 11 00 00            		ld	de,0
(2)  395/     245 : 5F                  		ld	e,a
(2)  396/     246 : FD 6E 14            		ld	l,(iy+trck_PattBase)
(2)  397/     249 : FD 66 15            		ld	h,(iy+(trck_PattBase+1))
(2)  398/     24C : 19                  		add 	hl,de
(2)  399/     24D : 4E                  		ld	c,(hl)
(2)  400/     24E : 23                  		inc 	hl
(2)  401/     24F : 46                  		ld	b,(hl)
(2)  402/     250 : 23                  		inc 	hl
(2)  403/     251 : 5E                  		ld	e,(hl)
(2)  404/     252 : 23                  		inc 	hl
(2)  405/     253 : 56                  		ld	d,(hl)
(2)  406/     254 : FD 6E 14            		ld	l,(iy+trck_PattBase)
(2)  407/     257 : FD 66 15            		ld	h,(iy+(trck_PattBase+1))
(2)  408/     25A : 09                  		add 	hl,bc
(2)  409/     25B : FD 75 18            		ld	(iy+trck_PattRead),l
(2)  410/     25E : FD 74 19            		ld	(iy+(trck_PattRead+1)),h
(2)  411/     261 : FD 73 1A            		ld	(iy+trck_RowSteps),e
(2)  412/     264 : FD 72 1B            		ld	(iy+(trck_RowSteps+1)),d
(2)  413/     267 :                     .dontupd_trck:
(2)  414/     267 : FD 6E 18            		ld	l,(iy+trck_PattRead)		; Set last read point
(2)  415/     26A : FD 66 19            		ld	h,(iy+(trck_PattRead+1))
(2)  416/     26D :                     
(2)  417/     26D :                     ; ------------------------------
(2)  418/     26D :                     ; Check timer or note data
(2)  419/     26D :                     ; ------------------------------
(2)  420/     26D : 7E                  		ld	a,(hl)
(2)  421/     26E : B7                  		or	a
(2)  422/     26F : F2 DA 02            		jp	p,.set_timer
(2)  423/     272 :                     .loop_me:
(2)  424/     272 : 23                  		inc	hl
(2)  425/     273 : 4F                  		ld	c,a
(2)  426/     274 : E6 3F               		and	00111111b
(2)  427/     276 : 11 00 00            		ld	de,0		; size 20h
(2)  428/     279 : 5F                  		ld	e,a
(2)  429/     27A : E6 18               		and	00011000b
(2)  430/     27C : 0F                  		rrca
(2)  431/     27D : 0F                  		rrca
(2)  432/     27E : 0F                  		rrca
(2)  433/     27F : 57                  		ld	d,a
(2)  434/     280 : 7B                  		ld	a,e
(2)  435/     281 : E6 07               		and	00000111b
(2)  436/     283 : 0F                  		rrca
(2)  437/     284 : 0F                  		rrca
(2)  438/     285 : 0F                  		rrca
(2)  439/     286 : 5F                  		ld	e,a
(2)  440/     287 : DD E5               		push	ix			; Save channel buffer
(2)  441/     289 : DD 19               		add	ix,de
(2)  442/     28B : CB 71               		bit 	6,c
(2)  443/     28D : CA 95 02            		jp	z,.keep_ctrl
(2)  444/     290 : 7E                  		ld	a,(hl)
(2)  445/     291 : 23                  		inc	hl
(2)  446/     292 : DD 77 01            		ld	(ix+chnl_Type),a
(2)  447/     295 :                     .keep_ctrl:
(2)  448/     295 : DD 7E 01            		ld	a,(ix+chnl_Type)
(2)  449/     298 : 0F                  		rrca
(2)  450/     299 : D2 A1 02            		jp	nc,.no_note
(2)  451/     29C : 4E                  		ld	c,(hl)			; Note
(2)  452/     29D : 23                  		inc 	hl
(2)  453/     29E : DD 71 02            		ld	(ix+chnl_Note),c
(2)  454/     2A1 :                     .no_note:
(2)  455/     2A1 : 0F                  		rrca				; Instrument
(2)  456/     2A2 : D2 AA 02            		jp	nc,.no_inst
(2)  457/     2A5 : 4E                  		ld	c,(hl)
(2)  458/     2A6 : 23                  		inc 	hl
(2)  459/     2A7 : DD 71 03            		ld	(ix+chnl_Ins),c
(2)  460/     2AA :                     .no_inst:
(2)  461/     2AA : 0F                  		rrca				; Volume
(2)  462/     2AB : D2 B3 02            		jp	nc,.no_vol
(2)  463/     2AE : 4E                  		ld	c,(hl)
(2)  464/     2AF : 23                  		inc 	hl
(2)  465/     2B0 : DD 71 04            		ld	(ix+chnl_Vol),c
(2)  466/     2B3 :                     .no_vol:
(2)  467/     2B3 : 0F                  		rrca				; Effect
(2)  468/     2B4 : D2 C1 02            		jp	nc,.no_eff
(2)  469/     2B7 : 4E                  		ld	c,(hl)
(2)  470/     2B8 : 23                  		inc 	hl
(2)  471/     2B9 : DD 71 05            		ld	(ix+chnl_EffId),c
(2)  472/     2BC : 4E                  		ld	c,(hl)
(2)  473/     2BD : 23                  		inc 	hl
(2)  474/     2BE : DD 71 06            		ld	(ix+chnl_EffArg),c
(2)  475/     2C1 :                     .no_eff:
(2)  476/     2C1 : CD 9D 03            		call	.chip_setup
(2)  477/     2C4 : DD E1               		pop	ix			; Restore channel buffer
(2)  478/     2C6 : 7E                  		ld	a,(hl)
(2)  479/     2C7 : B7                  		or	a
(2)  480/     2C8 : CA DD 02            		jp	z,.exit_notes
(2)  481/     2CB : C3 72 02            		jp	.loop_me
(2)  482/     2CE :                     		
(2)  483/     2CE :                     ; ------------------------------
(2)  484/     2CE :                     ; block 0FEh
(2)  485/     2CE :                     ; skip block
(2)  486/     2CE :                     ; ------------------------------
(2)  487/     2CE :                     
(2)  488/     2CE :                     ; TODO ver que es esto
(2)  489/     2CE :                     ; en OpenMPT
(2)  490/     2CE :                     .skip_block:
(2)  491/     2CE : FD 34 0E            		inc	(iy+trck_BlockCurr)
(2)  492/     2D1 : C9                  		ret
(2)  493/     2D2 :                     		
(2)  494/     2D2 :                     ; ------------------------------
(2)  495/     2D2 :                     ; block 0FFh
(2)  496/     2D2 :                     ; end of tracks
(2)  497/     2D2 :                     ; ------------------------------
(2)  498/     2D2 :                     
(2)  499/     2D2 :                     .stop_track:
(2)  500/     2D2 : CD F6 0A            		call	SndDrv_ResetChan
(2)  501/     2D5 : FD 36 11 00         		ld	(iy+trck_Active),0
(2)  502/     2D9 : C9                  		ret
(2)  503/     2DA :                     
(2)  504/     2DA :                     ; ------------------------------
(2)  505/     2DA :                     ; Set ROW wait timer
(2)  506/     2DA :                     ; 
(2)  507/     2DA :                     ; if a = 00h-7Fh
(2)  508/     2DA :                     ; ------------------------------
(2)  509/     2DA :                     
(2)  510/     2DA :                     .set_timer:
(2)  511/     2DA : FD 77 1E            		ld	(iy+trck_RowWait),a
(2)  512/     2DD :                     
(2)  513/     2DD :                     ; ------------------------------
(2)  514/     2DD :                     ; Note pack exit
(2)  515/     2DD :                     ; ------------------------------
(2)  516/     2DD :                     
(2)  517/     2DD :                     .exit_notes:
(2)  518/     2DD : 23                  		inc 	hl
(2)  519/     2DE :                     .exit_busy:
(2)  520/     2DE : FD 75 18            		ld	(iy+trck_PattRead),l		; Save new read point
(2)  521/     2E1 : FD 74 19            		ld	(iy+(trck_PattRead+1)),h
(2)  522/     2E4 :                     
(2)  523/     2E4 :                     ; ------------------------------
(2)  524/     2E4 :                     ; Decrement rows
(2)  525/     2E4 :                     ; ------------------------------
(2)  526/     2E4 :                     
(2)  527/     2E4 :                     .row_countdwn:
(2)  528/     2E4 : FD 5E 1A            		ld	e,(iy+trck_RowSteps)
(2)  529/     2E7 : FD 56 1B            		ld	d,(iy+(trck_RowSteps+1))
(2)  530/     2EA : 1B                  		dec 	de
(2)  531/     2EB : FD 73 1A            		ld	(iy+trck_RowSteps),e
(2)  532/     2EE : FD 72 1B            		ld	(iy+(trck_RowSteps+1)),d
(2)  533/     2F1 :                     		
(2)  534/     2F1 :                     ; --------------------------------
(2)  535/     2F1 :                     ; Update PSG manually
(2)  536/     2F1 :                     ; 
(2)  537/     2F1 :                     ; NOTE: this costs CPU time if
(2)  538/     2F1 :                     ; playing a sample
(2)  539/     2F1 :                     ; --------------------------------
(2)  540/     2F1 :                     
(2)  541/     2F1 : 01 C0 00            		ld	bc,20h*6
(2)  542/     2F4 : DD 09               		add 	ix,bc
(2)  543/     2F6 : CD 1E 03            		call	.psg_envlope
(2)  544/     2F9 : 11 20 00            		ld	de,20h
(2)  545/     2FC : DD 19               		add 	ix,de
(2)  546/     2FE : CD 1E 03            		call	.psg_envlope
(2)  547/     301 : 11 40 00            		ld	de,40h			; go to NOISE first
(2)  548/     304 : DD 19               		add 	ix,de
(2)  549/     306 : CD 1E 03            		call	.psg_envlope
(2)  550/     309 : 11 E0 FF            		ld	de,-20h			; back to PSG3
(2)  551/     30C : DD 19               		add 	ix,de
(2)  552/     30E : 3A 33 00            		ld	a,(curr_NoiseMode)
(2)  553/     311 : E6 03               		and	00000011b
(2)  554/     313 : FE 03               		cp	3
(2)  555/     315 : C2 1E 03            		jp	nz,.psg_envlope
(2)  556/     318 : 3E DF               		ld	a,0DFh
(2)  557/     31A : 32 11 7F            		ld	(zpsg_ctrl),a
(2)  558/     31D : C9                  		ret
(2)  559/     31E :                     
(2)  560/     31E :                     ; --------------------------------
(2)  561/     31E :                     
(2)  562/     31E :                     .psg_envlope:
(2)  563/     31E : CD 75 04            		call	.search_slot
(2)  564/     321 : D8                  		ret	c
(2)  565/     322 : DD 7E 01            		ld	a,(ix+chnl_Type)
(2)  566/     325 : B7                  		or	a
(2)  567/     326 : C8                  		ret	z
(2)  568/     327 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2)  569/     32A : 57                  		ld	d,a
(2)  570/     32B : FE E0               		cp	0E0h
(2)  571/     32D : C2 41 03            		jp	nz,.not_noise
(2)  572/     330 : 3A 33 00            		ld	a,(curr_NoiseMode)
(2)  573/     333 : FD 4E 0C            		ld	c,(iy+trck_PsgNoise)
(2)  574/     336 : B9                  		cp	c
(2)  575/     337 : CA 41 03            		jp	z,.not_noise
(2)  576/     33A : 79                  		ld	a,c
(2)  577/     33B : 32 33 00            		ld	(curr_NoiseMode),a
(2)  578/     33E : 32 11 7F            		ld	(zpsg_ctrl),a
(2)  579/     341 :                     .not_noise:
(2)  580/     341 : 7A                  		ld	a,d
(2)  581/     342 : F6 1F               		or	1Fh
(2)  582/     344 : 5F                  		ld	e,a
(2)  583/     345 : DD 7E 02            		ld	a,(ix+chnl_Note)
(2)  584/     348 : FE FF               		cp	-1
(2)  585/     34A : CA 98 03            		jp	z,.set_vol
(2)  586/     34D : FE FE               		cp	-2
(2)  587/     34F : CA 98 03            		jp	z,.set_vol
(2)  588/     352 : FE F6               		cp	-10
(2)  589/     354 : CA 98 03            		jp	z,.set_vol
(2)  590/     357 :                     
(2)  591/     357 : DD 7E 1C            		ld	a,(ix+chnl_PsgOutFreq)
(2)  592/     35A : B7                  		or	a
(2)  593/     35B : CA 6B 03            		jp	z,.no_upd_freq
(2)  594/     35E : 32 11 7F            		ld	(zpsg_ctrl),a
(2)  595/     361 : AF                  		xor	a
(2)  596/     362 : DD 77 1C            		ld	(ix+chnl_PsgOutFreq),a
(2)  597/     365 : DD 7E 1D            		ld	a,(ix+(chnl_PsgOutFreq+1))
(2)  598/     368 : 32 11 7F            		ld	(zpsg_ctrl),a
(2)  599/     36B :                     .no_upd_freq:
(2)  600/     36B :                     
(2)  601/     36B : DD 66 08            		ld	h,(ix+(chnl_InsAddr+1))
(2)  602/     36E : DD 6E 07            		ld	l,(ix+chnl_InsAddr)
(2)  603/     371 : DD 5E 12            		ld	e,(ix+chnl_PsgVolBase)		; Set volume
(2)  604/     374 : 01 00 00            		ld	bc,0
(2)  605/     377 : DD 4E 14            		ld	c,(ix+chnl_PsgIndx)
(2)  606/     37A : 09                  		add 	hl,bc
(2)  607/     37B : 7E                  		ld	a,(hl)
(2)  608/     37C : FE FF               		cp	-1
(2)  609/     37E : CA 87 03            		jp	z,.last_env
(2)  610/     381 : DD 77 13            		ld	(ix+chnl_PsgVolEnv),a
(2)  611/     384 : DD 34 14            		inc 	(ix+chnl_PsgIndx)
(2)  612/     387 :                     .last_env:
(2)  613/     387 : DD 7E 13            		ld	a,(ix+chnl_PsgVolEnv)
(2)  614/     38A : 83                  		add 	a,e
(2)  615/     38B : 5F                  		ld	e,a
(2)  616/     38C : E6 F0               		and	11110000b
(2)  617/     38E : CA 93 03            		jp	z,.no_max
(2)  618/     391 : 1E 0F               		ld	e,00001111b
(2)  619/     393 :                     .no_max:
(2)  620/     393 : 7B                  		ld	a,e
(2)  621/     394 : F6 10               		or	00010000b
(2)  622/     396 : B2                  		or	d
(2)  623/     397 : 5F                  		ld	e,a
(2)  624/     398 :                     .set_vol:
(2)  625/     398 : 7B                  		ld	a,e
(2)  626/     399 : 32 11 7F            		ld	(zpsg_ctrl),a
(2)  627/     39C :                     .next_psg:
(2)  628/     39C : C9                  		ret
(2)  629/     39D :                     
(2)  630/     39D :                     ; ------------------------------------
(2)  631/     39D :                     ; Set chip
(2)  632/     39D :                     ; 
(2)  633/     39D :                     ; iy - track buffer
(2)  634/     39D :                     ; ix - current channel
(2)  635/     39D :                     ; ------------------------------------
(2)  636/     39D :                     
(2)  637/     39D :                     .chip_setup:
(2)  638/     39D : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2)  639/     3A0 : E6 07               		and	111b
(2)  640/     3A2 : FE 03               		cp	3
(2)  641/     3A4 : C8                  		ret	z			; 03h invalid channel
(2)  642/     3A5 :                     
(2)  643/     3A5 :                     ; ---------------------------------------------
(2)  644/     3A5 :                     ; Track channel list:
(2)  645/     3A5 :                     ; FM1 FM2 FM4 FM5 FM3 FM6 PSG1 PSG2 PSG3 NOISE
(2)  646/     3A5 :                     ; ---------------------------------------------
(2)  647/     3A5 :                     
(2)  648/     3A5 : E5                  		push	hl
(2)  649/     3A6 : DD 7E 01            		ld	a,(ix+chnl_Type)	; Instrument
(2)  650/     3A9 : CB 6F               		bit	5,a
(2)  651/     3AB : C2 B3 03            		jp	nz,.use_newinst
(2)  652/     3AE : E6 02               		and	0010b
(2)  653/     3B0 : CA EE 03            		jp	z,.no_newinst
(2)  654/     3B3 :                     .use_newinst:
(2)  655/     3B3 : CD 8F 06            		call	.grab_instslot
(2)  656/     3B6 : 7E                  		ld	a,(hl)
(2)  657/     3B7 : FE FF               		cp	-1
(2)  658/     3B9 : CA EE 03            		jp	z,.no_newinst
(2)  659/     3BC : DD 77 0B            		ld	(ix+chnl_InsType),a
(2)  660/     3BF : 23                  		inc	hl
(2)  661/     3C0 : 7E                  		ld	a,(hl)
(2)  662/     3C1 : DD 77 0C            		ld	(ix+chnl_InsOpt),a
(2)  663/     3C4 : 23                  		inc	hl
(2)  664/     3C5 : 7E                  		ld	a,(hl)
(2)  665/     3C6 : DD 77 07            		ld	(ix+chnl_InsAddr),a
(2)  666/     3C9 : 23                  		inc	hl
(2)  667/     3CA : 7E                  		ld	a,(hl)
(2)  668/     3CB : DD 77 08            		ld	(ix+(chnl_InsAddr+1)),a
(2)  669/     3CE :                     		
(2)  670/     3CE : DD 7E 00            		ld	a,(ix+chnl_Chip)	; PSG instr are external
(2)  671/     3D1 : B7                  		or	a
(2)  672/     3D2 : FA DB 03            		jp	m,.psg_instr
(2)  673/     3D5 : CD 7D 07            		call	.set_fm_ins
(2)  674/     3D8 : C3 EE 03            		jp	.no_newinst
(2)  675/     3DB :                     .psg_instr:
(2)  676/     3DB : FE E0               		cp	0E0h
(2)  677/     3DD : C2 EE 03            		jp	nz,.no_newinst
(2)  678/     3E0 : DD 7E 0B            		ld	a,(ix+chnl_InsType)	; Set new noise type
(2)  679/     3E3 : 4F                  		ld	c,a
(2)  680/     3E4 : E6 E0               		and 	0E0h
(2)  681/     3E6 : FE E0               		cp	0E0h
(2)  682/     3E8 : C2 EE 03            		jp	nz,.no_newinst
(2)  683/     3EB : FD 71 0C            		ld	(iy+trck_PsgNoise),c	; to TRACK buffer
(2)  684/     3EE :                     .no_newinst:
(2)  685/     3EE :                     		
(2)  686/     3EE :                     	; ---------------------------------------------
(2)  687/     3EE : DD 7E 01            		ld	a,(ix+chnl_Type)	; Effect
(2)  688/     3F1 : CB 7F               		bit	7,a
(2)  689/     3F3 : C2 FB 03            		jp	nz,.use_neweff
(2)  690/     3F6 : E6 08               		and	1000b
(2)  691/     3F8 : CA 07 04            		jp	z,.no_neweff
(2)  692/     3FB :                     .use_neweff:	
(2)  693/     3FB : CD 81 05            		call	.set_effect
(2)  694/     3FE : CD 75 04            		call	.search_slot
(2)  695/     401 : DA 07 04            		jp	c,.no_neweff
(2)  696/     404 : CD C1 09            		call	.run_effect
(2)  697/     407 :                     .no_neweff:
(2)  698/     407 :                     
(2)  699/     407 :                     	; ---------------------------------------------
(2)  700/     407 : DD 7E 01            		ld	a,(ix+chnl_Type)	; Note
(2)  701/     40A : 5F                  		ld	e,a
(2)  702/     40B : CB 67               		bit	4,a
(2)  703/     40D : C2 15 04            		jp	nz,.use_notereq
(2)  704/     410 : E6 01               		and	0001b
(2)  705/     412 : CA 2A 04            		jp	z,.no_notereq
(2)  706/     415 :                     .use_notereq:
(2)  707/     415 : CD 8F 06            		call	.grab_instslot
(2)  708/     418 : 7E                  		ld	a,(hl)
(2)  709/     419 : FE FF               		cp	-1
(2)  710/     41B : CA 2A 04            		jp	z,.no_notereq
(2)  711/     41E :                     
(2)  712/     41E : CD AE 04            		call	.set_frequency
(2)  713/     421 : CD 75 04            		call	.search_slot
(2)  714/     424 : DA 2A 04            		jp	c,.no_notereq
(2)  715/     427 : CD A5 06            		call	.run_frequency
(2)  716/     42A :                     .no_notereq:
(2)  717/     42A :                     
(2)  718/     42A :                     	; ------------------------------------
(2)  719/     42A : DD 7E 01            		ld	a,(ix+chnl_Type)
(2)  720/     42D : CB 77               		bit	6,a			; Volume
(2)  721/     42F : C2 37 04            		jp	nz,.use_newvol
(2)  722/     432 : E6 04               		and	0100b
(2)  723/     434 : CA 46 04            		jp	z,.no_newvol
(2)  724/     437 :                     .use_newvol:
(2)  725/     437 : DD 46 04            		ld	b,(ix+chnl_Vol)
(2)  726/     43A : DD 70 17            		ld	(ix+chnl_EfNewVol),b
(2)  727/     43D : CD 75 04            		call	.search_slot
(2)  728/     440 : DA 46 04            		jp	c,.no_newvol
(2)  729/     443 : CD A0 04            		call	.set_volume
(2)  730/     446 :                     .no_newvol:
(2)  731/     446 :                     
(2)  732/     446 :                     	; ---------------------------------------------
(2)  733/     446 :                     	; Mark active SFX channels
(2)  734/     446 : 21 F0 10            		ld	hl,SndBuff_UsedChnls
(2)  735/     449 : FD 7E 10            		ld	a,(iy+trck_Priority)
(2)  736/     44C : B7                  		or	a
(2)  737/     44D : CA 53 04            		jp	z,.lowprioset
(2)  738/     450 : 21 04 11            		ld	hl,SndBuff_UsedChnls_2
(2)  739/     453 :                     .lowprioset:	
(2)  740/     453 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2)  741/     456 : B7                  		or	a
(2)  742/     457 : F2 64 04            		jp	p,.plusfm
(2)  743/     45A : 07                  		rlca
(2)  744/     45B : 07                  		rlca
(2)  745/     45C : 07                  		rlca
(2)  746/     45D : E6 03               		and	00000011b
(2)  747/     45F : C6 06               		add 	a,6
(2)  748/     461 : C3 6A 04            		jp	.leftfm
(2)  749/     464 :                     .plusfm:
(2)  750/     464 : CB 57               		bit 	2,a
(2)  751/     466 : CA 6A 04            		jp	z,.leftfm
(2)  752/     469 : 3D                  		dec	a
(2)  753/     46A :                     .leftfm:
(2)  754/     46A : 11 00 00            		ld	de,0
(2)  755/     46D : 5F                  		ld	e,a
(2)  756/     46E : 19                  		add 	hl,de
(2)  757/     46F : DD 7E 01            		ld	a,(ix+chnl_Type)
(2)  758/     472 : 77                  		ld	(hl),a
(2)  759/     473 :                     
(2)  760/     473 :                     	; ---------------------------------------------
(2)  761/     473 :                     
(2)  762/     473 : E1                  		pop	hl
(2)  763/     474 : C9                  		ret
(2)  764/     475 :                     
(2)  765/     475 :                     ; ------------------------------------
(2)  766/     475 :                     ; Check if slot is busy
(2)  767/     475 :                     ; 
(2)  768/     475 :                     ; Returns:
(2)  769/     475 :                     ;  c - Channel is busy
(2)  770/     475 :                     ; nc - Channel is free or
(2)  771/     475 :                     ;      ignore (BGM only)
(2)  772/     475 :                     ; ------------------------------------
(2)  773/     475 :                     
(2)  774/     475 :                     .search_slot:
(2)  775/     475 : 3F                  		ccf
(2)  776/     476 : FD 7E 10            		ld	a,(iy+trck_Priority)
(2)  777/     479 : B7                  		or	a
(2)  778/     47A : C8                  		ret 	z
(2)  779/     47B : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2)  780/     47E : B7                  		or	a
(2)  781/     47F : F2 8C 04            		jp	p,.srchfm
(2)  782/     482 : 07                  		rlca
(2)  783/     483 : 07                  		rlca
(2)  784/     484 : 07                  		rlca
(2)  785/     485 : E6 03               		and	00000011b
(2)  786/     487 : C6 06               		add 	a,6
(2)  787/     489 : C3 92 04            		jp	.gosrch
(2)  788/     48C :                     .srchfm:
(2)  789/     48C : CB 57               		bit 	2,a
(2)  790/     48E : CA 92 04            		jp	z,.gosrch
(2)  791/     491 : 3D                  		dec	a
(2)  792/     492 :                     .gosrch:
(2)  793/     492 : 21 F0 10            		ld	hl,SndBuff_UsedChnls
(2)  794/     495 : 11 00 00            		ld	de,0
(2)  795/     498 : 5F                  		ld	e,a
(2)  796/     499 : 19                  		add 	hl,de
(2)  797/     49A : 7E                  		ld	a,(hl)
(2)  798/     49B : 3F                  		ccf
(2)  799/     49C : B7                  		or	a
(2)  800/     49D : C8                  		ret	z
(2)  801/     49E : 37                  		scf
(2)  802/     49F : C9                  		ret
(2)  803/     4A0 :                     
(2)  804/     4A0 :                     ; ---------------------------------------------
(2)  805/     4A0 :                     ; These routines only update the channel
(2)  806/     4A0 :                     ; buffer
(2)  807/     4A0 :                     ; ---------------------------------------------
(2)  808/     4A0 :                     
(2)  809/     4A0 :                     ; -----------------------------------
(2)  810/     4A0 :                     ; Set volume
(2)  811/     4A0 :                     ; 
(2)  812/     4A0 :                     ; FM note: call this AFTER 
(2)  813/     4A0 :                     ; updating the instrument data regs
(2)  814/     4A0 :                     ; 
(2)  815/     4A0 :                     ; b - chnl_Vol
(2)  816/     4A0 :                     ; -----------------------------------
(2)  817/     4A0 :                     
(2)  818/     4A0 :                     .set_volume:
(2)  819/     4A0 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2)  820/     4A3 : B7                  		or	a
(2)  821/     4A4 : FA AA 04            		jp	m,.vol_ispsg
(2)  822/     4A7 : C3 90 08            		jp	.set_fm_vol
(2)  823/     4AA :                     .vol_ispsg:
(2)  824/     4AA : 78                  		ld	a,b
(2)  825/     4AB : C3 60 09            		jp	.set_psg_vol
(2)  826/     4AE :                     
(2)  827/     4AE :                     ; ------------------------------------
(2)  828/     4AE :                     ; Set channel frequency
(2)  829/     4AE :                     ; ------------------------------------
(2)  830/     4AE :                     
(2)  831/     4AE :                     .set_frequency:
(2)  832/     4AE : DD 46 0B            		ld	b,(ix+chnl_InsType)
(2)  833/     4B1 : DD 4E 00            		ld	c,(ix+chnl_Chip)
(2)  834/     4B4 : 78                  		ld	a,b
(2)  835/     4B5 : B7                  		or	a			; Type 080h/0E0h?
(2)  836/     4B6 : F2 BE 04            		jp	p,.notype3
(2)  837/     4B9 : CB 79               		bit 	7,c			; PSG channel?
(2)  838/     4BB : C2 47 05            		jp	nz,.setfreq_psg
(2)  839/     4BE :                     .notype3:
(2)  840/     4BE : 78                  		ld	a,b
(2)  841/     4BF : FE 02               		cp	2			; Type 2?
(2)  842/     4C1 : C2 CA 04            		jp	nz,.fm_normalchnl
(2)  843/     4C4 : 79                  		ld	a,c			; Channel 6?
(2)  844/     4C5 : FE 06               		cp	6
(2)  845/     4C7 : CA 22 05            		jp	z,.setfm_sample
(2)  846/     4CA :                     
(2)  847/     4CA :                     ; -------------------------------------
(2)  848/     4CA :                     ; FM frequency
(2)  849/     4CA :                     ; -------------------------------------
(2)  850/     4CA :                     
(2)  851/     4CA :                     .fm_normalchnl:
(2)  852/     4CA : DD 7E 02            		ld	a,(ix+chnl_Note)
(2)  853/     4CD : FE F6               		cp	-10
(2)  854/     4CF : CA F2 04            		jp	z,.unlock_chnl
(2)  855/     4D2 : FE FE               		cp	-2
(2)  856/     4D4 : CA 3E 07            		jp	z,.fm_turnoff
(2)  857/     4D7 : FE FF               		cp	-1
(2)  858/     4D9 : CA 3E 07            		jp	z,.fm_turnoff
(2)  859/     4DC :                     
(2)  860/     4DC : 21 8E 0B            		ld	hl,fmFreq_List
(2)  861/     4DF : 11 00 00            		ld	de,0
(2)  862/     4E2 : DD 86 0C            		add 	a,(ix+chnl_InsOpt)
(2)  863/     4E5 : 87                  		add	a,a
(2)  864/     4E6 : 5F                  		ld	e,a
(2)  865/     4E7 : 19                  		add	hl,de
(2)  866/     4E8 : 7E                  		ld	a,(hl)
(2)  867/     4E9 : DD 77 09            		ld	(ix+chnl_Freq),a
(2)  868/     4EC : 23                  		inc	hl
(2)  869/     4ED : 7E                  		ld	a,(hl)
(2)  870/     4EE : DD 77 0A            		ld	(ix+(chnl_Freq+1)),a
(2)  871/     4F1 : C9                  		ret
(2)  872/     4F2 :                     
(2)  873/     4F2 :                     ; -------------------------------------
(2)  874/     4F2 :                     ; Unlock current channel
(2)  875/     4F2 :                     ; -------------------------------------
(2)  876/     4F2 :                     
(2)  877/     4F2 :                     .unlock_chnl:
(2)  878/     4F2 : 21 F0 10            		ld	hl,SndBuff_UsedChnls
(2)  879/     4F5 : FD 7E 10            		ld	a,(iy+trck_Priority)
(2)  880/     4F8 : B7                  		or	a
(2)  881/     4F9 : CA FF 04            		jp	z,.lowunlkset
(2)  882/     4FC : 21 04 11            		ld	hl,SndBuff_UsedChnls_2
(2)  883/     4FF :                     .lowunlkset:	
(2)  884/     4FF : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2)  885/     502 : B7                  		or	a
(2)  886/     503 : F2 10 05            		jp	p,.uplusfm
(2)  887/     506 : 07                  		rlca
(2)  888/     507 : 07                  		rlca
(2)  889/     508 : 07                  		rlca
(2)  890/     509 : E6 03               		and	00000011b
(2)  891/     50B : C6 06               		add 	a,6
(2)  892/     50D : C3 16 05            		jp	.uleftfm
(2)  893/     510 :                     .uplusfm:
(2)  894/     510 : CB 57               		bit 	2,a
(2)  895/     512 : CA 16 05            		jp	z,.uleftfm
(2)  896/     515 : 3D                  		dec	a
(2)  897/     516 :                     .uleftfm:
(2)  898/     516 : 11 00 00            		ld	de,0
(2)  899/     519 : 5F                  		ld	e,a
(2)  900/     51A : 19                  		add 	hl,de
(2)  901/     51B : 36 00               		ld	(hl),0
(2)  902/     51D : DD 36 01 00         		ld	(ix+chnl_Type),0
(2)  903/     521 : C9                  		ret
(2)  904/     522 :                     		
(2)  905/     522 :                     ; -------------------------------------
(2)  906/     522 :                     ; Set FM6 sample
(2)  907/     522 :                     ; -------------------------------------
(2)  908/     522 :                     
(2)  909/     522 :                     .setfm_sample:
(2)  910/     522 : DD 7E 02            		ld	a,(ix+chnl_Note)
(2)  911/     525 : FE F6               		cp	-10
(2)  912/     527 : CA F2 04            		jp	z,.unlock_chnl
(2)  913/     52A : FE FE               		cp	-2
(2)  914/     52C : C8                  		ret	z
(2)  915/     52D : FE FF               		cp	-1
(2)  916/     52F : C8                  		ret	z
(2)  917/     530 : DD 86 0C            		add 	a,(ix+chnl_InsOpt)
(2)  918/     533 : 87                  		add 	a,a
(2)  919/     534 : 11 00 00            		ld	de,0
(2)  920/     537 : 5F                  		ld	e,a
(2)  921/     538 : 21 40 0D            		ld	hl,wavFreq_List
(2)  922/     53B : 19                  		add 	hl,de
(2)  923/     53C : 7E                  		ld	a,(hl)
(2)  924/     53D : 23                  		inc 	hl
(2)  925/     53E : DD 77 09            		ld	(ix+chnl_Freq),a
(2)  926/     541 : 7E                  		ld	a,(hl)
(2)  927/     542 : 23                  		inc 	hl
(2)  928/     543 : DD 77 0A            		ld	(ix+(chnl_Freq+1)),a
(2)  929/     546 : C9                  		ret
(2)  930/     547 :                     		
(2)  931/     547 :                     ; -------------------------------------
(2)  932/     547 :                     ; PSG frequency
(2)  933/     547 :                     ; -------------------------------------
(2)  934/     547 :                     
(2)  935/     547 :                     .setfreq_psg:
(2)  936/     547 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2)  937/     54A : 47                  		ld	b,a
(2)  938/     54B : F6 1F               		or	01Fh
(2)  939/     54D : DD 7E 02            		ld	a,(ix+chnl_Note)
(2)  940/     550 : FE F6               		cp	-10
(2)  941/     552 : CA F2 04            		jp	z,.unlock_chnl
(2)  942/     555 : FE FE               		cp	-2
(2)  943/     557 : C8                  		ret	z
(2)  944/     558 : FE FF               		cp	-1
(2)  945/     55A : C8                  		ret	z
(2)  946/     55B :                     
(2)  947/     55B : 21 00 00            		ld	hl,0
(2)  948/     55E : 87                  		add 	a,a
(2)  949/     55F : 11 00 00            		ld	de,0
(2)  950/     562 : 5F                  		ld	e,a
(2)  951/     563 : 19                  		add 	hl,de
(2)  952/     564 : DD 7E 0C            		ld	a,(ix+chnl_InsOpt)
(2)  953/     567 : 87                  		add	a,a
(2)  954/     568 : 11 00 00            		ld	de,0
(2)  955/     56B : 5F                  		ld	e,a
(2)  956/     56C : 19                  		add 	hl,de
(2)  957/     56D : 54                  		ld	d,h
(2)  958/     56E : 5D                  		ld	e,l	
(2)  959/     56F : 21 4E 0C            		ld	hl,psgFreq_List
(2)  960/     572 : 19                  		add	hl,de
(2)  961/     573 : 7E                  		ld	a,(hl)
(2)  962/     574 : DD 77 09            		ld	(ix+chnl_Freq),a
(2)  963/     577 : 23                  		inc 	hl
(2)  964/     578 : 7E                  		ld	a,(hl)
(2)  965/     579 : DD 77 0A            		ld	(ix+(chnl_Freq+1)),a
(2)  966/     57C : DD 36 14 00         		ld	(ix+chnl_PsgIndx),0
(2)  967/     580 : C9                  		ret
(2)  968/     581 :                     		
(2)  969/     581 :                     ; -------------------------------------
(2)  970/     581 :                     ; Set effects
(2)  971/     581 :                     ; 
(2)  972/     581 :                     ; sets to buffer only
(2)  973/     581 :                     ; -------------------------------------
(2)  974/     581 :                     
(2)  975/     581 :                     .set_effect:
(2)  976/     581 : 11 00 00            		ld	de,0
(2)  977/     584 : DD 7E 05            		ld	a,(ix+chnl_EffId)
(2)  978/     587 : 87                  		add 	a,a
(2)  979/     588 : E6 FE               		and	11111110b
(2)  980/     58A : 5F                  		ld	e,a
(2)  981/     58B : 21 9B 05            		ld	hl,.eff_list
(2)  982/     58E : 19                  		add	hl,de
(2)  983/     58F : DD 46 00            		ld	b,(ix+chnl_Chip)
(2)  984/     592 : DD 4E 06            		ld	c,(ix+chnl_EffArg)
(2)  985/     595 : 7E                  		ld	a,(hl)
(2)  986/     596 : 23                  		inc	hl
(2)  987/     597 : 66                  		ld	h,(hl)
(2)  988/     598 : 6F                  		ld	l,a
(2)  989/     599 : E9                  		jp	(hl)
(2)  990/     59A :                     .eff_null:
(2)  991/     59A : C9                  		ret
(2)  992/     59B :                     .eff_list:
(2)  993/     59B : 9A 05               		dw .eff_null
(2)  994/     59D : D1 05               		dw .eff_A	; A | Set ticks
(2)  995/     59F : D9 05               		dw .eff_B	; B | Jump to block (SET OUTSIDE)
(2)  996/     5A1 : 9A 05               		dw .eff_null	; C | Break to row (unsupported)
(2)  997/     5A3 : E9 05               		dw .eff_D	; D | Volume slide
(2)  998/     5A5 : 03 06               		dw .eff_E	; E | Portametro down
(2)  999/     5A7 : 43 06               		dw .eff_F	; F | Portametro up
(2) 1000/     5A9 : 9A 05               		dw .eff_null	; G
(2) 1001/     5AB : 9A 05               		dw .eff_null	; H
(2) 1002/     5AD : 9A 05               		dw .eff_null	; I
(2) 1003/     5AF : 9A 05               		dw .eff_null	; J	
(2) 1004/     5B1 : 9A 05               		dw .eff_null	; K
(2) 1005/     5B3 : 9A 05               		dw .eff_null	; L
(2) 1006/     5B5 : 9A 05               		dw .eff_null	; M
(2) 1007/     5B7 : 9A 05               		dw .eff_null	; N
(2) 1008/     5B9 : 9A 05               		dw .eff_null	; O
(2) 1009/     5BB : 9A 05               		dw .eff_null	; P
(2) 1010/     5BD : 9A 05               		dw .eff_null	; Q
(2) 1011/     5BF : 9A 05               		dw .eff_null	; R
(2) 1012/     5C1 : 9A 05               		dw .eff_null	; S
(2) 1013/     5C3 : 9A 05               		dw .eff_null	; T
(2) 1014/     5C5 : 9A 05               		dw .eff_null	; U
(2) 1015/     5C7 : 9A 05               		dw .eff_null	; V
(2) 1016/     5C9 : 9A 05               		dw .eff_null	; W
(2) 1017/     5CB : 7C 06               		dw .eff_X	; X
(2) 1018/     5CD : 9A 05               		dw .eff_null	; Y
(2) 1019/     5CF : 9A 05               		dw .eff_null	; Z
(2) 1020/     5D1 :                     
(2) 1021/     5D1 :                     ; -------------------------------------
(2) 1022/     5D1 :                     ; Effect A - Set ticks
(2) 1023/     5D1 :                     ; -------------------------------------
(2) 1024/     5D1 :                     
(2) 1025/     5D1 :                     .eff_A:
(2) 1026/     5D1 : 0D                  		dec 	c
(2) 1027/     5D2 : FD 71 1F            		ld	(iy+trck_TicksCurr),c
(2) 1028/     5D5 : FD 71 0D            		ld	(iy+trck_TicksRead),c
(2) 1029/     5D8 : C9                  		ret
(2) 1030/     5D9 :                     
(2) 1031/     5D9 :                     ; -------------------------------------
(2) 1032/     5D9 :                     ; Effect B - Set block
(2) 1033/     5D9 :                     ; -------------------------------------
(2) 1034/     5D9 :                     
(2) 1035/     5D9 :                     .eff_B:
(2) 1036/     5D9 : FD 71 0E            		ld	(iy+trck_BlockCurr),c
(2) 1037/     5DC : 11 01 00            		ld	de,1
(2) 1038/     5DF : FD 73 1A            		ld	(iy+trck_RowSteps),e
(2) 1039/     5E2 : FD 72 1B            		ld	(iy+(trck_RowSteps+1)),d
(2) 1040/     5E5 : FD 77 1E            		ld	(iy+trck_RowWait),a
(2) 1041/     5E8 : C9                  		ret
(2) 1042/     5E9 :                     
(2) 1043/     5E9 :                     ; -------------------------------------
(2) 1044/     5E9 :                     ; Effect D - Volume slide
(2) 1045/     5E9 :                     ; -------------------------------------
(2) 1046/     5E9 :                     
(2) 1047/     5E9 :                     .eff_D:
(2) 1048/     5E9 : 79                  		ld	a,c
(2) 1049/     5EA : E6 F0               		and	11110000b		; X0h - slide up
(2) 1050/     5EC : C2 F9 05            		jp	nz,.go_up
(2) 1051/     5EF : 79                  		ld	a,c
(2) 1052/     5F0 : E6 0F               		and	00001111b		; 0Xh - slide down
(2) 1053/     5F2 : C8                  		ret	z			; 00h - slide continue
(2) 1054/     5F3 :                     .go_down:
(2) 1055/     5F3 : 2F                  		cpl
(2) 1056/     5F4 : 3C                  		inc	a
(2) 1057/     5F5 : DD 77 16            		ld	(ix+chnl_EfVolSlide),a
(2) 1058/     5F8 : C9                  		ret
(2) 1059/     5F9 :                     .go_up:
(2) 1060/     5F9 : 0F                  		rrca
(2) 1061/     5FA : 0F                  		rrca
(2) 1062/     5FB : 0F                  		rrca
(2) 1063/     5FC : 0F                  		rrca
(2) 1064/     5FD : E6 0F               		and	00001111b
(2) 1065/     5FF : DD 77 16            		ld	(ix+chnl_EfVolSlide),a
(2) 1066/     602 : C9                  		ret
(2) 1067/     603 :                     
(2) 1068/     603 :                     ; -------------------------------------
(2) 1069/     603 :                     ; Effect E - Portametro down
(2) 1070/     603 :                     ; 
(2) 1071/     603 :                     ; NOTE: not accurate
(2) 1072/     603 :                     ; -------------------------------------
(2) 1073/     603 :                     
(2) 1074/     603 :                     .eff_E:
(2) 1075/     603 : 79                  		ld	a,c
(2) 1076/     604 : B7                  		or	a
(2) 1077/     605 : CA 42 06            		jp	z,.prtdwn_cont
(2) 1078/     608 : E6 F0               		and	11110000b
(2) 1079/     60A : FE E0               		cp	0E0h
(2) 1080/     60C : CA 21 06            		jp	z,.dwn_exfine
(2) 1081/     60F : FE F0               		cp	0F0h
(2) 1082/     611 : CA 31 06            		jp	z,.dwn_fine
(2) 1083/     614 :                     		
(2) 1084/     614 :                     ; Normal
(2) 1085/     614 : 79                  		ld	a,c
(2) 1086/     615 : E6 1F               		and	00011111b
(2) 1087/     617 : 87                  		add	a,a
(2) 1088/     618 : 2F                  		cpl
(2) 1089/     619 : 3C                  		inc	a
(2) 1090/     61A : 11 FF FF            		ld	de,-1
(2) 1091/     61D : 5F                  		ld	e,a
(2) 1092/     61E : C3 3C 06            		jp	.set_portam
(2) 1093/     621 :                     .dwn_exfine:
(2) 1094/     621 : 11 FF FF            		ld	de,-1
(2) 1095/     624 : 79                  		ld	a,c
(2) 1096/     625 : E6 0F               		and	00001111b
(2) 1097/     627 : 2F                  		cpl
(2) 1098/     628 : 3C                  		inc	a
(2) 1099/     629 : CB 2F               		sra	a
(2) 1100/     62B : CB 2F               		sra	a
(2) 1101/     62D : 5F                  		ld	e,a
(2) 1102/     62E : C3 3C 06            		jp	.set_portam
(2) 1103/     631 :                     .dwn_fine:
(2) 1104/     631 : 11 FF FF            		ld	de,-1
(2) 1105/     634 : 79                  		ld	a,c
(2) 1106/     635 : E6 0F               		and	00001111b
(2) 1107/     637 : 2F                  		cpl
(2) 1108/     638 : 3C                  		inc	a
(2) 1109/     639 : CB 2F               		sra	a
(2) 1110/     63B : 5F                  		ld	e,a
(2) 1111/     63C :                     
(2) 1112/     63C :                     ; shared with effects E and F
(2) 1113/     63C :                     .set_portam:
(2) 1114/     63C : DD 72 19            		ld	(ix+(chnl_EfPortam+1)),d
(2) 1115/     63F : DD 73 18            		ld	(ix+chnl_EfPortam),e
(2) 1116/     642 :                     
(2) 1117/     642 :                     .prtdwn_cont:
(2) 1118/     642 : C9                  		ret
(2) 1119/     643 :                     
(2) 1120/     643 :                     ; -------------------------------------
(2) 1121/     643 :                     ; Effect F - Portametro up
(2) 1122/     643 :                     ; 
(2) 1123/     643 :                     ; NOTE: not accurate
(2) 1124/     643 :                     ; -------------------------------------
(2) 1125/     643 :                     
(2) 1126/     643 :                     .eff_F:
(2) 1127/     643 : 79                  		ld	a,c
(2) 1128/     644 : B7                  		or	a
(2) 1129/     645 : CA 7B 06            		jp	z,.prtup_cont
(2) 1130/     648 : E6 F0               		and	11110000b
(2) 1131/     64A : FE E0               		cp	0E0h
(2) 1132/     64C : CA 64 06            		jp	z,.up_exfine
(2) 1133/     64F : FE F0               		cp	0F0h
(2) 1134/     651 : CA 70 06            		jp	z,.up_fine
(2) 1135/     654 :                     		
(2) 1136/     654 :                     ; Normal
(2) 1137/     654 : 79                  		ld	a,c
(2) 1138/     655 : E6 1F               		and	00011111b
(2) 1139/     657 : 57                  		ld	d,a
(2) 1140/     658 : 87                  		add	a,a
(2) 1141/     659 : 87                  		add	a,a
(2) 1142/     65A : 5F                  		ld	e,a
(2) 1143/     65B : 7A                  		ld	a,d
(2) 1144/     65C : 07                  		rlca
(2) 1145/     65D : 07                  		rlca	
(2) 1146/     65E : E6 03               		and	00000011b
(2) 1147/     660 : 57                  		ld	d,a
(2) 1148/     661 : C3 3C 06            		jp	.set_portam
(2) 1149/     664 :                     .up_exfine:
(2) 1150/     664 : 11 00 00            		ld	de,0
(2) 1151/     667 : 79                  		ld	a,c
(2) 1152/     668 : E6 0F               		and	00001111b
(2) 1153/     66A : CB 2F               		sra	a
(2) 1154/     66C : 5F                  		ld	e,a
(2) 1155/     66D : C3 3C 06            		jp	.set_portam
(2) 1156/     670 :                     .up_fine:
(2) 1157/     670 : 11 00 00            		ld	de,0
(2) 1158/     673 : 79                  		ld	a,c
(2) 1159/     674 : E6 0F               		and	00001111b
(2) 1160/     676 : 87                  		add	a,a
(2) 1161/     677 : 5F                  		ld	e,a
(2) 1162/     678 : C3 3C 06            		jp	.set_portam
(2) 1163/     67B :                     .prtup_cont:
(2) 1164/     67B : C9                  		ret
(2) 1165/     67C :                     		
(2) 1166/     67C :                     ; -------------------------------------
(2) 1167/     67C :                     ; Effect X - Set panning (FM ONLY)
(2) 1168/     67C :                     ; -------------------------------------
(2) 1169/     67C :                     
(2) 1170/     67C :                     .eff_X:
(2) 1171/     67C : 79                  		ld	a,c
(2) 1172/     67D : 07                  		rlca
(2) 1173/     67E : 07                  		rlca
(2) 1174/     67F : E6 03               		and	00000011b
(2) 1175/     681 : 11 8B 06            		ld	de,.fmpan_list
(2) 1176/     684 : 83                  		add 	a,e
(2) 1177/     685 : 5F                  		ld	e,a
(2) 1178/     686 : 1A                  		ld	a,(de)
(2) 1179/     687 : DD 77 0D            		ld	(ix+chnl_FmPan),a
(2) 1180/     68A : C9                  		ret
(2) 1181/     68B :                     .fmpan_list:
(2) 1182/     68B : 80                  		db 080h		; 000h
(2) 1183/     68C : 80                  		db 080h		; 040h
(2) 1184/     68D : C0                  		db 0C0h		; 080h
(2) 1185/     68E : 40                  		db 040h		; 0C0h
(2) 1186/     68F :                     
(2) 1187/     68F :                     ; ---------------------------------------------
(2) 1188/     68F :                     
(2) 1189/     68F :                     .grab_instslot:
(2) 1190/     68F : FD 6E 16            		ld	l,(iy+trck_Instr)
(2) 1191/     692 : FD 66 17            		ld	h,(iy+(trck_Instr+1))
(2) 1192/     695 : DD 7E 03            		ld	a,(ix+chnl_Ins)
(2) 1193/     698 : 3D                  		dec 	a
(2) 1194/     699 : 47                  		ld	b,a
(2) 1195/     69A : 87                  		add 	a,a
(2) 1196/     69B : 87                  		add 	a,a
(2) 1197/     69C : 4F                  		ld	c,a
(2) 1198/     69D : 78                  		ld	a,b
(2) 1199/     69E : 07                  		rlca
(2) 1200/     69F : 07                  		rlca
(2) 1201/     6A0 : E6 03               		and	3
(2) 1202/     6A2 : 47                  		ld	b,a
(2) 1203/     6A3 : 09                  		add	hl,bc
(2) 1204/     6A4 : C9                  		ret
(2) 1205/     6A5 :                     
(2) 1206/     6A5 :                     ; ---------------------------------------------
(2) 1207/     6A5 :                     ; These routines send the result data to
(2) 1208/     6A5 :                     ; their sound chips
(2) 1209/     6A5 :                     ; ---------------------------------------------
(2) 1210/     6A5 :                     
(2) 1211/     6A5 :                     .run_frequency:
(2) 1212/     6A5 : DD 46 0B            		ld	b,(ix+chnl_InsType)
(2) 1213/     6A8 : DD 4E 00            		ld	c,(ix+chnl_Chip)
(2) 1214/     6AB : 78                  		ld	a,b
(2) 1215/     6AC : B7                  		or	a			; Type 080h/0E0h?
(2) 1216/     6AD : F2 B5 06            		jp	p,.freqrn_not3
(2) 1217/     6B0 : CB 79               		bit 	7,c			; PSG channel?
(2) 1218/     6B2 : C2 2F 07            		jp	nz,.freqrn_psg
(2) 1219/     6B5 :                     .freqrn_not3:
(2) 1220/     6B5 : 78                  		ld	a,b
(2) 1221/     6B6 : FE 02               		cp	2			; Type 2?
(2) 1222/     6B8 : C2 C1 06            		jp	nz,.freqrn_fm
(2) 1223/     6BB : 79                  		ld	a,c			; Channel 6?
(2) 1224/     6BC : FE 06               		cp	6
(2) 1225/     6BE : CA F1 06            		jp	z,.freqrn_smpl
(2) 1226/     6C1 :                     .freqrn_fm:
(2) 1227/     6C1 : DD 5E 00            		ld	e,(ix+chnl_Chip)
(2) 1228/     6C4 : CB 7B               		bit	7,e
(2) 1229/     6C6 : C0                  		ret	nz
(2) 1230/     6C7 : 16 28               		ld	d,28h
(2) 1231/     6C9 : CD 78 0B            		call	SndDrv_FmSet_1		; KEYS OFF
(2) 1232/     6CC : DD 7E 02            		ld	a,(ix+chnl_Note)
(2) 1233/     6CF : FE FE               		cp	-2
(2) 1234/     6D1 : C8                  		ret	z
(2) 1235/     6D2 : FE FF               		cp	-1
(2) 1236/     6D4 : C8                  		ret	z
(2) 1237/     6D5 : DD 66 0A            		ld	h,(ix+(chnl_Freq+1))	; Copy freq
(2) 1238/     6D8 : DD 6E 09            		ld	l,(ix+chnl_Freq)
(2) 1239/     6DB : DD 74 1B            		ld	(ix+(chnl_EfNewFreq+1)),h
(2) 1240/     6DE : DD 75 1A            		ld	(ix+chnl_EfNewFreq),l
(2) 1241/     6E1 : CD 4D 08            		call	.set_fm_freq
(2) 1242/     6E4 : DD 5E 10            		ld	e,(ix+chnl_FmRegKeys)	; KEYS ON
(2) 1243/     6E7 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2) 1244/     6EA : B3                  		or	e
(2) 1245/     6EB : 5F                  		ld	e,a
(2) 1246/     6EC : 16 28               		ld	d,28h
(2) 1247/     6EE : C3 78 0B            		jp	SndDrv_FmSet_1
(2) 1248/     6F1 :                     
(2) 1249/     6F1 :                     .freqrn_smpl:
(2) 1250/     6F1 : 1E 40               		ld	e,040h
(2) 1251/     6F3 : DD 7E 02            		ld	a,(ix+chnl_Note)
(2) 1252/     6F6 : FE FE               		cp	-2
(2) 1253/     6F8 : CA 2A 07            		jp	z,.set_smpflag
(2) 1254/     6FB : FE FF               		cp	-1
(2) 1255/     6FD : CA 2A 07            		jp	z,.set_smpflag
(2) 1256/     700 : DD 66 08            		ld	h,(ix+(chnl_InsAddr+1))
(2) 1257/     703 : DD 6E 07            		ld	l,(ix+chnl_InsAddr)
(2) 1258/     706 : 7C                  		ld	a,h
(2) 1259/     707 : B5                  		or	l
(2) 1260/     708 : C8                  		ret	z
(2) 1261/     709 :                     		
(2) 1262/     709 :                     	; Play SAMPLE
(2) 1263/     709 : 11 06 28            		ld	de,2806h
(2) 1264/     70C : CD 78 0B            		call	SndDrv_FmSet_1
(2) 1265/     70F : DD 66 0A            		ld	h,(ix+(chnl_Freq+1))		; Copy freq
(2) 1266/     712 : DD 6E 09            		ld	l,(ix+chnl_Freq)
(2) 1267/     715 : DD 74 1B            		ld	(ix+(chnl_EfNewFreq+1)),h
(2) 1268/     718 : DD 75 1A            		ld	(ix+chnl_EfNewFreq),l
(2) 1269/     71B : 7D                  		ld	a,l
(2) 1270/     71C : 32 2D 00            		ld	(Sample_Speed),a
(2) 1271/     71F : 7C                  		ld	a,h
(2) 1272/     720 : 32 2E 00            		ld	(Sample_Speed+1),a
(2) 1273/     723 : DD 7E 15            		ld	a,(ix+chnl_SmplFlags)
(2) 1274/     726 : 07                  		rlca
(2) 1275/     727 : F6 01               		or	1
(2) 1276/     729 : 5F                  		ld	e,a
(2) 1277/     72A :                     .set_smpflag:
(2) 1278/     72A : 7B                  		ld	a,e
(2) 1279/     72B : 32 1F 00            		ld	(Sample_Flags),a
(2) 1280/     72E : C9                  		ret
(2) 1281/     72F :                     .freqrn_psg:
(2) 1282/     72F : DD 66 0A            		ld	h,(ix+(chnl_Freq+1))		; Copy freq
(2) 1283/     732 : DD 6E 09            		ld	l,(ix+chnl_Freq)
(2) 1284/     735 : DD 74 1B            		ld	(ix+(chnl_EfNewFreq+1)),h
(2) 1285/     738 : DD 75 1A            		ld	(ix+chnl_EfNewFreq),l
(2) 1286/     73B : C3 7E 09            		jp	.set_psg_freq
(2) 1287/     73E :                     
(2) 1288/     73E :                     ; ------------------------------------
(2) 1289/     73E :                     ; Turn FM volume regs down
(2) 1290/     73E :                     ; TL = 07Fh
(2) 1291/     73E :                     ; 
(2) 1292/     73E :                     ; ix - current channel
(2) 1293/     73E :                     ; ------------------------------------
(2) 1294/     73E :                     
(2) 1295/     73E :                     .fm_turnoff:
(2) 1296/     73E : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2) 1297/     741 : 4F                  		ld	c,a
(2) 1298/     742 : FE 06               		cp	6
(2) 1299/     744 : C2 54 07            		jp	nz,.not_dac
(2) 1300/     747 : DD 7E 0B            		ld	a,(ix+chnl_InsType)
(2) 1301/     74A : FE 02               		cp	2
(2) 1302/     74C : C2 54 07            		jp	nz,.not_dac
(2) 1303/     74F : 3E 40               		ld	a,40h
(2) 1304/     751 : 32 1F 00            		ld	(Sample_Flags),a
(2) 1305/     754 :                     .not_dac:
(2) 1306/     754 : 79                  		ld	a,c
(2) 1307/     755 : B7                  		or	a
(2) 1308/     756 : F8                  		ret	m
(2) 1309/     757 :                     		
(2) 1310/     757 :                     .fm_settloff:
(2) 1311/     757 : 5F                  		ld	e,a
(2) 1312/     758 : 16 28               		ld	d,28h
(2) 1313/     75A : CD 78 0B            		call	SndDrv_FmSet_1
(2) 1314/     75D : 7B                  		ld	a,e
(2) 1315/     75E : E6 03               		and	11b
(2) 1316/     760 : F6 40               		or	40h
(2) 1317/     762 : 1E 7F               		ld	e,7Fh
(2) 1318/     764 : 57                  		ld	d,a
(2) 1319/     765 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1320/     768 : 14                  		inc	d
(2) 1321/     769 : 14                  		inc	d
(2) 1322/     76A : 14                  		inc	d
(2) 1323/     76B : 14                  		inc	d
(2) 1324/     76C : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1325/     76F : 14                  		inc	d
(2) 1326/     770 : 14                  		inc	d
(2) 1327/     771 : 14                  		inc	d
(2) 1328/     772 : 14                  		inc	d
(2) 1329/     773 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1330/     776 : 14                  		inc	d
(2) 1331/     777 : 14                  		inc	d
(2) 1332/     778 : 14                  		inc	d
(2) 1333/     779 : 14                  		inc	d
(2) 1334/     77A : C3 71 0B            		jp	SndDrv_FmAutoSet
(2) 1335/     77D :                     
(2) 1336/     77D :                     ; ------------------------------------
(2) 1337/     77D :                     ; FM normal registers
(2) 1338/     77D :                     ; 
(2) 1339/     77D :                     ; NOTE: call this first BEFORE
(2) 1340/     77D :                     ; modyfing the volume
(2) 1341/     77D :                     ; 
(2) 1342/     77D :                     ; ix - current channel
(2) 1343/     77D :                     ; ------------------------------------
(2) 1344/     77D :                     
(2) 1345/     77D :                     .set_fm_ins:
(2) 1346/     77D : DD 4E 00            		ld	c,(ix+chnl_Chip)
(2) 1347/     780 : DD 66 08            		ld	h,(ix+(chnl_InsAddr+1))
(2) 1348/     783 : DD 6E 07            		ld	l,(ix+chnl_InsAddr)
(2) 1349/     786 : 7C                  		ld	a,h
(2) 1350/     787 : B5                  		or	l
(2) 1351/     788 : C8                  		ret	z
(2) 1352/     789 : 79                  		ld	a,c			; FM6?
(2) 1353/     78A : FE 06               		cp	6
(2) 1354/     78C : C2 9C 07            		jp	nz,.no_chnl6
(2) 1355/     78F : DD 7E 0B            		ld	a,(ix+chnl_InsType)
(2) 1356/     792 : FE 02               		cp	2			; Type 2?
(2) 1357/     794 : CA 2E 09            		jp	z,.set_sampl
(2) 1358/     797 : 3E 40               		ld	a,40h			; IF type != 2, stop sample to unlock FM6
(2) 1359/     799 : 32 1F 00            		ld	(Sample_Flags),a
(2) 1360/     79C :                     .no_chnl6:
(2) 1361/     79C : 79                  		ld	a,c
(2) 1362/     79D : E6 03               		and	11b
(2) 1363/     79F : F6 30               		or	30h
(2) 1364/     7A1 : 57                  		ld	d,a
(2) 1365/     7A2 : 06 07               		ld	b,1Ch/4
(2) 1366/     7A4 :                     .fmfiles:
(2) 1367/     7A4 : 5E                  		ld	e,(hl)
(2) 1368/     7A5 : 23                  		inc 	hl
(2) 1369/     7A6 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1370/     7A9 : 14                  		inc 	d
(2) 1371/     7AA : 14                  		inc 	d
(2) 1372/     7AB : 14                  		inc 	d
(2) 1373/     7AC : 14                  		inc 	d
(2) 1374/     7AD : 5E                  		ld	e,(hl)
(2) 1375/     7AE : 23                  		inc 	hl
(2) 1376/     7AF : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1377/     7B2 : 14                  		inc 	d
(2) 1378/     7B3 : 14                  		inc 	d
(2) 1379/     7B4 : 14                  		inc 	d
(2) 1380/     7B5 : 14                  		inc 	d
(2) 1381/     7B6 : 5E                  		ld	e,(hl)
(2) 1382/     7B7 : 23                  		inc 	hl
(2) 1383/     7B8 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1384/     7BB : 14                  		inc 	d
(2) 1385/     7BC : 14                  		inc 	d
(2) 1386/     7BD : 14                  		inc 	d
(2) 1387/     7BE : 14                  		inc 	d
(2) 1388/     7BF : 5E                  		ld	e,(hl)
(2) 1389/     7C0 : 23                  		inc 	hl
(2) 1390/     7C1 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1391/     7C4 : 14                  		inc 	d
(2) 1392/     7C5 : 14                  		inc 	d
(2) 1393/     7C6 : 14                  		inc 	d
(2) 1394/     7C7 : 14                  		inc 	d
(2) 1395/     7C8 : 10 DA               		djnz	.fmfiles
(2) 1396/     7CA :                     
(2) 1397/     7CA : 16 B0               		ld	d,0B0h
(2) 1398/     7CC : 79                  		ld	a,c
(2) 1399/     7CD : E6 03               		and	11b
(2) 1400/     7CF : B2                  		or	d
(2) 1401/     7D0 : 57                  		ld	d,a
(2) 1402/     7D1 : 5E                  		ld	e,(hl)			; 0B0h
(2) 1403/     7D2 : DD 73 0E            		ld	(ix+chnl_FmRegB0),e
(2) 1404/     7D5 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1405/     7D8 : 23                  		inc 	hl
(2) 1406/     7D9 : 5E                  		ld	e,(hl)			; 0B4h
(2) 1407/     7DA : 16 B4               		ld	d,0B4h
(2) 1408/     7DC : 79                  		ld	a,c
(2) 1409/     7DD : E6 03               		and	11b
(2) 1410/     7DF : B2                  		or	d
(2) 1411/     7E0 : 57                  		ld	d,a
(2) 1412/     7E1 : 7E                  		ld	a,(hl)
(2) 1413/     7E2 : DD 77 0F            		ld	(ix+chnl_FmRegB4),a	
(2) 1414/     7E5 : DD B6 0D            		or	(ix+chnl_FmPan)		; FM panning
(2) 1415/     7E8 : 5F                  		ld	e,a
(2) 1416/     7E9 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1417/     7EC : 23                  		inc 	hl
(2) 1418/     7ED : 5E                  		ld	e,(hl)			; FM3 flag
(2) 1419/     7EE : 23                  		inc 	hl
(2) 1420/     7EF : 7E                  		ld	a,(hl)			; 028h
(2) 1421/     7F0 : 23                  		inc 	hl
(2) 1422/     7F1 : DD 77 10            		ld	(ix+chnl_FmRegKeys),a
(2) 1423/     7F4 :                     
(2) 1424/     7F4 : 79                  		ld	a,c
(2) 1425/     7F5 : FE 02               		cp	2			; Channel 3?
(2) 1426/     7F7 : C0                  		ret	nz
(2) 1427/     7F8 : 1E 00               		ld	e,0
(2) 1428/     7FA : DD 7E 0B            		ld	a,(ix+chnl_InsType)
(2) 1429/     7FD : FE 01               		cp	1			; Type 1?
(2) 1430/     7FF : C2 48 08            		jp	nz,.set_fm3reg
(2) 1431/     802 : 16 A6               		ld	d,0A6h			; OP1
(2) 1432/     804 : 5E                  		ld	e,(hl)
(2) 1433/     805 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1434/     808 : 23                  		inc 	hl
(2) 1435/     809 : 16 A2               		ld	d,0A2h
(2) 1436/     80B : 5E                  		ld	e,(hl)
(2) 1437/     80C : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1438/     80F : 23                  		inc 	hl
(2) 1439/     810 : 16 AC               		ld	d,0ACh			; OP2
(2) 1440/     812 : 5E                  		ld	e,(hl)
(2) 1441/     813 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1442/     816 : 23                  		inc 	hl
(2) 1443/     817 : 16 A8               		ld	d,0A8h
(2) 1444/     819 : 5E                  		ld	e,(hl)
(2) 1445/     81A : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1446/     81D : 23                  		inc 	hl
(2) 1447/     81E : 16 AD               		ld	d,0ADh			; OP3
(2) 1448/     820 : 5E                  		ld	e,(hl)
(2) 1449/     821 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1450/     824 : 23                  		inc 	hl
(2) 1451/     825 : 16 A9               		ld	d,0A9h
(2) 1452/     827 : 5E                  		ld	e,(hl)
(2) 1453/     828 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1454/     82B : 23                  		inc 	hl
(2) 1455/     82C : 16 AE               		ld	d,0AEh			; OP4
(2) 1456/     82E : 5E                  		ld	e,(hl)
(2) 1457/     82F : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1458/     832 : 23                  		inc 	hl
(2) 1459/     833 : 16 AA               		ld	d,0AAh
(2) 1460/     835 : 5E                  		ld	e,(hl)
(2) 1461/     836 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1462/     839 : DD 5E 10            		ld	e,(ix+chnl_FmRegKeys)	; KEYS ON TODO checar esto
(2) 1463/     83C : 79                  		ld	a,c
(2) 1464/     83D : E6 07               		and	111b
(2) 1465/     83F : B3                  		or	e
(2) 1466/     840 : 5F                  		ld	e,a
(2) 1467/     841 : 16 28               		ld	d,28h
(2) 1468/     843 : CD 78 0B            		call	SndDrv_FmSet_1
(2) 1469/     846 : 1E 40               		ld	e,40h
(2) 1470/     848 :                     .set_fm3reg:
(2) 1471/     848 : 16 27               		ld	d,27h
(2) 1472/     84A : C3 78 0B            		jp	SndDrv_FmSet_1
(2) 1473/     84D :                      
(2) 1474/     84D :                     ; ------------------------------------
(2) 1475/     84D :                     ; Set FM frequency
(2) 1476/     84D :                     ; 
(2) 1477/     84D :                     ; hl - frequency
(2) 1478/     84D :                     ; ------------------------------------
(2) 1479/     84D :                     
(2) 1480/     84D :                     .set_fm_freq:
(2) 1481/     84D : DD 56 00            		ld	d,(ix+chnl_Chip)
(2) 1482/     850 : DD 5E 0B            		ld	e,(ix+chnl_InsType)
(2) 1483/     853 : 7A                  		ld	a,d
(2) 1484/     854 : FE 06               		cp	6			; Check channel 6
(2) 1485/     856 : C2 5D 08            		jp	nz,.no_chnl6f
(2) 1486/     859 : 7B                  		ld	a,e
(2) 1487/     85A : FE 02               		cp	2
(2) 1488/     85C : C8                  		ret	z
(2) 1489/     85D :                     ; 		jp	z,.play_sampl
(2) 1490/     85D :                     .no_chnl6f:
(2) 1491/     85D : 7A                  		ld	a,d
(2) 1492/     85E : FE 02               		cp	2			; Check channel 3
(2) 1493/     860 : C2 67 08            		jp	nz,.no_chnl3f
(2) 1494/     863 : 7B                  		ld	a,e
(2) 1495/     864 : FE 01               		cp	1			; CH3 OP regs are already
(2) 1496/     866 : C8                  		ret	z			; set from the instrument data
(2) 1497/     867 :                     .no_chnl3f:
(2) 1498/     867 :                     
(2) 1499/     867 : 5A                  		ld	e,d
(2) 1500/     868 : DD 7E 02            		ld	a,(ix+chnl_Note)
(2) 1501/     86B : FE F6               		cp	-10
(2) 1502/     86D : CA 78 08            		jp	z,.set_keycut
(2) 1503/     870 : FE FF               		cp	-1
(2) 1504/     872 : C8                  		ret	z
(2) 1505/     873 : FE FE               		cp	-2
(2) 1506/     875 : C2 7C 08            		jp	nz,.no_keycut
(2) 1507/     878 :                     .set_keycut:
(2) 1508/     878 : 7A                  		ld	a,d
(2) 1509/     879 : C3 57 07            		jp	.fm_settloff
(2) 1510/     87C :                     .no_keycut:
(2) 1511/     87C : 7B                  		ld	a,e
(2) 1512/     87D : E6 03               		and	11b
(2) 1513/     87F : 47                  		ld	b,a
(2) 1514/     880 : 3E A4               		ld	a,0A4h
(2) 1515/     882 : B0                  		or	b
(2) 1516/     883 : 57                  		ld	d,a
(2) 1517/     884 : 5C                  		ld	e,h
(2) 1518/     885 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1519/     888 : 15                  		dec 	d
(2) 1520/     889 : 15                  		dec 	d
(2) 1521/     88A : 15                  		dec	d
(2) 1522/     88B : 15                  		dec 	d
(2) 1523/     88C : 5D                  		ld	e,l
(2) 1524/     88D : C3 71 0B            		jp	SndDrv_FmAutoSet
(2) 1525/     890 :                     
(2) 1526/     890 :                     ; TODO: checar porque puse esto
(2) 1527/     890 :                     ; aqui en primer lugar
(2) 1528/     890 :                     ; .play_sampl:
(2) 1529/     890 :                     ; 		ld	a,(ix+chnl_Note)
(2) 1530/     890 :                     ; 		ld	e,040h
(2) 1531/     890 :                     ; 		cp	-1
(2) 1532/     890 :                     ; 		jp	z,.set_smpflag
(2) 1533/     890 :                     ; 		cp	-2
(2) 1534/     890 :                     ; 		jp	z,.set_smpflag
(2) 1535/     890 :                     ; 		cp	-10
(2) 1536/     890 :                     ; 		jp	z,.set_smpflag
(2) 1537/     890 :                     ; 		ld	h,(ix+(chnl_InsAddr+1))
(2) 1538/     890 :                     ; 		ld	l,(ix+chnl_InsAddr)
(2) 1539/     890 :                     ; 		ld	a,h
(2) 1540/     890 :                     ; 		or	l
(2) 1541/     890 :                     ; 		ret	z
(2) 1542/     890 :                     ; 		ld	a,(ix+chnl_SmplFlags)
(2) 1543/     890 :                     ; 		rlca
(2) 1544/     890 :                     ; 		or	1
(2) 1545/     890 :                     ; 		ld	e,a
(2) 1546/     890 :                     ; .set_smpflag:
(2) 1547/     890 :                     ; 		ld	a,e
(2) 1548/     890 :                     ; 		ld	(Sample_Flags),a
(2) 1549/     890 :                     ; 		ret
(2) 1550/     890 :                     
(2) 1551/     890 :                     ; ------------------------------------
(2) 1552/     890 :                     ; Set FM Volume
(2) 1553/     890 :                     ; 
(2) 1554/     890 :                     ; This one might blow your mind
(2) 1555/     890 :                     ; ------------------------------------
(2) 1556/     890 :                     
(2) 1557/     890 :                     .set_fm_vol:
(2) 1558/     890 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2) 1559/     893 : 5F                  		ld	e,a
(2) 1560/     894 : FE 06               		cp	6
(2) 1561/     896 : C2 9F 08            		jp	nz,.notdac
(2) 1562/     899 : DD 7E 0B            		ld	a,(ix+chnl_InsType)
(2) 1563/     89C : FE 02               		cp	2
(2) 1564/     89E : C8                  		ret	z
(2) 1565/     89F :                     .notdac:
(2) 1566/     89F : DD 66 08            		ld	h,(ix+(chnl_InsAddr+1))
(2) 1567/     8A2 : DD 6E 07            		ld	l,(ix+chnl_InsAddr)
(2) 1568/     8A5 : 7C                  		ld	a,h
(2) 1569/     8A6 : B5                  		or	l
(2) 1570/     8A7 : C8                  		ret	z
(2) 1571/     8A8 : 23                  		inc 	hl			; Skip 30h
(2) 1572/     8A9 : 23                  		inc 	hl
(2) 1573/     8AA : 23                  		inc 	hl
(2) 1574/     8AB : 23                  		inc 	hl
(2) 1575/     8AC : 78                  		ld	a,b
(2) 1576/     8AD : FE 40               		cp	40h
(2) 1577/     8AF : DA B4 08            		jp	c,.too_much
(2) 1578/     8B2 : 3E 40               		ld	a,40h
(2) 1579/     8B4 :                     .too_much:
(2) 1580/     8B4 : B7                  		or	a
(2) 1581/     8B5 : F2 B9 08            		jp	p,.too_low
(2) 1582/     8B8 : AF                  		xor	a
(2) 1583/     8B9 :                     .too_low:
(2) 1584/     8B9 : D6 40               		sub 	a,40h
(2) 1585/     8BB : 2F                  		cpl
(2) 1586/     8BC : 3C                  		inc 	a
(2) 1587/     8BD : DD 77 11            		ld	(ix+chnl_FmVolBase),a
(2) 1588/     8C0 : DD 4E 11            		ld	c,(ix+chnl_FmVolBase)
(2) 1589/     8C3 : 16 40               		ld	d,40h			; 40h
(2) 1590/     8C5 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2) 1591/     8C8 : E6 03               		and	11b
(2) 1592/     8CA : B2                  		or	d
(2) 1593/     8CB : 57                  		ld	d,a
(2) 1594/     8CC : DD 7E 0E            		ld	a,(ix+chnl_FmRegB0)
(2) 1595/     8CF : E6 07               		and	111b
(2) 1596/     8D1 : 47                  		ld	b,a
(2) 1597/     8D2 : FE 07               		cp	7
(2) 1598/     8D4 : C2 E3 08            		jp	nz,.tl_lv1
(2) 1599/     8D7 : 7E                  		ld	a,(hl)
(2) 1600/     8D8 : 81                  		add 	a,c
(2) 1601/     8D9 : B7                  		or	a
(2) 1602/     8DA : F2 DF 08            		jp	p,.tl_lv1_tm
(2) 1603/     8DD : 3E 7F               		ld	a,7Fh
(2) 1604/     8DF :                     .tl_lv1_tm:
(2) 1605/     8DF : 5F                  		ld	e,a
(2) 1606/     8E0 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1607/     8E3 :                     .tl_lv1:
(2) 1608/     8E3 : 23                  		inc 	hl
(2) 1609/     8E4 : 14                  		inc 	d
(2) 1610/     8E5 : 14                  		inc 	d
(2) 1611/     8E6 : 14                  		inc 	d
(2) 1612/     8E7 : 14                  		inc 	d
(2) 1613/     8E8 : 78                  		ld	a,b
(2) 1614/     8E9 : FE 07               		cp	7
(2) 1615/     8EB : CA F8 08            		jp	z,.tl_lv2_ok
(2) 1616/     8EE : FE 06               		cp	6
(2) 1617/     8F0 : CA F8 08            		jp	z,.tl_lv2_ok
(2) 1618/     8F3 : FE 05               		cp	5
(2) 1619/     8F5 : C2 04 09            		jp	nz,.tl_lv2
(2) 1620/     8F8 :                     .tl_lv2_ok:
(2) 1621/     8F8 : 7E                  		ld	a,(hl)
(2) 1622/     8F9 : 81                  		add 	a,c
(2) 1623/     8FA : B7                  		or	a
(2) 1624/     8FB : F2 00 09            		jp	p,.tl_lv2_tm
(2) 1625/     8FE : 3E 7F               		ld	a,7Fh
(2) 1626/     900 :                     .tl_lv2_tm:
(2) 1627/     900 : 5F                  		ld	e,a
(2) 1628/     901 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1629/     904 :                     .tl_lv2:
(2) 1630/     904 : 23                  		inc 	hl
(2) 1631/     905 : 14                  		inc 	d
(2) 1632/     906 : 14                  		inc 	d
(2) 1633/     907 : 14                  		inc 	d
(2) 1634/     908 : 14                  		inc 	d
(2) 1635/     909 : 78                  		ld	a,b
(2) 1636/     90A : E6 04               		and	100b
(2) 1637/     90C : B7                  		or	a
(2) 1638/     90D : CA 1C 09            		jp	z,.tl_lv3
(2) 1639/     910 : 7E                  		ld	a,(hl)
(2) 1640/     911 : 81                  		add 	a,c
(2) 1641/     912 : B7                  		or	a
(2) 1642/     913 : F2 18 09            		jp	p,.tl_lv3_tm
(2) 1643/     916 : 3E 7F               		ld	a,7Fh
(2) 1644/     918 :                     .tl_lv3_tm:
(2) 1645/     918 : 5F                  		ld	e,a
(2) 1646/     919 : CD 71 0B            		call	SndDrv_FmAutoSet
(2) 1647/     91C :                     .tl_lv3:
(2) 1648/     91C : 23                  		inc 	hl
(2) 1649/     91D : 14                  		inc 	d
(2) 1650/     91E : 14                  		inc 	d
(2) 1651/     91F : 14                  		inc 	d
(2) 1652/     920 : 14                  		inc 	d
(2) 1653/     921 : 7E                  		ld	a,(hl)
(2) 1654/     922 : 81                  		add 	a,c
(2) 1655/     923 : B7                  		or	a
(2) 1656/     924 : F2 29 09            		jp	p,.tl_lv4_tm
(2) 1657/     927 : 3E 7F               		ld	a,7Fh
(2) 1658/     929 :                     .tl_lv4_tm:
(2) 1659/     929 : 5F                  		ld	e,a
(2) 1660/     92A : 23                  		inc 	hl
(2) 1661/     92B : C3 71 0B            		jp	SndDrv_FmAutoSet
(2) 1662/     92E :                     
(2) 1663/     92E :                     ; ------------------------------------
(2) 1664/     92E :                     
(2) 1665/     92E :                     .set_sampl:
(2) 1666/     92E : DD 66 08            		ld	h,(ix+(chnl_InsAddr+1))
(2) 1667/     931 : DD 6E 07            		ld	l,(ix+chnl_InsAddr)
(2) 1668/     934 :                     
(2) 1669/     934 : 5E                  		ld	e,(hl)
(2) 1670/     935 : 23                  		inc 	hl
(2) 1671/     936 : 56                  		ld	d,(hl)
(2) 1672/     937 : 23                  		inc 	hl
(2) 1673/     938 : 7E                  		ld	a,(hl)
(2) 1674/     939 : 23                  		inc 	hl
(2) 1675/     93A : ED 53 24 00         		ld	(Sample_Start),de
(2) 1676/     93E : 32 26 00            		ld	(Sample_Start+2),a
(2) 1677/     941 :                     
(2) 1678/     941 : 5E                  		ld	e,(hl)
(2) 1679/     942 : 23                  		inc 	hl
(2) 1680/     943 : 56                  		ld	d,(hl)
(2) 1681/     944 : 23                  		inc 	hl
(2) 1682/     945 : 7E                  		ld	a,(hl)
(2) 1683/     946 : 23                  		inc 	hl
(2) 1684/     947 : ED 53 27 00         		ld	(Sample_End),de
(2) 1685/     94B : 32 29 00            		ld	(Sample_End+2),a
(2) 1686/     94E :                     		
(2) 1687/     94E : 5E                  		ld	e,(hl)
(2) 1688/     94F : 23                  		inc 	hl
(2) 1689/     950 : 56                  		ld	d,(hl)
(2) 1690/     951 : 23                  		inc 	hl
(2) 1691/     952 : 7E                  		ld	a,(hl)
(2) 1692/     953 : 23                  		inc 	hl
(2) 1693/     954 : ED 53 2A 00         		ld	(Sample_Loop),de
(2) 1694/     958 : 32 2C 00            		ld	(Sample_Loop+2),a
(2) 1695/     95B :                     		
(2) 1696/     95B : 7E                  		ld	a,(hl)
(2) 1697/     95C : DD 77 15            		ld	(ix+chnl_SmplFlags),a
(2) 1698/     95F : C9                  		ret
(2) 1699/     960 :                     		
(2) 1700/     960 :                     ; --------------------------------------------
(2) 1701/     960 :                     ; Set PSG Volume
(2) 1702/     960 :                     ; --------------------------------------------
(2) 1703/     960 :                     
(2) 1704/     960 :                     .set_psg_vol:
(2) 1705/     960 : 1E 00               		ld	e,0
(2) 1706/     962 : FE 40               		cp	40h
(2) 1707/     964 : DA 69 09            		jp	c,.pntoo_much
(2) 1708/     967 : 3E 40               		ld	a,40h
(2) 1709/     969 :                     .pntoo_much:
(2) 1710/     969 : B7                  		or	a
(2) 1711/     96A : F2 6E 09            		jp	p,.pntoo_low
(2) 1712/     96D : AF                  		xor	a
(2) 1713/     96E :                     .pntoo_low:
(2) 1714/     96E : FE 40               		cp	40h
(2) 1715/     970 : CA 7A 09            		jp	z,.pntoppsgv
(2) 1716/     973 : 3D                  		dec 	a
(2) 1717/     974 : 0F                  		rrca
(2) 1718/     975 : 0F                  		rrca
(2) 1719/     976 : 2F                  		cpl
(2) 1720/     977 : E6 0F               		and	00001111b
(2) 1721/     979 : 5F                  		ld	e,a
(2) 1722/     97A :                     .pntoppsgv:
(2) 1723/     97A : DD 73 12            		ld	(ix+chnl_PsgVolBase),e
(2) 1724/     97D : C9                  		ret
(2) 1725/     97E :                     
(2) 1726/     97E :                     ; --------------------------------------------
(2) 1727/     97E :                     ; Set PSG Frequency
(2) 1728/     97E :                     ; 
(2) 1729/     97E :                     ; hl - frequency
(2) 1730/     97E :                     ; --------------------------------------------
(2) 1731/     97E :                     
(2) 1732/     97E :                     .set_psg_freq:
(2) 1733/     97E : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2) 1734/     981 : E6 E0               		and	11100000b
(2) 1735/     983 : 47                  		ld	b,a
(2) 1736/     984 : FE C0               		cp	0C0h
(2) 1737/     986 : C2 91 09            		jp	nz,.not_nse3
(2) 1738/     989 : FD 7E 0C            		ld	a,(iy+trck_PsgNoise)
(2) 1739/     98C : E6 03               		and	3
(2) 1740/     98E : FE 03               		cp	3
(2) 1741/     990 : C8                  		ret	z
(2) 1742/     991 :                     .not_nse3:
(2) 1743/     991 : 78                  		ld	a,b
(2) 1744/     992 : FE E0               		cp	0E0h
(2) 1745/     994 : C2 A1 09            		jp	nz,.not_nse
(2) 1746/     997 : DD 7E 0B            		ld	a,(ix+chnl_InsType)
(2) 1747/     99A : E6 03               		and	011b
(2) 1748/     99C : FE 03               		cp	3
(2) 1749/     99E : C0                  		ret	nz
(2) 1750/     99F : 06 C0               		ld	b,0C0h
(2) 1751/     9A1 :                     .not_nse:
(2) 1752/     9A1 : 7C                  		ld	a,h
(2) 1753/     9A2 : B5                  		or	l
(2) 1754/     9A3 : C8                  		ret	z
(2) 1755/     9A4 :                     		
(2) 1756/     9A4 : 7D                  		ld	a,l
(2) 1757/     9A5 : 57                  		ld	d,a
(2) 1758/     9A6 : E6 0F               		and 	00001111b
(2) 1759/     9A8 : B0                  		or	b
(2) 1760/     9A9 : 5F                  		ld	e,a
(2) 1761/     9AA : 7D                  		ld	a,l
(2) 1762/     9AB : 0F                  		rrca
(2) 1763/     9AC : 0F                  		rrca
(2) 1764/     9AD : 0F                  		rrca
(2) 1765/     9AE : 0F                  		rrca
(2) 1766/     9AF : E6 0F               		and	00001111b
(2) 1767/     9B1 : 57                  		ld	d,a
(2) 1768/     9B2 : 7C                  		ld	a,h
(2) 1769/     9B3 : 0F                  		rrca
(2) 1770/     9B4 : 0F                  		rrca
(2) 1771/     9B5 : 0F                  		rrca
(2) 1772/     9B6 : 0F                  		rrca
(2) 1773/     9B7 : E6 30               		and	00110000b
(2) 1774/     9B9 : B2                  		or	d
(2) 1775/     9BA : DD 77 1D            		ld	(ix+(chnl_PsgOutFreq+1)),a
(2) 1776/     9BD : DD 73 1C            		ld	(ix+chnl_PsgOutFreq),e
(2) 1777/     9C0 : C9                  		ret
(2) 1778/     9C1 :                     
(2) 1779/     9C1 :                     ; --------------------------------
(2) 1780/     9C1 :                     ; Run effects
(2) 1781/     9C1 :                     ; 
(2) 1782/     9C1 :                     ; apply effects on the channels
(2) 1783/     9C1 :                     ; if unlocked
(2) 1784/     9C1 :                     ; --------------------------------
(2) 1785/     9C1 :                     
(2) 1786/     9C1 :                     .run_effect:
(2) 1787/     9C1 : 11 00 00            		ld	de,0
(2) 1788/     9C4 : DD 7E 05            		ld	a,(ix+chnl_EffId)
(2) 1789/     9C7 : 87                  		add 	a,a
(2) 1790/     9C8 : E6 FE               		and	11111110b
(2) 1791/     9CA : 5F                  		ld	e,a
(2) 1792/     9CB : 21 DA 09            		ld	hl,.list_doeff
(2) 1793/     9CE : 19                  		add	hl,de
(2) 1794/     9CF : DD 46 00            		ld	b,(ix+chnl_Chip)
(2) 1795/     9D2 : DD 4E 06            		ld	c,(ix+chnl_EffArg)
(2) 1796/     9D5 : 7E                  		ld	a,(hl)
(2) 1797/     9D6 : 23                  		inc	hl
(2) 1798/     9D7 : 66                  		ld	h,(hl)
(2) 1799/     9D8 : 6F                  		ld	l,a
(2) 1800/     9D9 : E9                  		jp	(hl)
(2) 1801/     9DA :                     .list_doeff:
(2) 1802/     9DA : 9A 05               		dw .eff_null
(2) 1803/     9DC : 9A 05               		dw .eff_null	; A | Set ticks
(2) 1804/     9DE : 9A 05               		dw .eff_null	; B | Jump to block
(2) 1805/     9E0 : 9A 05               		dw .eff_null	; C | Break to row (not possible here)
(2) 1806/     9E2 : 10 0A               		dw .set_D	; D | Volume slide
(2) 1807/     9E4 : 2A 0A               		dw .set_E_F	; E
(2) 1808/     9E6 : 2A 0A               		dw .set_E_F	; F
(2) 1809/     9E8 : 9A 05               		dw .eff_null	; G
(2) 1810/     9EA : 9A 05               		dw .eff_null	; H
(2) 1811/     9EC : 9A 05               		dw .eff_null	; I
(2) 1812/     9EE : 9A 05               		dw .eff_null	; J	
(2) 1813/     9F0 : 9A 05               		dw .eff_null	; K
(2) 1814/     9F2 : 9A 05               		dw .eff_null	; L
(2) 1815/     9F4 : 9A 05               		dw .eff_null	; M
(2) 1816/     9F6 : 9A 05               		dw .eff_null	; N
(2) 1817/     9F8 : 9A 05               		dw .eff_null	; O
(2) 1818/     9FA : 9A 05               		dw .eff_null	; P
(2) 1819/     9FC : 9A 05               		dw .eff_null	; Q
(2) 1820/     9FE : 9A 05               		dw .eff_null	; R
(2) 1821/     A00 : 9A 05               		dw .eff_null	; S
(2) 1822/     A02 : 9A 05               		dw .eff_null	; T
(2) 1823/     A04 : 9A 05               		dw .eff_null	; U
(2) 1824/     A06 : 9A 05               		dw .eff_null	; V
(2) 1825/     A08 : 9A 05               		dw .eff_null	; W
(2) 1826/     A0A : 65 0A               		dw .set_X	; X
(2) 1827/     A0C : 9A 05               		dw .eff_null	; Y
(2) 1828/     A0E : 9A 05               		dw .eff_null	; Z
(2) 1829/     A10 :                     
(2) 1830/     A10 :                     ; ------------------------------------
(2) 1831/     A10 :                     ; Effect D - Volume slide
(2) 1832/     A10 :                     ; ------------------------------------
(2) 1833/     A10 :                     
(2) 1834/     A10 :                     .set_D:
(2) 1835/     A10 : DD 7E 17            		ld	a,(ix+chnl_EfNewVol)
(2) 1836/     A13 : DD 86 16            		add 	a,(ix+chnl_EfVolSlide)
(2) 1837/     A16 : DD 77 17            		ld	(ix+chnl_EfNewVol),a
(2) 1838/     A19 : CB 78               		bit	7,b
(2) 1839/     A1B : C2 24 0A            		jp	nz,.setpsg_vol
(2) 1840/     A1E : DD 46 17            		ld	b,(ix+chnl_EfNewVol)
(2) 1841/     A21 : C3 90 08            		jp	.set_fm_vol
(2) 1842/     A24 :                     .setpsg_vol:
(2) 1843/     A24 : DD 7E 17            		ld	a,(ix+chnl_EfNewVol)
(2) 1844/     A27 : C3 60 09            		jp	.set_psg_vol
(2) 1845/     A2A :                     
(2) 1846/     A2A :                     ; ------------------------------------
(2) 1847/     A2A :                     ; Effect E - Portametro down
(2) 1848/     A2A :                     ; ------------------------------------
(2) 1849/     A2A :                     
(2) 1850/     A2A :                     .set_E_F:
(2) 1851/     A2A : DD CB 00 7E         		bit	7,(ix+chnl_Chip)
(2) 1852/     A2E : C2 47 0A            		jp	nz,.psg_EF
(2) 1853/     A31 :                     		
(2) 1854/     A31 : DD 56 19            		ld	d,(ix+(chnl_EfPortam+1))
(2) 1855/     A34 : DD 5E 18            		ld	e,(ix+chnl_EfPortam)
(2) 1856/     A37 : DD 66 1B            		ld	h,(ix+(chnl_EfNewFreq+1))
(2) 1857/     A3A : DD 6E 1A            		ld	l,(ix+chnl_EfNewFreq)
(2) 1858/     A3D : 19                  		add 	hl,de
(2) 1859/     A3E : DD 74 1B            		ld	(ix+(chnl_EfNewFreq+1)),h
(2) 1860/     A41 : DD 75 1A            		ld	(ix+chnl_EfNewFreq),l
(2) 1861/     A44 : C3 4D 08            		jp	.set_fm_freq
(2) 1862/     A47 :                     
(2) 1863/     A47 :                     .psg_EF:
(2) 1864/     A47 : DD 56 19            		ld	d,(ix+(chnl_EfPortam+1))
(2) 1865/     A4A : DD 5E 18            		ld	e,(ix+chnl_EfPortam)
(2) 1866/     A4D : DD 66 1B            		ld	h,(ix+(chnl_EfNewFreq+1))
(2) 1867/     A50 : DD 6E 1A            		ld	l,(ix+chnl_EfNewFreq)
(2) 1868/     A53 : 37                  		scf
(2) 1869/     A54 : ED 52               		sbc 	hl,de
(2) 1870/     A56 : F2 5C 0A            		jp	p,.toolow
(2) 1871/     A59 : 21 00 00            		ld	hl,0
(2) 1872/     A5C :                     .toolow:
(2) 1873/     A5C : DD 74 1B            		ld	(ix+(chnl_EfNewFreq+1)),h
(2) 1874/     A5F : DD 75 1A            		ld	(ix+chnl_EfNewFreq),l
(2) 1875/     A62 : C3 7E 09            		jp	.set_psg_freq
(2) 1876/     A65 :                     		
(2) 1877/     A65 :                     ; ------------------------------------
(2) 1878/     A65 :                     ; Effect X - Set panning (FM ONLY)
(2) 1879/     A65 :                     ; ------------------------------------
(2) 1880/     A65 :                     
(2) 1881/     A65 :                     .set_X:
(2) 1882/     A65 : 16 B4               		ld	d,0B4h
(2) 1883/     A67 : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2) 1884/     A6A : E6 03               		and	11b
(2) 1885/     A6C : B2                  		or	d
(2) 1886/     A6D : 57                  		ld	d,a
(2) 1887/     A6E : DD 7E 0F            		ld	a,(ix+chnl_FmRegB4)
(2) 1888/     A71 : DD B6 0D            		or	(ix+chnl_FmPan)
(2) 1889/     A74 : 5F                  		ld	e,a
(2) 1890/     A75 : C3 71 0B            		jp	SndDrv_FmAutoSet
(2) 1891/     A78 :                     
(2) 1892/     A78 :                     ; ===================================================================
(2) 1893/     A78 :                     ; ----------------------------------------------------
(2) 1894/     A78 :                     ; Subs
(2) 1895/     A78 :                     ; ----------------------------------------------------
(2) 1896/     A78 :                     
(2) 1897/     A78 :                     ; ------------------------------------
(2) 1898/     A78 :                     ; Track request
(2) 1899/     A78 :                     ; ------------------------------------
(2) 1900/     A78 :                     
(2) 1901/     A78 :                     SndDrv_ReqTrack:
(2) 1902/     A78 : FD 7E 0A            		ld	a,(iy+trck_ReqFlag)
(2) 1903/     A7B : FD 36 0A 00         		ld	(iy+trck_ReqFlag),0
(2) 1904/     A7F : FD 36 0C E0         		ld	(iy+trck_PsgNoise),0E0h
(2) 1905/     A83 : 07                  		rlca
(2) 1906/     A84 : E6 FE               		and	11111110b
(2) 1907/     A86 : 11 00 00            		ld	de,0
(2) 1908/     A89 : 5F                  		ld	e,a
(2) 1909/     A8A : 21 93 0A            		ld	hl,.req_list
(2) 1910/     A8D : 19                  		add	hl,de
(2) 1911/     A8E : 7E                  		ld	a,(hl)
(2) 1912/     A8F : 23                  		inc	hl
(2) 1913/     A90 : 66                  		ld	h,(hl)
(2) 1914/     A91 : 6F                  		ld	l,a
(2) 1915/     A92 : E9                  		jp	(hl)
(2) 1916/     A93 :                     .req_list:
(2) 1917/     A93 : 00 00               		dw 0
(2) 1918/     A95 : 99 0A               		dw .req01
(2) 1919/     A97 : F2 0A               		dw .req02
(2) 1920/     A99 :                     
(2) 1921/     A99 :                     ; ------------------------------------
(2) 1922/     A99 :                     ; Flag 01h
(2) 1923/     A99 :                     ; ------------------------------------
(2) 1924/     A99 :                     
(2) 1925/     A99 :                     .req01:
(2) 1926/     A99 : FD 46 00            		ld	b,(iy+trck_ReqBlk)		; Copy addresses
(2) 1927/     A9C : FD 4E 01            		ld	c,(iy+(trck_ReqBlk+1))
(2) 1928/     A9F : FD 56 02            		ld	d,(iy+trck_ReqPatt)
(2) 1929/     AA2 : FD 5E 03            		ld	e,(iy+(trck_ReqPatt+1))
(2) 1930/     AA5 : FD 66 04            		ld	h,(iy+trck_ReqIns)
(2) 1931/     AA8 : FD 6E 05            		ld	l,(iy+(trck_ReqIns+1))
(2) 1932/     AAB : FD 70 12            		ld	(iy+trck_Blocks),b
(2) 1933/     AAE : FD 71 13            		ld	(iy+(trck_Blocks+1)),c
(2) 1934/     AB1 : FD 72 14            		ld	(iy+trck_PattBase),d
(2) 1935/     AB4 : FD 73 15            		ld	(iy+(trck_PattBase+1)),e
(2) 1936/     AB7 : FD 72 18            		ld	(iy+trck_PattRead),d
(2) 1937/     ABA : FD 73 19            		ld	(iy+(trck_PattRead+1)),e
(2) 1938/     ABD : FD 74 16            		ld	(iy+trck_Instr),h
(2) 1939/     AC0 : FD 75 17            		ld	(iy+(trck_Instr+1)),l
(2) 1940/     AC3 : FD 56 06            		ld	d,(iy+trck_ReqTicks)		; Tempo and ticks
(2) 1941/     AC6 : FD 4E 07            		ld	c,(iy+trck_ReqTempo)
(2) 1942/     AC9 : FD 46 08            		ld	b,(iy+trck_ReqCurrBlk)
(2) 1943/     ACC : FD 7E 09            		ld	a,(iy+trck_ReqSndBnk)
(2) 1944/     ACF : FD 72 1F            		ld	(iy+trck_TicksCurr),d
(2) 1945/     AD2 : FD 72 1C            		ld	(iy+trck_TicksMain),d
(2) 1946/     AD5 : FD 72 0D            		ld	(iy+trck_TicksRead),d
(2) 1947/     AD8 : FD 71 1D            		ld	(iy+trck_TempoBits),c
(2) 1948/     ADB : FD 70 0E            		ld	(iy+trck_BlockCurr),b
(2) 1949/     ADE : 32 32 00            		ld	(curr_SndBank),a
(2) 1950/     AE1 : AF                  		xor	a
(2) 1951/     AE2 : FD 77 1A            		ld	(iy+trck_RowSteps),a
(2) 1952/     AE5 : FD 77 1B            		ld	(iy+(trck_RowSteps+1)),a		
(2) 1953/     AE8 : FD 77 1E            		ld	(iy+trck_RowWait),a
(2) 1954/     AEB : 3C                  		inc 	a
(2) 1955/     AEC : FD 77 11            		ld	(iy+trck_Active),a
(2) 1956/     AEF : C3 F6 0A            		jp	SndDrv_ResetChan
(2) 1957/     AF2 :                     		
(2) 1958/     AF2 :                     ; ------------------------------------
(2) 1959/     AF2 :                     ; Flag 02h
(2) 1960/     AF2 :                     ; ------------------------------------
(2) 1961/     AF2 :                     
(2) 1962/     AF2 :                     .req02:
(2) 1963/     AF2 : AF                  		xor	a
(2) 1964/     AF3 : FD 77 11            		ld	(iy+trck_Active),a
(2) 1965/     AF6 :                     
(2) 1966/     AF6 :                     ; ------------------------------------
(2) 1967/     AF6 :                     ; Reset channels and silence them
(2) 1968/     AF6 :                     ; ------------------------------------
(2) 1969/     AF6 :                     
(2) 1970/     AF6 :                     SndDrv_ResetChan:
(2) 1971/     AF6 : 21 F0 10            		ld	hl,SndBuff_UsedChnls
(2) 1972/     AF9 : FD 7E 10            		ld	a,(iy+trck_Priority)
(2) 1973/     AFC : B7                  		or	a
(2) 1974/     AFD : CA 03 0B            		jp	z,.lowprio
(2) 1975/     B00 : 21 04 11            		ld	hl,SndBuff_UsedChnls_2
(2) 1976/     B03 :                     .lowprio:
(2) 1977/     B03 : 06 0A               		ld	b,MAX_CHNLS
(2) 1978/     B05 : AF                  		xor	a
(2) 1979/     B06 :                     .nexttype:
(2) 1980/     B06 : 77                  		ld	(hl),a
(2) 1981/     B07 : 23                  		inc 	hl
(2) 1982/     B08 : 10 FC               		djnz	.nexttype
(2) 1983/     B0A : DD E5               		push	ix
(2) 1984/     B0C : 06 0A               		ld	b,MAX_CHNLS
(2) 1985/     B0E : AF                  		xor	a
(2) 1986/     B0F : 11 20 00            		ld	de,20h
(2) 1987/     B12 :                     .initchnls:
(2) 1988/     B12 : DD 36 01 00         		ld	(ix+chnl_Type),0		; Note request
(2) 1989/     B16 : DD 36 02 FE         		ld	(ix+chnl_Note),-2		; Set Note off
(2) 1990/     B1A : DD 36 04 40         		ld	(ix+chnl_Vol),64		; Max volume
(2) 1991/     B1E : DD 36 17 40         		ld	(ix+chnl_EfNewVol),64
(2) 1992/     B22 : DD 36 0D C0         		ld	(ix+chnl_FmPan),0C0h
(2) 1993/     B26 : DD 77 0B            		ld	(ix+chnl_InsType),a
(2) 1994/     B29 : DD 77 0C            		ld	(ix+chnl_InsOpt),a
(2) 1995/     B2C : DD 77 16            		ld	(ix+chnl_EfVolSlide),a
(2) 1996/     B2F : DD 77 13            		ld	(ix+chnl_PsgVolEnv),a
(2) 1997/     B32 : DD 77 14            		ld	(ix+chnl_PsgIndx),a
(2) 1998/     B35 : DD 19               		add 	ix,de
(2) 1999/     B37 : 10 D9               		djnz	.initchnls
(2) 2000/     B39 : DD E1               		pop	ix
(2) 2001/     B3B :                     		
(2) 2002/     B3B :                     ; ------------------------------------
(2) 2003/     B3B :                     
(2) 2004/     B3B : DD E5               		push	ix
(2) 2005/     B3D : 11 04 11            		ld	de,SndBuff_UsedChnls_2
(2) 2006/     B40 : 21 F0 10            		ld	hl,SndBuff_UsedChnls
(2) 2007/     B43 : 06 0A               		ld	b,MAX_CHNLS			; FM channels
(2) 2008/     B45 :                     .nxtfmchnl:
(2) 2009/     B45 : C5                  		push	bc
(2) 2010/     B46 : 1A                  		ld	a,(de)
(2) 2011/     B47 : 4E                  		ld	c,(hl)
(2) 2012/     B48 : B1                  		or	c
(2) 2013/     B49 : B7                  		or	a
(2) 2014/     B4A : C2 64 0B            		jp	nz,.dontvolfm
(2) 2015/     B4D : DD 7E 00            		ld	a,(ix+chnl_Chip)
(2) 2016/     B50 : B7                  		or	a
(2) 2017/     B51 : F2 5C 0B            		jp	p,.fm_shut
(2) 2018/     B54 : F6 1F               		or	01Fh
(2) 2019/     B56 : 32 11 7F            		ld	(zpsg_ctrl),a
(2) 2020/     B59 : C3 64 0B            		jp	.dontvolfm
(2) 2021/     B5C :                     .fm_shut:
(2) 2022/     B5C : D5                  		push 	de
(2) 2023/     B5D : 16 28               		ld	d,28h
(2) 2024/     B5F : 5F                  		ld	e,a
(2) 2025/     B60 : CD 78 0B            		call	SndDrv_FmSet_1
(2) 2026/     B63 : D1                  		pop	de
(2) 2027/     B64 :                     .dontvolfm:
(2) 2028/     B64 : 23                  		inc 	hl
(2) 2029/     B65 : 13                  		inc 	de
(2) 2030/     B66 : 01 20 00            		ld	bc,20h
(2) 2031/     B69 : DD 09               		add 	ix,bc
(2) 2032/     B6B : C1                  		pop	bc
(2) 2033/     B6C : 10 D7               		djnz	.nxtfmchnl
(2) 2034/     B6E : DD E1               		pop	ix
(2) 2035/     B70 : C9                  		ret
(2) 2036/     B71 :                     
(2) 2037/     B71 :                     ; ---------------------------------------------
(2) 2038/     B71 :                     ; FM send registers
(2) 2039/     B71 :                     ; 
(2) 2040/     B71 :                     ; Input:
(2) 2041/     B71 :                     ; d - ctrl
(2) 2042/     B71 :                     ; e - data
(2) 2043/     B71 :                     ; c - channel
(2) 2044/     B71 :                     ; ---------------------------------------------
(2) 2045/     B71 :                     
(2) 2046/     B71 :                     SndDrv_FmAutoSet:
(2) 2047/     B71 : DD CB 00 56         		bit 	2,(ix+chnl_Chip)
(2) 2048/     B75 : C2 83 0B            		jp	nz,SndDrv_FmSet_2
(2) 2049/     B78 :                     		
(2) 2050/     B78 :                     SndDrv_FmSet_1:
(2) 2051/     B78 : 7A                  		ld	a,d
(2) 2052/     B79 : 32 00 40            		ld	(Zym_ctrl_1),a
(2) 2053/     B7C : 00                  		nop
(2) 2054/     B7D : 7B                  		ld	a,e
(2) 2055/     B7E : 32 01 40            		ld	(Zym_data_1),a
(2) 2056/     B81 : 00                  		nop
(2) 2057/     B82 : C9                  		ret
(2) 2058/     B83 :                     
(2) 2059/     B83 :                     SndDrv_FmSet_2:
(2) 2060/     B83 : 7A                  		ld	a,d
(2) 2061/     B84 : 32 02 40            		ld	(Zym_ctrl_2),a
(2) 2062/     B87 : 00                  		nop
(2) 2063/     B88 : 7B                  		ld	a,e
(2) 2064/     B89 : 32 03 40            		ld	(Zym_data_2),a
(2) 2065/     B8C : 00                  		nop
(2) 2066/     B8D : C9                  		ret
(2) 2067/     B8E :                     
(2) 2068/     B8E :                     ; ====================================================================
(2) 2069/     B8E : 84 02               fmFreq_List:	dw 644			; C-0
(2) 2070/     B90 : A9 02               		dw 681
(2) 2071/     B92 : D2 02               		dw 722
(2) 2072/     B94 : FD 02               		dw 765
(2) 2073/     B96 : 2A 03               		dw 810
(2) 2074/     B98 : 5A 03               		dw 858
(2) 2075/     B9A : 8E 03               		dw 910
(2) 2076/     B9C : C4 03               		dw 964
(2) 2077/     B9E : FD 03               		dw 1021
(2) 2078/     BA0 : 39 04               		dw 1081
(2) 2079/     BA2 : 7A 04               		dw 1146
(2) 2080/     BA4 : BE 04               		dw 1214
(2) 2081/     BA6 : 84 0A               		dw 644|800h		; C-1
(2) 2082/     BA8 : A9 0A               		dw 681|800h
(2) 2083/     BAA : D2 0A               		dw 722|800h
(2) 2084/     BAC : FD 0A               		dw 765|800h
(2) 2085/     BAE : 2A 0B               		dw 810|800h
(2) 2086/     BB0 : 5A 0B               		dw 858|800h
(2) 2087/     BB2 : 8E 0B               		dw 910|800h
(2) 2088/     BB4 : C4 0B               		dw 964|800h
(2) 2089/     BB6 : FD 0B               		dw 1021|800h
(2) 2090/     BB8 : 39 0C               		dw 1081|800h
(2) 2091/     BBA : 7A 0C               		dw 1146|800h
(2) 2092/     BBC : BE 0C               		dw 1214|800h
(2) 2093/     BBE : 84 12               		dw 644|1000h		; C-2
(2) 2094/     BC0 : A9 12               		dw 681|1000h
(2) 2095/     BC2 : D2 12               		dw 722|1000h
(2) 2096/     BC4 : FD 12               		dw 765|1000h
(2) 2097/     BC6 : 2A 13               		dw 810|1000h
(2) 2098/     BC8 : 5A 13               		dw 858|1000h
(2) 2099/     BCA : 8E 13               		dw 910|1000h
(2) 2100/     BCC : C4 13               		dw 964|1000h
(2) 2101/     BCE : FD 13               		dw 1021|1000h
(2) 2102/     BD0 : 39 14               		dw 1081|1000h
(2) 2103/     BD2 : 7A 14               		dw 1146|1000h
(2) 2104/     BD4 : BE 14               		dw 1214|1000h
(2) 2105/     BD6 : 84 1A               		dw 644|1800h		; C-3
(2) 2106/     BD8 : A9 1A               		dw 681|1800h
(2) 2107/     BDA : D2 1A               		dw 722|1800h
(2) 2108/     BDC : FD 1A               		dw 765|1800h
(2) 2109/     BDE : 2A 1B               		dw 810|1800h
(2) 2110/     BE0 : 5A 1B               		dw 858|1800h
(2) 2111/     BE2 : 8E 1B               		dw 910|1800h
(2) 2112/     BE4 : C4 1B               		dw 964|1800h
(2) 2113/     BE6 : FD 1B               		dw 1021|1800h
(2) 2114/     BE8 : 39 1C               		dw 1081|1800h
(2) 2115/     BEA : 7A 1C               		dw 1146|1800h
(2) 2116/     BEC : BE 1C               		dw 1214|1800h
(2) 2117/     BEE : 84 22               		dw 644|2000h		; C-4
(2) 2118/     BF0 : A9 22               		dw 681|2000h
(2) 2119/     BF2 : D2 22               		dw 722|2000h
(2) 2120/     BF4 : FD 22               		dw 765|2000h
(2) 2121/     BF6 : 2A 23               		dw 810|2000h
(2) 2122/     BF8 : 5A 23               		dw 858|2000h
(2) 2123/     BFA : 8E 23               		dw 910|2000h
(2) 2124/     BFC : C4 23               		dw 964|2000h
(2) 2125/     BFE : FD 23               		dw 1021|2000h
(2) 2126/     C00 : 39 24               		dw 1081|2000h
(2) 2127/     C02 : 7A 24               		dw 1146|2000h
(2) 2128/     C04 : BE 24               		dw 1214|2000h
(2) 2129/     C06 : 84 2A               		dw 644|2800h		; C-5
(2) 2130/     C08 : A9 2A               		dw 681|2800h
(2) 2131/     C0A : D2 2A               		dw 722|2800h
(2) 2132/     C0C : FD 2A               		dw 765|2800h
(2) 2133/     C0E : 2A 2B               		dw 810|2800h
(2) 2134/     C10 : 5A 2B               		dw 858|2800h
(2) 2135/     C12 : 8E 2B               		dw 910|2800h
(2) 2136/     C14 : C4 2B               		dw 964|2800h
(2) 2137/     C16 : FD 2B               		dw 1021|2800h
(2) 2138/     C18 : 39 2C               		dw 1081|2800h
(2) 2139/     C1A : 7A 2C               		dw 1146|2800h
(2) 2140/     C1C : BE 2C               		dw 1214|2800h		
(2) 2141/     C1E : 84 32               		dw 644|3000h		; C-6
(2) 2142/     C20 : A9 32               		dw 681|3000h
(2) 2143/     C22 : D2 32               		dw 722|3000h
(2) 2144/     C24 : FD 32               		dw 765|3000h
(2) 2145/     C26 : 2A 33               		dw 810|3000h
(2) 2146/     C28 : 5A 33               		dw 858|3000h
(2) 2147/     C2A : 8E 33               		dw 910|3000h
(2) 2148/     C2C : C4 33               		dw 964|3000h
(2) 2149/     C2E : FD 33               		dw 1021|3000h
(2) 2150/     C30 : 39 34               		dw 1081|3000h
(2) 2151/     C32 : 7A 34               		dw 1146|3000h
(2) 2152/     C34 : BE 34               		dw 1214|3000h
(2) 2153/     C36 : 84 3A               		dw 644|3800h		; C-7
(2) 2154/     C38 : A9 3A               		dw 681|3800h
(2) 2155/     C3A : D2 3A               		dw 722|3800h
(2) 2156/     C3C : FD 3A               		dw 765|3800h
(2) 2157/     C3E : 2A 3B               		dw 810|3800h
(2) 2158/     C40 : 5A 3B               		dw 858|3800h
(2) 2159/     C42 : 8E 3B               		dw 910|3800h
(2) 2160/     C44 : C4 3B               		dw 964|3800h
(2) 2161/     C46 : FD 3B               		dw 1021|3800h
(2) 2162/     C48 : 39 3C               		dw 1081|3800h
(2) 2163/     C4A : 7A 3C               		dw 1146|3800h
(2) 2164/     C4C : BE 3C               		dw 1214|3800h
(2) 2165/     C4E :                     
(2) 2166/     C4E :                     psgFreq_List:
(2) 2167/     C4E : FF FF               		dw -1		; C-0 $0
(2) 2168/     C50 : FF FF               		dw -1
(2) 2169/     C52 : FF FF               		dw -1
(2) 2170/     C54 : FF FF               		dw -1
(2) 2171/     C56 : FF FF               		dw -1
(2) 2172/     C58 : FF FF               		dw -1
(2) 2173/     C5A : FF FF               		dw -1
(2) 2174/     C5C : FF FF               		dw -1
(2) 2175/     C5E : FF FF               		dw -1
(2) 2176/     C60 : FF FF               		dw -1
(2) 2177/     C62 : FF FF               		dw -1
(2) 2178/     C64 : FF FF               		dw -1
(2) 2179/     C66 : FF FF               		dw -1		; C-1 $C
(2) 2180/     C68 : FF FF               		dw -1
(2) 2181/     C6A : FF FF               		dw -1
(2) 2182/     C6C : FF FF               		dw -1
(2) 2183/     C6E : FF FF               		dw -1
(2) 2184/     C70 : FF FF               		dw -1
(2) 2185/     C72 : FF FF               		dw -1
(2) 2186/     C74 : FF FF               		dw -1
(2) 2187/     C76 : FF FF               		dw -1
(2) 2188/     C78 : FF FF               		dw -1
(2) 2189/     C7A : FF FF               		dw -1
(2) 2190/     C7C : FF FF               		dw -1
(2) 2191/     C7E : FF FF               		dw -1		; C-2 $18
(2) 2192/     C80 : FF FF               		dw -1
(2) 2193/     C82 : FF FF               		dw -1
(2) 2194/     C84 : FF FF               		dw -1
(2) 2195/     C86 : FF FF               		dw -1
(2) 2196/     C88 : FF FF               		dw -1
(2) 2197/     C8A : FF FF               		dw -1
(2) 2198/     C8C : FF FF               		dw -1
(2) 2199/     C8E : FF FF               		dw -1
(2) 2200/     C90 : FF FF               		dw -1
(2) 2201/     C92 : FF FF               		dw -1
(2) 2202/     C94 : FF FF               		dw -1
(2) 2203/     C96 : FF FF               		dw -1		; C-3 $24
(2) 2204/     C98 : FF FF               		dw -1
(2) 2205/     C9A : FF FF               		dw -1
(2) 2206/     C9C : FF FF               		dw -1
(2) 2207/     C9E : FF FF               		dw -1
(2) 2208/     CA0 : FF FF               		dw -1
(2) 2209/     CA2 : FF FF               		dw -1
(2) 2210/     CA4 : FF FF               		dw -1
(2) 2211/     CA6 : FF FF               		dw -1
(2) 2212/     CA8 : F8 03               		dw 3F8h
(2) 2213/     CAA : BF 03               		dw 3BFh
(2) 2214/     CAC : 89 03               		dw 389h
(2) 2215/     CAE : 56 03               		dw 356h		;C-4 30
(2) 2216/     CB0 : 26 03               		dw 326h
(2) 2217/     CB2 : F9 02               		dw 2F9h
(2) 2218/     CB4 : CE 02               		dw 2CEh
(2) 2219/     CB6 : A5 02               		dw 2A5h
(2) 2220/     CB8 : 80 02               		dw 280h
(2) 2221/     CBA : 5C 02               		dw 25Ch
(2) 2222/     CBC : 3A 02               		dw 23Ah
(2) 2223/     CBE : 1A 02               		dw 21Ah
(2) 2224/     CC0 : FB 01               		dw 1FBh
(2) 2225/     CC2 : DF 01               		dw 1DFh
(2) 2226/     CC4 : C4 01               		dw 1C4h
(2) 2227/     CC6 : AB 01               		dw 1ABh		;C-5 3C
(2) 2228/     CC8 : 93 01               		dw 193h
(2) 2229/     CCA : 7D 01               		dw 17Dh
(2) 2230/     CCC : 67 01               		dw 167h
(2) 2231/     CCE : 53 01               		dw 153h
(2) 2232/     CD0 : 40 01               		dw 140h
(2) 2233/     CD2 : 2E 01               		dw 12Eh
(2) 2234/     CD4 : 1D 01               		dw 11Dh
(2) 2235/     CD6 : 0D 01               		dw 10Dh
(2) 2236/     CD8 : FE 00               		dw 0FEh
(2) 2237/     CDA : EF 00               		dw 0EFh
(2) 2238/     CDC : E2 00               		dw 0E2h
(2) 2239/     CDE : D6 00               		dw 0D6h		;C-6 48
(2) 2240/     CE0 : C9 00               		dw 0C9h
(2) 2241/     CE2 : BE 00               		dw 0BEh
(2) 2242/     CE4 : B4 00               		dw 0B4h
(2) 2243/     CE6 : A9 00               		dw 0A9h
(2) 2244/     CE8 : A0 00               		dw 0A0h
(2) 2245/     CEA : 97 00               		dw 97h
(2) 2246/     CEC : 8F 00               		dw 8Fh
(2) 2247/     CEE : 87 00               		dw 87h
(2) 2248/     CF0 : 7F 00               		dw 7Fh
(2) 2249/     CF2 : 78 00               		dw 78h
(2) 2250/     CF4 : 71 00               		dw 71h
(2) 2251/     CF6 : 6B 00               		dw 6Bh		; C-7 54
(2) 2252/     CF8 : 65 00               		dw 65h
(2) 2253/     CFA : 5F 00               		dw 5Fh
(2) 2254/     CFC : 5A 00               		dw 5Ah
(2) 2255/     CFE : 55 00               		dw 55h
(2) 2256/     D00 : 50 00               		dw 50h
(2) 2257/     D02 : 4B 00               		dw 4Bh
(2) 2258/     D04 : 47 00               		dw 47h
(2) 2259/     D06 : 43 00               		dw 43h
(2) 2260/     D08 : 40 00               		dw 40h
(2) 2261/     D0A : 3C 00               		dw 3Ch
(2) 2262/     D0C : 39 00               		dw 39h
(2) 2263/     D0E : 36 00               		dw 36h		; C-8 $60
(2) 2264/     D10 : 33 00               		dw 33h
(2) 2265/     D12 : 30 00               		dw 30h
(2) 2266/     D14 : 2D 00               		dw 2Dh
(2) 2267/     D16 : 2B 00               		dw 2Bh
(2) 2268/     D18 : 28 00               		dw 28h
(2) 2269/     D1A : 26 00               		dw 26h
(2) 2270/     D1C : 24 00               		dw 24h
(2) 2271/     D1E : 22 00               		dw 22h
(2) 2272/     D20 : 20 00               		dw 20h
(2) 2273/     D22 : 1F 00               		dw 1Fh
(2) 2274/     D24 : 1D 00               		dw 1Dh
(2) 2275/     D26 : 1B 00               		dw 1Bh		; C-9 $6C
(2) 2276/     D28 : 1A 00               		dw 1Ah
(2) 2277/     D2A : 18 00               		dw 18h
(2) 2278/     D2C : 17 00               		dw 17h
(2) 2279/     D2E : 16 00               		dw 16h
(2) 2280/     D30 : 15 00               		dw 15h
(2) 2281/     D32 : 13 00               		dw 13h
(2) 2282/     D34 : 12 00               		dw 12h
(2) 2283/     D36 : 11 00               		dw 11h
(2) 2284/     D38 : 10 00                		dw 10h
(2) 2285/     D3A : 09 00                		dw 9h
(2) 2286/     D3C : 08 00                		dw 8h
(2) 2287/     D3E : 00 00               		dw 0		; use +60 if using C-5 for tone 3 noise
(2) 2288/     D40 :                     		
(2) 2289/     D40 : 00 01               wavFreq_List:	dw 100h		; C-0
(2) 2290/     D42 : 00 01               		dw 100h
(2) 2291/     D44 : 00 01               		dw 100h
(2) 2292/     D46 : 00 01               		dw 100h
(2) 2293/     D48 : 00 01               		dw 100h
(2) 2294/     D4A : 00 01               		dw 100h
(2) 2295/     D4C : 00 01               		dw 100h	
(2) 2296/     D4E : 00 01               		dw 100h
(2) 2297/     D50 : 00 01               		dw 100h
(2) 2298/     D52 : 00 01               		dw 100h
(2) 2299/     D54 : 00 01               		dw 100h
(2) 2300/     D56 : 00 01               		dw 100h
(2) 2301/     D58 : 00 01               		dw 100h		; C-1
(2) 2302/     D5A : 00 01               		dw 100h
(2) 2303/     D5C : 00 01               		dw 100h
(2) 2304/     D5E : 00 01               		dw 100h
(2) 2305/     D60 : 00 01               		dw 100h
(2) 2306/     D62 : 00 01               		dw 100h
(2) 2307/     D64 : 00 01               		dw 100h	
(2) 2308/     D66 : 00 01               		dw 100h
(2) 2309/     D68 : 00 01               		dw 100h
(2) 2310/     D6A : 00 01               		dw 100h
(2) 2311/     D6C : 00 01               		dw 100h
(2) 2312/     D6E : 00 01               		dw 100h
(2) 2313/     D70 : 00 01               		dw 100h		; C-2
(2) 2314/     D72 : 00 01               		dw 100h
(2) 2315/     D74 : 00 01               		dw 100h
(2) 2316/     D76 : 00 01               		dw 100h
(2) 2317/     D78 : 00 01               		dw 100h
(2) 2318/     D7A : 00 01               		dw 100h
(2) 2319/     D7C : 00 01               		dw 100h
(2) 2320/     D7E : 00 01               		dw 100h
(2) 2321/     D80 : 00 01               		dw 100h
(2) 2322/     D82 : 00 01               		dw 100h
(2) 2323/     D84 : 00 01               		dw 100h
(2) 2324/     D86 : 3B 00               		dw 03Bh
(2) 2325/     D88 : 3E 00               		dw 03Eh		; C-3 5512
(2) 2326/     D8A : 43 00               		dw 043h		; C#3
(2) 2327/     D8C : 46 00               		dw 046h		; D-3
(2) 2328/     D8E : 49 00               		dw 049h		; D#3
(2) 2329/     D90 : 4E 00               		dw 04Eh		; E-3
(2) 2330/     D92 : 54 00               		dw 054h		; F-3
(2) 2331/     D94 : 58 00               		dw 058h		; F#3
(2) 2332/     D96 : 5E 00               		dw 05Eh		; G-3 8363 -17
(2) 2333/     D98 : 63 00               		dw 063h		; G#3
(2) 2334/     D9A : 68 00               		dw 068h		; A-3
(2) 2335/     D9C : 70 00               		dw 070h		; A#3
(2) 2336/     D9E : 75 00               		dw 075h		; B-3
(2) 2337/     DA0 : 7F 00               		dw 07Fh		; C-4 11025 -12
(2) 2338/     DA2 : 88 00               		dw 088h		; C#4
(2) 2339/     DA4 : 8F 00               		dw 08Fh		; D-4
(2) 2340/     DA6 : 97 00               		dw 097h		; D#4
(2) 2341/     DA8 : A0 00               		dw 0A0h		; E-4
(2) 2342/     DAA : AD 00               		dw 0ADh		; F-4
(2) 2343/     DAC : B5 00               		dw 0B5h		; F#4
(2) 2344/     DAE : C0 00               		dw 0C0h		; G-4
(2) 2345/     DB0 : CC 00               		dw 0CCh		; G#4
(2) 2346/     DB2 : D7 00               		dw 0D7h		; A-4
(2) 2347/     DB4 : E7 00               		dw 0E7h		; A#4
(2) 2348/     DB6 : F0 00               		dw 0F0h		; B-4
(2) 2349/     DB8 : 00 01               		dw 100h		; C-5 22050
(2) 2350/     DBA : 10 01               		dw 110h		; C#5
(2) 2351/     DBC : 20 01               		dw 120h		; D-5
(2) 2352/     DBE : 2C 01               		dw 12Ch		; D#5
(2) 2353/     DC0 : 42 01               		dw 142h		; E-5
(2) 2354/     DC2 : 58 01               		dw 158h		; F-5
(2) 2355/     DC4 : 6A 01               		dw 16Ah		; F#5 32000 +6
(2) 2356/     DC6 : 7E 01               		dw 17Eh		; G-5
(2) 2357/     DC8 : 90 01               		dw 190h		; G#5
(2) 2358/     DCA : AC 01               		dw 1ACh		; A-5
(2) 2359/     DCC : C2 01               		dw 1C2h		; A#5
(2) 2360/     DCE : E0 01               		dw 1E0h		; B-5
(2) 2361/     DD0 : F8 01               		dw 1F8h		; C-6 44100 +12
(2) 2362/     DD2 : 10 02               		dw 210h		; C#6
(2) 2363/     DD4 : 40 02               		dw 240h		; D-6
(2) 2364/     DD6 : 60 02               		dw 260h		; D#6
(2) 2365/     DD8 : 80 02               		dw 280h		; E-6
(2) 2366/     DDA : A0 02               		dw 2A0h		; F-6
(2) 2367/     DDC : D0 02               		dw 2D0h		; F#6
(2) 2368/     DDE : F8 02               		dw 2F8h		; G-6
(2) 2369/     DE0 : 20 03               		dw 320h		; G#6
(2) 2370/     DE2 : 50 03               		dw 350h		; A-6
(2) 2371/     DE4 : 80 03               		dw 380h		; A#6
(2) 2372/     DE6 : C0 03               		dw 3C0h		; B-6
(2) 2373/     DE8 : 00 04               		dw 400h		; C-7 88200
(2) 2374/     DEA : 00 01               		dw 100h
(2) 2375/     DEC : 00 01               		dw 100h
(2) 2376/     DEE : 00 01               		dw 100h
(2) 2377/     DF0 : 00 01               		dw 100h
(2) 2378/     DF2 : 00 01               		dw 100h
(2) 2379/     DF4 : 00 01               		dw 100h	
(2) 2380/     DF6 : 00 01               		dw 100h
(2) 2381/     DF8 : 00 01               		dw 100h
(2) 2382/     DFA : 00 01               		dw 100h
(2) 2383/     DFC : 00 01               		dw 100h
(2) 2384/     DFE : 00 01               		dw 100h	
(2) 2385/     E00 : 00 01               		dw 100h		; C-8
(2) 2386/     E02 : 00 01               		dw 100h
(2) 2387/     E04 : 00 01               		dw 100h
(2) 2388/     E06 : 00 01               		dw 100h
(2) 2389/     E08 : 00 01               		dw 100h
(2) 2390/     E0A : 00 01               		dw 100h
(2) 2391/     E0C : 00 01               		dw 100h	
(2) 2392/     E0E : 00 01               		dw 100h
(2) 2393/     E10 : 00 01               		dw 100h
(2) 2394/     E12 : 00 01               		dw 100h
(2) 2395/     E14 : 00 01               		dw 100h
(2) 2396/     E16 : 00 01               		dw 100h	
(2) 2397/     E18 : 00 01               		dw 100h		; C-9
(2) 2398/     E1A : 00 01               		dw 100h
(2) 2399/     E1C : 00 01               		dw 100h
(2) 2400/     E1E : 00 01               		dw 100h
(2) 2401/     E20 : 00 01               		dw 100h
(2) 2402/     E22 : 00 01               		dw 100h
(2) 2403/     E24 : 00 01               		dw 100h	
(2) 2404/     E26 : 00 01               		dw 100h
(2) 2405/     E28 : 00 01               		dw 100h
(2) 2406/     E2A : 00 01               		dw 100h
(2) 2407/     E2C : 00 01               		dw 100h
(2) 2408/     E2E : 00 01               		dw 100h
(2) 2409/     E30 :                     		
(2) 2410/     E30 :                     ; ====================================================================
(2) 2411/     E30 :                     ; ----------------------------------------------------------------
(2) 2412/     E30 :                     ; Z80 RAM
(2) 2413/     E30 :                     ; ----------------------------------------------------------------
(2) 2414/     E30 :                     
(2) 2415/     E30 :                     ; ----------------------------------------------------
(2) 2416/     E30 :                     ; Tracker data buffer
(2) 2417/     E30 :                     ; ----------------------------------------------------
(2) 2418/     E30 :                     
(2) 2419/     E30 : =0H                 trck_ReqBlk	equ 00h		; word
(2) 2420/     E30 : =2H                 trck_ReqPatt	equ 02h		; word
(2) 2421/     E30 : =4H                 trck_ReqIns	equ 04h		; word
(2) 2422/     E30 : =6H                 trck_ReqTicks	equ 06h
(2) 2423/     E30 : =7H                 trck_ReqTempo	equ 07h
(2) 2424/     E30 : =8H                 trck_ReqCurrBlk	equ 08h
(2) 2425/     E30 : =9H                 trck_ReqSndBnk	equ 09h
(2) 2426/     E30 : =AH                 trck_ReqFlag	equ 0Ah
(2) 2427/     E30 : =BH                 trck_ReqChnls	equ 0Bh
(2) 2428/     E30 : =CH                 trck_PsgNoise	equ 0Ch
(2) 2429/     E30 : =DH                 trck_TicksRead	equ 0Dh
(2) 2430/     E30 : =EH                 trck_BlockCurr	equ 0Eh
(2) 2431/     E30 : =FH                 trck_MasterVol	equ 0Fh
(2) 2432/     E30 : =10H                trck_Priority	equ 10h
(2) 2433/     E30 : =11H                trck_Active	equ 11h
(2) 2434/     E30 : =12H                trck_Blocks	equ 12h		; word
(2) 2435/     E30 : =14H                trck_PattBase	equ 14h		; word
(2) 2436/     E30 : =16H                trck_Instr	equ 16h		; word
(2) 2437/     E30 : =18H                trck_PattRead	equ 18h		; word
(2) 2438/     E30 : =1AH                trck_RowSteps	equ 1Ah		; word
(2) 2439/     E30 : =1CH                trck_TicksMain 	equ 1Ch
(2) 2440/     E30 : =1DH                trck_TempoBits	equ 1Dh
(2) 2441/     E30 : =1EH                trck_RowWait	equ 1Eh
(2) 2442/     E30 : =1FH                trck_TicksCurr	equ 1Fh
(2) 2443/     E30 :                     
(2) 2444/     E30 :                     ; ----------------------------------------------------
(2) 2445/     E30 :                     ; Track buffer
(2) 2446/     E30 :                     ; ----------------------------------------------------
(2) 2447/     E30 :                     
(2) 2448/     E30 :                     SndBuff_Track_1:
(2) 2449/     E30 :                     		ds 10h		; Request list
(2) 2450/     E40 : 00                  		db 0		; Priority
(2) 2451/     E41 :                     		ds 0Fh		; Main track
(2) 2452/     E50 :                     SndBuff_Track_2:
(2) 2453/     E50 :                     		ds 10h
(2) 2454/     E60 : 01                  		db 1
(2) 2455/     E61 :                     		ds 0Fh
(2) 2456/     E70 :                     
(2) 2457/     E70 :                     ; ----------------------------------------------------
(2) 2458/     E70 :                     ; Tracker note buffers
(2) 2459/     E70 :                     ; ----------------------------------------------------
(2) 2460/     E70 :                     
(2) 2461/     E70 : =0H                 chnl_Chip	equ 0
(2) 2462/     E70 : =1H                 chnl_Type	equ 1
(2) 2463/     E70 : =2H                 chnl_Note	equ 2
(2) 2464/     E70 : =3H                 chnl_Ins	equ 3
(2) 2465/     E70 : =4H                 chnl_Vol	equ 4
(2) 2466/     E70 : =5H                 chnl_EffId	equ 5
(2) 2467/     E70 : =6H                 chnl_EffArg	equ 6
(2) 2468/     E70 : =7H                 chnl_InsAddr	equ 7		; word
(2) 2469/     E70 : =9H                 chnl_Freq	equ 09h		; word
(2) 2470/     E70 : =BH                 chnl_InsType	equ 0Bh
(2) 2471/     E70 : =CH                 chnl_InsOpt	equ 0Ch
(2) 2472/     E70 : =DH                 chnl_FmPan	equ 0Dh
(2) 2473/     E70 : =EH                 chnl_FmRegB0	equ 0Eh
(2) 2474/     E70 : =FH                 chnl_FmRegB4	equ 0Fh
(2) 2475/     E70 : =10H                chnl_FmRegKeys	equ 10h
(2) 2476/     E70 : =11H                chnl_FmVolBase	equ 11h
(2) 2477/     E70 : =12H                chnl_PsgVolBase	equ 12h
(2) 2478/     E70 : =13H                chnl_PsgVolEnv	equ 13h
(2) 2479/     E70 : =14H                chnl_PsgIndx	equ 14h
(2) 2480/     E70 : =15H                chnl_SmplFlags	equ 15h
(2) 2481/     E70 : =16H                chnl_EfVolSlide	equ 16h
(2) 2482/     E70 : =17H                chnl_EfNewVol	equ 17h
(2) 2483/     E70 : =18H                chnl_EfPortam	equ 18h		; word
(2) 2484/     E70 : =1AH                chnl_EfNewFreq	equ 1Ah		; word
(2) 2485/     E70 : =1CH                chnl_PsgOutFreq	equ 1Ch		; word
(2) 2486/     E70 :                     
(2) 2487/     E70 :                     SndBuff_ChnlBuff_1:
(2) 2488/     E70 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2489/     E78 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2490/     E80 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2491/     E88 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2492/     E90 :                     		
(2) 2493/     E90 : 01 00 00 00 00 00   		db 01h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2494/     E98 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2495/     EA0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2496/     EA8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2497/     EB0 :                     
(2) 2498/     EB0 : 04 00 00 00 00 00   		db 04h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2499/     EB8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2500/     EC0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2501/     EC8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2502/     ED0 :                     
(2) 2503/     ED0 : 05 00 00 00 00 00   		db 05h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2504/     ED8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2505/     EE0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2506/     EE8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2507/     EF0 :                     		
(2) 2508/     EF0 : 02 00 00 00 00 00   		db 02h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2509/     EF8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2510/     F00 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2511/     F08 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2512/     F10 :                     
(2) 2513/     F10 : 06 00 00 00 00 00   		db 06h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2514/     F18 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2515/     F20 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2516/     F28 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2517/     F30 :                     
(2) 2518/     F30 :                     ; SndBuff_ChnlPsg_1:
(2) 2519/     F30 : 80 00 00 00 00 00   		db 80h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2520/     F38 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2521/     F40 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2522/     F48 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2523/     F50 :                     
(2) 2524/     F50 : A0 00 00 00 00 00   		db 0A0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2525/     F58 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2526/     F60 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2527/     F68 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2528/     F70 :                     
(2) 2529/     F70 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2530/     F78 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2531/     F80 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2532/     F88 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2533/     F90 :                     
(2) 2534/     F90 : E0 00 00 00 00 00   		db 0E0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2535/     F98 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2536/     FA0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2537/     FA8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2538/     FB0 :                     
(2) 2539/     FB0 :                     		
(2) 2540/     FB0 :                     SndBuff_ChnlBuff_2:
(2) 2541/     FB0 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2542/     FB8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2543/     FC0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2544/     FC8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2545/     FD0 :                     		
(2) 2546/     FD0 : 01 00 00 00 00 00   		db 01h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2547/     FD8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2548/     FE0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2549/     FE8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2550/     FF0 :                     
(2) 2551/     FF0 : 04 00 00 00 00 00   		db 04h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2552/     FF8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2553/    1000 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2554/    1008 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2555/    1010 :                     
(2) 2556/    1010 : 05 00 00 00 00 00   		db 05h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2557/    1018 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2558/    1020 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2559/    1028 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2560/    1030 :                     		
(2) 2561/    1030 : 02 00 00 00 00 00   		db 02h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2562/    1038 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2563/    1040 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2564/    1048 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2565/    1050 :                     
(2) 2566/    1050 : 06 00 00 00 00 00   		db 06h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2567/    1058 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2568/    1060 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2569/    1068 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2570/    1070 :                     
(2) 2571/    1070 :                     ; SndBuff_ChnlPsg_2:
(2) 2572/    1070 : 80 00 00 00 00 00   		db 80h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2573/    1078 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2574/    1080 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2575/    1088 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2576/    1090 :                     
(2) 2577/    1090 : A0 00 00 00 00 00   		db 0A0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2578/    1098 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2579/    10A0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2580/    10A8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2581/    10B0 :                     
(2) 2582/    10B0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2583/    10B8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2584/    10C0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2585/    10C8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2586/    10D0 :                     
(2) 2587/    10D0 : E0 00 00 00 00 00   		db 0E0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2588/    10D8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2589/    10E0 : C0 00 00 00 00 00   		db 0C0h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2590/    10E8 : 00 00 00 00 00 00   		db 00h,00h,00h,00h,00h,00h,00h,00h
                    00 00 
(2) 2591/    10F0 :                     
(2) 2592/    10F0 :                     SndBuff_UsedChnls:
(2) 2593/    10F0 :                     		ds 10*MAX_TRACKS
(2) 2594/    1104 :                     SndBuff_UsedChnls_2:
(2) 2595/    1104 :                     		ds 10*MAX_TRACKS
(2) 2596/    1118 :                     
(2) 2597/    1118 :                     ; ====================================================================
(2) 2598/    1118 :                     ; ----------------------------------------------------------------
(2) 2599/    1118 :                     ; MUSIC DATA
(2) 2600/    1118 :                     ; ----------------------------------------------------------------
(2) 2601/    1118 :                     
(2) 2602/    1118 :                     ; ----------------------------------------------------
(2) 2603/    1118 :                     ; PSG Instruments
(2) 2604/    1118 :                     ; ----------------------------------------------------
(2) 2605/    1118 :                     
(2) 2606/    1118 : 00                  PsgIns_00:	db 0
(2) 2607/    1119 : FF                  		db -1
(2) 2608/    111A : 00 02 04 05 06      PsgIns_01:	db 0,2,4,5,6
(2) 2609/    111F : FF                  		db -1
(2) 2610/    1120 : 00 0F               PsgIns_02:	db 0,15
(2) 2611/    1122 : FF                  		db -1
(2) 2612/    1123 : 00 00 01 01 02 02   PsgIns_03:	db 0,0,1,1,2,2,3,4,6,10,15
                    03 04 06 0A 0F 
(2) 2613/    112E : FF                  		db -1
(2) 2614/    112F : 00 02 04 06 0A      PsgIns_04:	db 0,2,4,6,10
(2) 2615/    1134 : FF                  		db -1	
(2) 2616/    1135 :                     		align 4
(2) 2617/    1138 :                     		
(2) 2618/    1138 :                     ; ----------------------------------------------------
(2) 2619/    1138 :                     ; FM Instruments
(2) 2620/    1138 :                     ; ----------------------------------------------------
(2) 2621/    1138 :                     
(2) 2622/    1138 :                     ; .gsx instruments; filename,$2478,$20 ($28 for FM3 instruments)
(2) 2623/    1138 :                     FmIns_Fm3_OpenHat:
(2) 2624/    1138 :                     		binclude "game/sound/instr/fm/fm3_openhat.gsx",2478h,28h
(2) 2625/    1160 :                     FmIns_Fm3_ClosedHat:
(2) 2626/    1160 :                     		binclude "game/sound/instr/fm/fm3_closedhat.gsx",2478h,28h
(2) 2627/    1188 :                     FmIns_DrumKick:
(2) 2628/    1188 :                     		binclude "game/sound/instr/fm/drum_kick.gsx",2478h,20h
(2) 2629/    11A8 :                     FmIns_DrumSnare:
(2) 2630/    11A8 :                     		binclude "game/sound/instr/fm/drum_snare.gsx",2478h,20h
(2) 2631/    11C8 :                     FmIns_DrumCloseHat:
(2) 2632/    11C8 :                     		binclude "game/sound/instr/fm/drum_closehat.gsx",2478h,20h
(2) 2633/    11E8 :                     FmIns_Piano_m1:
(2) 2634/    11E8 :                     		binclude "game/sound/instr/fm/piano_m1.gsx",2478h,20h
(2) 2635/    1208 :                     FmIns_Bass_gum:
(2) 2636/    1208 :                     		binclude "game/sound/instr/fm/bass_gum.gsx",2478h,20h
(2) 2637/    1228 :                     FmIns_Bass_calm:
(2) 2638/    1228 :                     		binclude "game/sound/instr/fm/bass_calm.gsx",2478h,20h
(2) 2639/    1248 :                     FmIns_Bass_heavy:
(2) 2640/    1248 :                     		binclude "game/sound/instr/fm/bass_heavy.gsx",2478h,20h
(2) 2641/    1268 :                     FmIns_Bass_ambient:
(2) 2642/    1268 :                     		binclude "game/sound/instr/fm/bass_ambient.gsx",2478h,20h
(2) 2643/    1288 :                     FmIns_Brass_gummy:
(2) 2644/    1288 :                     		binclude "game/sound/instr/fm/brass_gummy.gsx",2478h,20h
(2) 2645/    12A8 :                     FmIns_Flaute_1:
(2) 2646/    12A8 :                     		binclude "game/sound/instr/fm/flaute_1.gsx",2478h,20h
(2) 2647/    12C8 :                     FmIns_Bass_2:
(2) 2648/    12C8 :                     		binclude "game/sound/instr/fm/bass_2.gsx",2478h,20h
(2) 2649/    12E8 :                     FmIns_Bass_3:
(2) 2650/    12E8 :                     		binclude "game/sound/instr/fm/bass_3.gsx",2478h,20h
(2) 2651/    1308 :                     FmIns_Bass_5:
(2) 2652/    1308 :                     		binclude "game/sound/instr/fm/bass_5.gsx",2478h,20h
(2) 2653/    1328 :                     FmIns_Bass_synth:
(2) 2654/    1328 :                     		binclude "game/sound/instr/fm/bass_synth_1.gsx",2478h,20h
(2) 2655/    1348 :                     FmIns_Guitar_1:
(2) 2656/    1348 :                     		binclude "game/sound/instr/fm/guitar_1.gsx",2478h,20h
(2) 2657/    1368 :                     FmIns_Horn_1:
(2) 2658/    1368 :                     		binclude "game/sound/instr/fm/horn_1.gsx",2478h,20h
(2) 2659/    1388 :                     FmIns_Organ_M1:
(2) 2660/    1388 :                     		binclude "game/sound/instr/fm/organ_m1.gsx",2478h,20h
(2) 2661/    13A8 :                     FmIns_Bass_Beach:
(2) 2662/    13A8 :                     		binclude "game/sound/instr/fm/bass_beach.gsx",2478h,20h
(2) 2663/    13C8 :                     FmIns_Bass_Beach_2:
(2) 2664/    13C8 :                     		binclude "game/sound/instr/fm/bass_beach_2.gsx",2478h,20h
(2) 2665/    13E8 :                     FmIns_Brass_Cave:
(2) 2666/    13E8 :                     		binclude "game/sound/instr/fm/brass_cave.gsx",2478h,20h
(2) 2667/    1408 :                     FmIns_Piano_Small:
(2) 2668/    1408 :                     		binclude "game/sound/instr/fm/piano_small.gsx",2478h,20h
(2) 2669/    1428 :                     FmIns_Trumpet_2:
(2) 2670/    1428 :                     		binclude "game/sound/instr/fm/trumpet_2.gsx",2478h,20h
(2) 2671/    1448 :                     FmIns_Bell_Glass:
(2) 2672/    1448 :                     		binclude "game/sound/instr/fm/bell_glass.gsx",2478h,20h
(2) 2673/    1468 :                     FmIns_Marimba_1:
(2) 2674/    1468 :                     		binclude "game/sound/instr/fm/marimba_1.gsx",2478h,20h
(2) 2675/    1488 :                     FmIns_Ambient_dark:
(2) 2676/    1488 :                     		binclude "game/sound/instr/fm/ambient_dark.gsx",2478h,20h
(2) 2677/    14A8 :                     FmIns_Ambient_spook:
(2) 2678/    14A8 :                     		binclude "game/sound/instr/fm/ambient_spook.gsx",2478h,20h
(2) 2679/    14C8 :                     FmIns_Ding_toy:
(2) 2680/    14C8 :                     		binclude "game/sound/instr/fm/ding_toy.gsx",2478h,20h
(2) 2681/    14E8 :                     
(1)  138/    14E8 :                     		
(1)  139/    14E8 :                     ; ====================================================================
(1)  140/    14E8 :                     
(1)  141/    14E8 :                     		cpu 68000
(1)  142/    14E8 :                     		padding off
(1)  143/    18E8 :                     		phase Z80_CODE+*
(1)  144/    18E8 :                     Z80_CODE_END:
(1)  145/    18E8 :                     		align 2
(1)  146/    18E8 :                     
(1)  147/    18E8 :                     ; ====================================================================
(1)  148/    18E8 :                     ; ----------------------------------------------------------------
(1)  149/    18E8 :                     ; Sound data goes here
(1)  150/    18E8 :                     ; ----------------------------------------------------------------
(1)  151/    18E8 :                     
      39/    18E8 :                     		include "system/md/video.asm"		; Video
(1)    1/    18E8 :                     ; ====================================================================
(1)    2/    18E8 :                     ; ----------------------------------------------------------------
(1)    3/    18E8 :                     ; MD Video
(1)    4/    18E8 :                     ; ----------------------------------------------------------------
(1)    5/    18E8 :                     
(1)    6/    18E8 :                     ; --------------------------------------------------------
(1)    7/    18E8 :                     ; Init Video
(1)    8/    18E8 :                     ; 
(1)    9/    18E8 :                     ; Uses:
(1)   10/    18E8 :                     ; a0-a2,d0-d1
(1)   11/    18E8 :                     ; --------------------------------------------------------
(1)   12/    18E8 :                     
(1)   13/    18E8 :                     Video_Init:
(1)   14/    18E8 : 41FA 059E           		lea	list_vdpregs(pc),a0	; a0 - Input data for default register data
(1)   15/    18EC : 43F8 A010           		lea	(RAM_VdpCache),a1	; a1 - Ouptut register bytes for fast access
(1)   16/    18F0 : 45F9 00C0 0004      		lea	(vdp_ctrl),a2		; a2 - VDP control port
(1)   17/    18F6 : 303C 8000           		move.w	#$8000,d0		; d0 - $8000, start at first register
(1)   18/    18FA : 7212                		moveq	#19-1,d1		; d1 - 19 registers, minus 1
(1)   19/    18FC :                     .loop:
(1)   20/    18FC : 1018                		move.b	(a0)+,d0		; Grab BYTE from the list, d0 = $8?xx, increment
(1)   21/    18FE : 12C0                		move.b	d0,(a1)+		; Write BYTE $00xx to RAM, increment
(1)   22/    1900 : 3480                		move.w	d0,(a2)			; Write WORD $xxxx register to control port
(1)   23/    1902 : D07C 0100           		add.w	#$100,d0		; next register, d0 += 0x0100
(1)   24/    1906 : 51C9 FFF4           		dbf	d1,.loop		; loop until d1 == 0
(1)   25/    190A :                     		
(1)   26/    190A : 303C 0000           		move.w	#0,d0			; Clear almost all of VRAM
(1)   27/    190E : 323C FFE0           		move.w	#$7FF*$20,d1
(1)   28/    1912 : 343C 0001           		move.w	#1,d2
(1)   29/    1916 : 6000 03E2           		bra	Video_Fill
(1)   30/    191A :                     
(1)   31/    191A :                     ; --------------------------------------------------------
(1)   32/    191A :                     ; Video_InitPrint
(1)   33/    191A :                     ; 
(1)   34/    191A :                     ; Call this before using any on-screen text print
(1)   35/    191A :                     ; 
(1)   36/    191A :                     ; Graphics will be located at $5A0
(1)   37/    191A :                     ; (ASCII starts at $580)
(1)   38/    191A :                     ; Uses palette line 4
(1)   39/    191A :                     ; 
(1)   40/    191A :                     ; Uses:
(1)   41/    191A :                     ; a0-a2,d0-d1
(1)   42/    191A :                     ; --------------------------------------------------------
(1)   43/    191A :                     
(1)   44/    191A :                     Video_InitPrint:
(1)   45/    191A :                     ; 		move.w	#$580|$6000,(RAM_VidPrntVram).w	; VRAM | Palette 4
(1)   46/    191A : 31FC 0000 A088      		move.w	#0,(RAM_VidPrntVram).w	; VRAM | Palette 4
(1)   47/    1920 : 203C 0000 1E9C      		move.l	#Art_PrintFont,d0
(1)   48/    1926 : 323C 0C00           		move.w	#(Art_PrintFont_e-Art_PrintFont),d1
(1)   49/    192A : 343C 05A0           		move.w	#$580+$20,d2
(1)   50/    192E : 6100 04C4           		bsr	Video_LoadArt
(1)   51/    1932 : 41FA 1168           		lea	Pal_PrintFont(pc),a0
(1)   52/    1936 : 7030                		moveq	#$30,d0
(1)   53/    1938 : 323C 0004           		move.w	#4,d1
(1)   54/    193C : 6072                		bra	Video_LoadPal
(1)   55/    193E :                     		
(1)   56/    193E :                     ; ====================================================================
(1)   57/    193E :                     ; ----------------------------------------------------------------
(1)   58/    193E :                     ; Video subroutines
(1)   59/    193E :                     ; ----------------------------------------------------------------
(1)   60/    193E :                     
(1)   61/    193E :                     ; ---------------------------------
(1)   62/    193E :                     ; Video_Update
(1)   63/    193E :                     ; 
(1)   64/    193E :                     ; Update registers from cache
(1)   65/    193E :                     ; to VDP
(1)   66/    193E :                     ; 
(1)   67/    193E :                     ; Uses:
(1)   68/    193E :                     ; d4-d5,a4-a5
(1)   69/    193E :                     ; ---------------------------------
(1)   70/    193E :                     
(1)   71/    193E :                     Video_Update:
(1)   72/    193E : 49F8 A010           		lea	(RAM_VdpCache).w,a4
(1)   73/    1942 : 4BF9 00C0 0004      		lea	(vdp_ctrl),a5
(1)   74/    1948 : 383C 8000           		move.w	#$8000,d4
(1)   75/    194C : 3A3C 0010           		move.w	#17-1,d5
(1)   76/    1950 :                     .loop:
(1)   77/    1950 : 181C                		move.b	(a4)+,d4
(1)   78/    1952 : 3A84                		move.w	d4,(a5)
(1)   79/    1954 : D87C 0100           		add.w	#$100,d4
(1)   80/    1958 : 51CD FFF6           		dbf	d5,.loop
(1)   81/    195C :                     .exit:
(1)   82/    195C : 4E75                		rts
(1)   83/    195E :                     
(1)   84/    195E :                     ; --------------------------------------------------------
(1)   85/    195E :                     ; Video_Clear
(1)   86/    195E :                     ; 
(1)   87/    195E :                     ; Clear background layers
(1)   88/    195E :                     ; --------------------------------------------------------
(1)   89/    195E :                     
(1)   90/    195E :                     Video_Clear:
(1)   91/    195E : 6100 035E           		bsr	vid_PickSize
(1)   92/    1962 : 3204                		move.w	d4,d1
(1)   93/    1964 :                     
(1)   94/    1964 : 7000                		moveq	#0,d0
(1)   95/    1966 : 1439 FFFF A012      		move.b	(RAM_VdpCache+2).l,d2	; FG
(1)   96/    196C : 0242 0038           		andi.w	#%111000,d2
(1)   97/    1970 : E14A                		lsl.w	#8,d2
(1)   98/    1972 : E54A                		lsl.w	#2,d2
(1)   99/    1974 : 6100 0384           		bsr	Video_Fill
(1)  100/    1978 : 1439 FFFF A013      		move.b	(RAM_VdpCache+3).l,d2	; BG
(1)  101/    197E : 0242 0007           		andi.w	#%000111,d2
(1)  102/    1982 : E14A                		lsl.w	#8,d2
(1)  103/    1984 : EB4A                		lsl.w	#5,d2
(1)  104/    1986 : 6100 0372           		bsr	Video_Fill
(1)  105/    198A :                     
(1)  106/    198A : 323C 07FF           		move.w	#$7FF,d1		; WD Size
(1)  107/    198E : 1439 FFFF A01C      		move.b	(RAM_VdpCache+$C).l,d2
(1)  108/    1994 : C47C 0081           		and.w	#%10000001,d2
(1)  109/    1998 : 6704                		beq.s	.smlwdw
(1)  110/    199A : 323C 0FFF           		move.w	#$FFF,d1
(1)  111/    199E :                     .smlwdw:
(1)  112/    199E : 1439 FFFF A014      		move.b	(RAM_VdpCache+4).l,d2	; Window
(1)  113/    19A4 : 0242 003E           		andi.w	#%111110,d2
(1)  114/    19A8 : E14A                		lsl.w	#8,d2
(1)  115/    19AA : E54A                		lsl.w	#2,d2
(1)  116/    19AC : 6000 034C           		bra	Video_Fill
(1)  117/    19B0 :                     
(1)  118/    19B0 :                     ; --------------------------------------------------------
(1)  119/    19B0 :                     ; Video_LoadPal
(1)  120/    19B0 :                     ; 
(1)  121/    19B0 :                     ; Load palette to VDP
(1)  122/    19B0 :                     ; 
(1)  123/    19B0 :                     ; NOTE: Color dots will be shown on screen
(1)  124/    19B0 :                     ; 
(1)  125/    19B0 :                     ; Input:
(1)  126/    19B0 :                     ; a0 - Palette data
(1)  127/    19B0 :                     ; d0 - Start position
(1)  128/    19B0 :                     ; d1 - Number of colors - 1
(1)  129/    19B0 :                     ; 
(1)  130/    19B0 :                     ; Uses:
(1)  131/    19B0 :                     ; a4,d4
(1)  132/    19B0 :                     ; --------------------------------------------------------
(1)  133/    19B0 :                     
(1)  134/    19B0 :                     Video_LoadPal:
(1)  135/    19B0 : 49F9 00C0 0000      		lea	(vdp_data),a4
(1)  136/    19B6 : 7800                		moveq	#0,d4
(1)  137/    19B8 : 3800                		move.w	d0,d4
(1)  138/    19BA : D844                		add.w	d4,d4
(1)  139/    19BC : 0044 C000           		ori.w	#$C000,d4
(1)  140/    19C0 : 4844                		swap	d4
(1)  141/    19C2 : 2944 0004           		move.l	d4,4(a4)
(1)  142/    19C6 : 3801                		move.w	d1,d4
(1)  143/    19C8 :                     .loop:
(1)  144/    19C8 : 3898                		move.w	(a0)+,(a4)
(1)  145/    19CA : 51CC FFFC           		dbf	d4,.loop
(1)  146/    19CE : 4E75                		rts
(1)  147/    19D0 :                     
(1)  148/    19D0 :                     ; --------------------------------------------------------
(1)  149/    19D0 :                     ; Video_LoadMap
(1)  150/    19D0 :                     ; 
(1)  151/    19D0 :                     ; Load map data, Horizontal order
(1)  152/    19D0 :                     ; 
(1)  153/    19D0 :                     ; a0 - Map data
(1)  154/    19D0 :                     ; d0 | LONG - 00|Layer|X|Y, locate(lyr,x,y)
(1)  155/    19D0 :                     ; d1 | LONG - Width|Height (cells),  mapsize(x,y)
(1)  156/    19D0 :                     ; d2 | WORD - VRAM
(1)  157/    19D0 :                     
(1)  158/    19D0 :                     ; Uses:
(1)  159/    19D0 :                     ; a4-a5,d4-d7
(1)  160/    19D0 :                     ; --------------------------------------------------------
(1)  161/    19D0 :                     
(1)  162/    19D0 :                     Video_LoadMap:
(1)  163/    19D0 : 49F9 00C0 0000      		lea	(vdp_data),a4
(1)  164/    19D6 : 6100 024A           		bsr	vid_PickLayer
(1)  165/    19DA :                     		
(1)  166/    19DA :                     	; Start here
(1)  167/    19DA : 3A01                		move.w	d1,d5
(1)  168/    19DC :                     .yloop:
(1)  169/    19DC : 4845                		swap	d5
(1)  170/    19DE : 2944 0004           		move.l	d4,4(a4)
(1)  171/    19E2 : 2E01                		move.l	d1,d7
(1)  172/    19E4 : 4847                		swap	d7
(1)  173/    19E6 :                     .xloop:
(1)  174/    19E6 : 3A18                		move.w	(a0)+,d5
(1)  175/    19E8 : BA7C FFFF           		cmp.w	#-1,d5
(1)  176/    19EC : 6606                		bne.s	.nonull
(1)  177/    19EE : 3A3C 07FF           		move.w	#varNullVram,d5
(1)  178/    19F2 : 6002                		bra.s	.cont
(1)  179/    19F4 :                     .nonull:
(1)  180/    19F4 : DA42                		add.w	d2,d5
(1)  181/    19F6 :                     .cont:
(1)  182/    19F6 : 4847                		swap	d7
(1)  183/    19F8 : 1E39 FFFF A01C      		move.b	(RAM_VdpCache+$C).l,d7
(1)  184/    19FE : CE7C 0006           		and.w	#%110,d7
(1)  185/    1A02 : BE7C 0006           		cmp.w	#%110,d7
(1)  186/    1A06 : 660E                		bne.s	.nodble
(1)  187/    1A08 : 3E05                		move.w	d5,d7
(1)  188/    1A0A : E24F                		lsr.w	#1,d7
(1)  189/    1A0C : CE7C 07FF           		and.w	#$7FF,d7
(1)  190/    1A10 : CA7C F800           		and.w	#$F800,d5
(1)  191/    1A14 : 8A47                		or.w	d7,d5
(1)  192/    1A16 :                     .nodble:
(1)  193/    1A16 : 4847                		swap	d7
(1)  194/    1A18 : 3885                		move.w	d5,(a4)
(1)  195/    1A1A : 51CF FFCA           		dbf	d7,.xloop
(1)  196/    1A1E : D886                		add.l	d6,d4
(1)  197/    1A20 : 4845                		swap	d5
(1)  198/    1A22 : 51CD FFB8           		dbf	d5,.yloop
(1)  199/    1A26 : 4E75                		rts
(1)  200/    1A28 :                     
(1)  201/    1A28 :                     ; --------------------------------------------------------
(1)  202/    1A28 :                     ; Video_LoadMap_Vert
(1)  203/    1A28 :                     ; 
(1)  204/    1A28 :                     ; Load map data, Vertical order
(1)  205/    1A28 :                     ; 
(1)  206/    1A28 :                     ; a0 - Map data
(1)  207/    1A28 :                     ; d0 | LONG - 00|Lyr|X|Y,  locate(lyr,x,y)
(1)  208/    1A28 :                     ; d1 | LONG - Width|Height (cells),  mapsize(x,y)
(1)  209/    1A28 :                     ; d2 | WORD - VRAM
(1)  210/    1A28 :                     
(1)  211/    1A28 :                     ; Uses:
(1)  212/    1A28 :                     ; a4-a5,d4-d7
(1)  213/    1A28 :                     ; --------------------------------------------------------
(1)  214/    1A28 :                     
(1)  215/    1A28 :                     Video_LoadMap_Vert:
(1)  216/    1A28 : 49F9 00C0 0000      		lea	(vdp_data),a4
(1)  217/    1A2E : 6100 01F2           		bsr	vid_PickLayer
(1)  218/    1A32 :                     		
(1)  219/    1A32 :                     	; Start here
(1)  220/    1A32 : 2A01                		move.l	d1,d5
(1)  221/    1A34 : 4845                		swap	d5
(1)  222/    1A36 :                     .xloop:
(1)  223/    1A36 : 4845                		swap	d5
(1)  224/    1A38 : 2F04                		move.l	d4,-(sp)
(1)  225/    1A3A : 3E01                		move.w	d1,d7
(1)  226/    1A3C : 0839 0002 FFFF A01C 		btst	#2,(RAM_VdpCache+$C).l
(1)  227/    1A44 : 6702                		beq.s	.yloop
(1)  228/    1A46 : E24F                		lsr.w	#1,d7
(1)  229/    1A48 :                     .yloop:
(1)  230/    1A48 : 2944 0004           		move.l	d4,4(a4)
(1)  231/    1A4C : 3A10                		move.w	(a0),d5
(1)  232/    1A4E : BA7C FFFF           		cmp.w	#-1,d5
(1)  233/    1A52 : 6606                		bne.s	.nonull
(1)  234/    1A54 : 3A3C 07FF           		move.w	#varNullVram,d5
(1)  235/    1A58 : 6002                		bra.s	.cont
(1)  236/    1A5A :                     .nonull:
(1)  237/    1A5A : DA42                		add.w	d2,d5
(1)  238/    1A5C :                     .cont:
(1)  239/    1A5C : 4847                		swap	d7
(1)  240/    1A5E : D0FC 0002           		adda	#2,a0
(1)  241/    1A62 : 0839 0002 FFFF A01C 		btst	#2,(RAM_VdpCache+$C).l
(1)  242/    1A6A : 6712                		beq.s	.nodble
(1)  243/    1A6C : D0FC 0002           		adda	#2,a0
(1)  244/    1A70 : 3E05                		move.w	d5,d7
(1)  245/    1A72 : E24F                		lsr.w	#1,d7
(1)  246/    1A74 : CE7C 07FF           		and.w	#$7FF,d7
(1)  247/    1A78 : CA7C F800           		and.w	#$F800,d5
(1)  248/    1A7C : 8A47                		or.w	d7,d5
(1)  249/    1A7E :                     .nodble:
(1)  250/    1A7E : 4847                		swap	d7
(1)  251/    1A80 : 3885                		move.w	d5,(a4)
(1)  252/    1A82 : D886                		add.l	d6,d4
(1)  253/    1A84 : 51CF FFC2           		dbf	d7,.yloop
(1)  254/    1A88 :                     .outdbl:
(1)  255/    1A88 : 281F                		move.l	(sp)+,d4
(1)  256/    1A8A : D8BC 0002 0000      		add.l	#$20000,d4
(1)  257/    1A90 : 4845                		swap	d5
(1)  258/    1A92 : 51CD FFA2           		dbf	d5,.xloop
(1)  259/    1A96 : 4E75                		rts
(1)  260/    1A98 :                     		
(1)  261/    1A98 :                     ; --------------------------------------------------------
(1)  262/    1A98 :                     ; Video_AutoMap_Vert
(1)  263/    1A98 :                     ; 
(1)  264/    1A98 :                     ; Make automatic map, Vertical order
(1)  265/    1A98 :                     ; 
(1)  266/    1A98 :                     ; MCD: Use this to make a virtual screen
(1)  267/    1A98 :                     ; for Stamps
(1)  268/    1A98 :                     ; 
(1)  269/    1A98 :                     ; d0 | LONG - 00|Lyr|X|Y,  locate(lyr,x,y)
(1)  270/    1A98 :                     ; d1 | LONG - Width|Height (cells),  mapsize(x,y)
(1)  271/    1A98 :                     ; d2 | WORD - VRAM
(1)  272/    1A98 :                     
(1)  273/    1A98 :                     ; Uses:
(1)  274/    1A98 :                     ; a4-a5,d4-d7
(1)  275/    1A98 :                     ; --------------------------------------------------------
(1)  276/    1A98 :                     
(1)  277/    1A98 :                     ; TODO: support for double interlace
(1)  278/    1A98 :                     
(1)  279/    1A98 :                     Video_AutoMap_Vert:
(1)  280/    1A98 : 49F9 00C0 0000      		lea	(vdp_data),a4
(1)  281/    1A9E : 6100 0182           		bsr	vid_PickLayer
(1)  282/    1AA2 :                     		
(1)  283/    1AA2 :                     	; Start here
(1)  284/    1AA2 : 3E02                		move.w	d2,d7
(1)  285/    1AA4 : 2A01                		move.l	d1,d5
(1)  286/    1AA6 : 4845                		swap	d5
(1)  287/    1AA8 :                     .xloop:
(1)  288/    1AA8 : 4845                		swap	d5
(1)  289/    1AAA : 2F04                		move.l	d4,-(sp)
(1)  290/    1AAC : 3A01                		move.w	d1,d5
(1)  291/    1AAE : 0839 0002 FFFF A01C 		btst	#2,(RAM_VdpCache+$C).l
(1)  292/    1AB6 : 6702                		beq.s	.yloop
(1)  293/    1AB8 : E24D                		lsr.w	#1,d5
(1)  294/    1ABA :                     .yloop:
(1)  295/    1ABA : 2944 0004           		move.l	d4,4(a4)
(1)  296/    1ABE : 3887                		move.w	d7,(a4)
(1)  297/    1AC0 : DE7C 0001           		add.w	#1,d7
(1)  298/    1AC4 : D886                		add.l	d6,d4
(1)  299/    1AC6 : 51CD FFF2           		dbf	d5,.yloop
(1)  300/    1ACA :                     
(1)  301/    1ACA : 281F                		move.l	(sp)+,d4
(1)  302/    1ACC : D8BC 0002 0000      		add.l	#$20000,d4
(1)  303/    1AD2 : 4845                		swap	d5
(1)  304/    1AD4 : 51CD FFD2           		dbf	d5,.xloop
(1)  305/    1AD8 : 4E75                		rts
(1)  306/    1ADA :                     		
(1)  307/    1ADA :                     ; --------------------------------------------------------
(1)  308/    1ADA :                     ; Video_Print
(1)  309/    1ADA :                     ; 
(1)  310/    1ADA :                     ; Prints string to layer
(1)  311/    1ADA :                     ; requires ASCII font
(1)  312/    1ADA :                     ; 
(1)  313/    1ADA :                     ; a0 - string data
(1)  314/    1ADA :                     ; d0 | LONG - 00|Lyr|X|Y, locate(lyr,x,y)
(1)  315/    1ADA :                     ; 
(1)  316/    1ADA :                     ; Notes:
(1)  317/    1ADA :                     ; "//b" - Show BYTE value
(1)  318/    1ADA :                     ; "//w" - Show WORD value
(1)  319/    1ADA :                     ; "//l" - Show LONG value
(1)  320/    1ADA :                     ;   $0A - Next line
(1)  321/    1ADA :                     ;   $00 - End of line
(1)  322/    1ADA :                     ; 
(1)  323/    1ADA :                     ; Uses:
(1)  324/    1ADA :                     ; a4-a6,d4-d7
(1)  325/    1ADA :                     ; --------------------------------------------------------
(1)  326/    1ADA :                     
(1)  327/    1ADA :                     Video_Print:
(1)  328/    1ADA : 48E7 1F00           		movem.l	d3-d7,-(sp)
(1)  329/    1ADE : 48E7 000E           		movem.l	a4-a6,-(sp)
(1)  330/    1AE2 :                     		
(1)  331/    1AE2 : 4DF9 00C0 0000      		lea	(vdp_data),a6
(1)  332/    1AE8 : 6100 0138           		bsr	vid_PickLayer
(1)  333/    1AEC : 4BF8 A028           		lea	(RAM_VidPrntList),a5
(1)  334/    1AF0 :                     .newjump:
(1)  335/    1AF0 : 2D44 0004           		move.l	d4,4(a6)
(1)  336/    1AF4 : 2A04                		move.l	d4,d5
(1)  337/    1AF6 :                     .loop:
(1)  338/    1AF6 : 1E18                		move.b	(a0)+,d7
(1)  339/    1AF8 : 6772                		beq	.exit
(1)  340/    1AFA : 0C07 000A           		cmpi.b	#$A,d7			; $A - next line?
(1)  341/    1AFE : 6718                		beq.s	.next
(1)  342/    1B00 : 0C07 005C           		cmpi.b	#$5C,d7			; $57 ("\") special?
(1)  343/    1B04 : 6716                		beq.s	.special
(1)  344/    1B06 : 0247 00FF           		andi.w	#$FF,d7
(1)  345/    1B0A :                     .puttext:
(1)  346/    1B0A : DE78 A088           		add.w	(RAM_VidPrntVram).w,d7	; VRAM add
(1)  347/    1B0E : 3C87                		move.w	d7,(a6)
(1)  348/    1B10 : DABC 0002 0000      		add.l	#$20000,d5
(1)  349/    1B16 : 60DE                		bra.s	.loop
(1)  350/    1B18 :                     ; Next line
(1)  351/    1B18 :                     .next:
(1)  352/    1B18 : D886                		add.l	d6,d4
(1)  353/    1B1A : 60D4                		bra.s	.newjump
(1)  354/    1B1C :                     
(1)  355/    1B1C :                     ; Specials
(1)  356/    1B1C :                     .special:
(1)  357/    1B1C : 1E18                		move.b	(a0)+,d7
(1)  358/    1B1E : 0C07 0062           		cmpi.b	#"b",d7
(1)  359/    1B22 : 6712                		beq.s	.isbyte
(1)  360/    1B24 : 0C07 0077           		cmpi.b	#"w",d7
(1)  361/    1B28 : 671E                		beq.s	.isword
(1)  362/    1B2A : 0C07 006C           		cmpi.b	#"l",d7
(1)  363/    1B2E : 672A                		beq.s	.islong
(1)  364/    1B30 : 3E3C 005C           		move.w	#"\\",d7			; nothing to do
(1)  365/    1B34 : 60D4                		bra.s	.puttext
(1)  366/    1B36 :                     		
(1)  367/    1B36 :                     	; TEMPORAL VALUES
(1)  368/    1B36 :                     .isbyte:
(1)  369/    1B36 : 2AC5                		move.l	d5,(a5)+
(1)  370/    1B38 : 3AFC 0001           		move.w	#1,(a5)+
(1)  371/    1B3C : DABC 0004 0000      		add.l	#$40000,d5
(1)  372/    1B42 : 2D45 0004           		move.l	d5,4(a6)
(1)  373/    1B46 : 60AE                		bra	.loop
(1)  374/    1B48 :                     .isword:
(1)  375/    1B48 : 2AC5                		move.l	d5,(a5)+
(1)  376/    1B4A : 3AFC 0002           		move.w	#2,(a5)+
(1)  377/    1B4E : DABC 0008 0000      		add.l	#$80000,d5
(1)  378/    1B54 : 2D45 0004           		move.l	d5,4(a6)
(1)  379/    1B58 : 609C                		bra	.loop
(1)  380/    1B5A :                     .islong:
(1)  381/    1B5A : 2AC5                		move.l	d5,(a5)+
(1)  382/    1B5C : 3AFC 0003           		move.w	#3,(a5)+
(1)  383/    1B60 : DABC 0010 0000      		add.l	#$100000,d5
(1)  384/    1B66 : 2D45 0004           		move.l	d5,4(a6)
(1)  385/    1B6A : 608A                		bra	.loop
(1)  386/    1B6C :                     .exit:
(1)  387/    1B6C :                     
(1)  388/    1B6C :                     ; --------------------------------------------------------
(1)  389/    1B6C :                     ; Print values
(1)  390/    1B6C :                     ; check MAX_PRNTLIST for maximum values
(1)  391/    1B6C :                     ; 
(1)  392/    1B6C :                     ; vvvv vvvv tttt
(1)  393/    1B6C :                     ; v - vdp pos
(1)  394/    1B6C :                     ; t - value type
(1)  395/    1B6C :                     ; --------------------------------------------------------
(1)  396/    1B6C :                     
(1)  397/    1B6C : 7800                		moveq	#0,d4
(1)  398/    1B6E : 7A00                		moveq	#0,d5
(1)  399/    1B70 : 7C00                		moveq	#0,d6
(1)  400/    1B72 : 4BF8 A028           		lea	(RAM_VidPrntList),a5
(1)  401/    1B76 :                     .nextv:
(1)  402/    1B76 : 4A95                		tst.l	(a5)
(1)  403/    1B78 : 6700 009E           		beq	.nothing
(1)  404/    1B7C :                     
(1)  405/    1B7C :                     	; grab value
(1)  406/    1B7C : 7800                		moveq	#0,d4
(1)  407/    1B7E : 1818                		move.b	(a0)+,d4
(1)  408/    1B80 : E19C                		rol.l	#8,d4
(1)  409/    1B82 : 1818                		move.b	(a0)+,d4
(1)  410/    1B84 : E19C                		rol.l	#8,d4
(1)  411/    1B86 : 1818                		move.b	(a0)+,d4
(1)  412/    1B88 : E19C                		rol.l	#8,d4
(1)  413/    1B8A : 1818                		move.b	(a0)+,d4
(1)  414/    1B8C : 2844                		movea.l	d4,a4
(1)  415/    1B8E : 7800                		moveq	#0,d4
(1)  416/    1B90 :                     
(1)  417/    1B90 :                     	; get value
(1)  418/    1B90 : 3C2D 0004           		move.w	4(a5),d6
(1)  419/    1B94 :                     		
(1)  420/    1B94 : BC7C 0001           		cmp.w	#1,d6		; byte?
(1)  421/    1B98 : 660E                		bne.s	.vbyte
(1)  422/    1B9A : 1814                		move.b	(a4),d4
(1)  423/    1B9C : 2D55 0004           		move.l	(a5),4(a6)
(1)  424/    1BA0 : E91C                		rol.b	#4,d4
(1)  425/    1BA2 : 6158                		bsr.s	.donibl
(1)  426/    1BA4 : E91C                		rol.b	#4,d4
(1)  427/    1BA6 : 6154                		bsr.s	.donibl
(1)  428/    1BA8 :                     .vbyte:
(1)  429/    1BA8 : BC7C 0002           		cmp.w	#2,d6		; word?
(1)  430/    1BAC : 661C                		bne.s	.vword
(1)  431/    1BAE : 1814                		move.b	(a4),d4
(1)  432/    1BB0 : E15C                		rol.w	#8,d4
(1)  433/    1BB2 : 182C 0001           		move.b	1(a4),d4
(1)  434/    1BB6 : 2D55 0004           		move.l	(a5),4(a6)
(1)  435/    1BBA : E95C                		rol.w	#4,d4
(1)  436/    1BBC : 613E                		bsr.s	.donibl
(1)  437/    1BBE : E95C                		rol.w	#4,d4
(1)  438/    1BC0 : 613A                		bsr.s	.donibl
(1)  439/    1BC2 : E95C                		rol.w	#4,d4
(1)  440/    1BC4 : 6136                		bsr.s	.donibl
(1)  441/    1BC6 : E95C                		rol.w	#4,d4
(1)  442/    1BC8 : 6132                		bsr.s	.donibl
(1)  443/    1BCA :                     .vword:
(1)  444/    1BCA : BC7C 0003           		cmp.w	#3,d6		; long?
(1)  445/    1BCE : 6624                		bne.s	.vlong
(1)  446/    1BD0 : 1814                		move.b	(a4),d4
(1)  447/    1BD2 : E19C                		rol.l	#8,d4
(1)  448/    1BD4 : 182C 0001           		move.b	1(a4),d4
(1)  449/    1BD8 : E19C                		rol.l	#8,d4
(1)  450/    1BDA : 182C 0002           		move.b	2(a4),d4
(1)  451/    1BDE : E19C                		rol.l	#8,d4
(1)  452/    1BE0 : 182C 0003           		move.b	3(a4),d4
(1)  453/    1BE4 : 2D55 0004           		move.l	(a5),4(a6)
(1)  454/    1BE8 : 3C3C 0007           		move.w	#7,d6
(1)  455/    1BEC : E99C                .lngloop:	rol.l	#4,d4
(1)  456/    1BEE : 610C                		bsr.s	.donibl
(1)  457/    1BF0 : 51CE FFFA           		dbf	d6,.lngloop
(1)  458/    1BF4 :                     .vlong:
(1)  459/    1BF4 : 429D                		clr.l	(a5)+
(1)  460/    1BF6 : 425D                		clr.w	(a5)+
(1)  461/    1BF8 : 6000 FF7C           		bra	.nextv
(1)  462/    1BFC :                     
(1)  463/    1BFC :                     ; make nibble byte
(1)  464/    1BFC :                     .donibl:
(1)  465/    1BFC : 3A04                		move.w	d4,d5
(1)  466/    1BFE : 0245 000F           		andi.w	#%1111,d5
(1)  467/    1C02 : BA3C 000A           		cmp.b	#$A,d5
(1)  468/    1C06 : 6D04                		blt.s	.lowr
(1)  469/    1C08 : DA3C 0007           		add.b	#7,d5
(1)  470/    1C0C :                     .lowr:
(1)  471/    1C0C : DA7C 0030           		add.w	#"0",d5
(1)  472/    1C10 : DA78 A088           		add.w	(RAM_VidPrntVram),d5
(1)  473/    1C14 : 3C85                		move.w	d5,(a6)
(1)  474/    1C16 : 4E75                		rts
(1)  475/    1C18 :                     ; exit
(1)  476/    1C18 :                     .nothing:
(1)  477/    1C18 : 4CDF 7000           		movem.l	(sp)+,a4-a6
(1)  478/    1C1C : 4CDF 00F8           		movem.l	(sp)+,d3-d7
(1)  479/    1C20 : 4E75                		rts
(1)  480/    1C22 :                     
(1)  481/    1C22 :                     ; --------------------------------------------------------
(1)  482/    1C22 :                     ; Shared: pick layer / x pos / y pos and
(1)  483/    1C22 :                     ; set next-line size
(1)  484/    1C22 :                     ; --------------------------------------------------------
(1)  485/    1C22 :                     
(1)  486/    1C22 :                     vid_PickLayer:
(1)  487/    1C22 :                     	; Pick layer
(1)  488/    1C22 : 2C00                		move.l	d0,d6
(1)  489/    1C24 : 4846                		swap	d6
(1)  490/    1C26 : 0806 0000           		btst	#0,d6
(1)  491/    1C2A : 671E                		beq.s	.plawnd
(1)  492/    1C2C : 1839 FFFF A014      		move.b	(RAM_VdpCache+4).l,d4	; BG
(1)  493/    1C32 : 3A04                		move.w	d4,d5
(1)  494/    1C34 : E24D                		lsr.w	#1,d5
(1)  495/    1C36 : 0245 0003           		andi.w	#%11,d5
(1)  496/    1C3A : 4844                		swap	d4
(1)  497/    1C3C : 3805                		move.w	d5,d4
(1)  498/    1C3E : 4844                		swap	d4
(1)  499/    1C40 : 0244 0001           		andi.w	#1,d4
(1)  500/    1C44 : E14C                		lsl.w	#8,d4
(1)  501/    1C46 : EB4C                		lsl.w	#5,d4
(1)  502/    1C48 : 6028                		bra.s	.golyr
(1)  503/    1C4A :                     .plawnd:
(1)  504/    1C4A : 1839 FFFF A012      		move.b	(RAM_VdpCache+2).l,d4	; FG
(1)  505/    1C50 : 0806 0001           		btst	#1,d6
(1)  506/    1C54 : 6706                		beq.s	.nowd
(1)  507/    1C56 : 1839 FFFF A013      		move.b	(RAM_VdpCache+3).l,d4	; WINDOW
(1)  508/    1C5C :                     .nowd:		
(1)  509/    1C5C : 3A04                		move.w	d4,d5
(1)  510/    1C5E : E84D                		lsr.w	#4,d5
(1)  511/    1C60 : 0245 0003           		andi.w	#%11,d5
(1)  512/    1C64 : 4844                		swap	d4
(1)  513/    1C66 : 3805                		move.w	d5,d4
(1)  514/    1C68 : 4844                		swap	d4
(1)  515/    1C6A : 0244 000E           		andi.w	#%00001110,d4
(1)  516/    1C6E : E14C                		lsl.w	#8,d4
(1)  517/    1C70 : E54C                		lsl.w	#2,d4
(1)  518/    1C72 :                     .golyr:
(1)  519/    1C72 : 0044 4000           		ori.w	#$4000,d4
(1)  520/    1C76 : 3A00                		move.w	d0,d5			; Y start pos
(1)  521/    1C78 : 0245 00FF           		andi.w	#$FF,d5			; Y only
(1)  522/    1C7C : ED4D                		lsl.w	#6,d5			
(1)  523/    1C7E : 1C38 A020           		move.b	(RAM_VdpCache+$10).w,d6
(1)  524/    1C82 : 0246 0003           		andi.w	#%11,d6
(1)  525/    1C86 : 670A                		beq.s	.thissz
(1)  526/    1C88 : DA45                		add.w	d5,d5			; H64
(1)  527/    1C8A : 0246 0002           		andi.w	#%10,d6
(1)  528/    1C8E : 6702                		beq.s	.thissz
(1)  529/    1C90 : DA45                		add.w	d5,d5			; H128		
(1)  530/    1C92 :                     .thissz:
(1)  531/    1C92 : D845                		add.w	d5,d4
(1)  532/    1C94 : 3A00                		move.w	d0,d5
(1)  533/    1C96 : 0245 FF00           		andi.w	#$FF00,d5		; X only
(1)  534/    1C9A : EE4D                		lsr.w	#7,d5
(1)  535/    1C9C : D845                		add.w	d5,d4			; X add
(1)  536/    1C9E : 4844                		swap	d4
(1)  537/    1CA0 : 7C00                		moveq	#0,d6
(1)  538/    1CA2 : 3C3C 0040           		move.w	#$40,d6			; Set jump size
(1)  539/    1CA6 : 1A38 A020           		move.b	(RAM_VdpCache+$10).w,d5
(1)  540/    1CAA : 0245 0003           		andi.w	#%11,d5
(1)  541/    1CAE : 670A                		beq.s	.thisszj
(1)  542/    1CB0 : DC46                		add.w	d6,d6			; H64
(1)  543/    1CB2 : 0245 0002           		andi.w	#%10,d5
(1)  544/    1CB6 : 6702                		beq.s	.thisszj
(1)  545/    1CB8 : DC46                		add.w	d6,d6			; H128		
(1)  546/    1CBA :                     .thisszj:
(1)  547/    1CBA : 4846                		swap	d6
(1)  548/    1CBC : 4E75                		rts
(1)  549/    1CBE :                     
(1)  550/    1CBE :                     ; --------------------------------------------------------
(1)  551/    1CBE :                     ; Shared: set layer size
(1)  552/    1CBE :                     ; --------------------------------------------------------
(1)  553/    1CBE :                     
(1)  554/    1CBE :                     vid_PickSize:
(1)  555/    1CBE : 1839 FFFF A020      		move.b	(RAM_VdpCache+$10).l,d4
(1)  556/    1CC4 : 3A04                		move.w	d4,d5
(1)  557/    1CC6 : C87C 0003           		and.w	#%000011,d4
(1)  558/    1CCA : CA7C 0030           		and.w	#%110000,d5
(1)  559/    1CCE : E44D                		lsr.w	#2,d5
(1)  560/    1CD0 : 8845                		or.w	d5,d4
(1)  561/    1CD2 : D844                		add.w	d4,d4
(1)  562/    1CD4 : 383B 4004           		move.w	.sizelist(pc,d4.w),d4
(1)  563/    1CD8 : 4E75                		rts
(1)  564/    1CDA :                     
(1)  565/    1CDA : 07FF                .sizelist:	dc.w $7FF 	;  V32  H32
(1)  566/    1CDC : 0FFF                		dc.w $FFF	;  V32  H64
(1)  567/    1CDE : 0FFF                		dc.w $FFF	;  V32 ----
(1)  568/    1CE0 : 1FFF                		dc.w $1FFF	;  V32 H128
(1)  569/    1CE2 : 0FFF                		dc.w $FFF 	;  V64  H32
(1)  570/    1CE4 : 1FFF                		dc.w $1FFF	;  V64  H64
(1)  571/    1CE6 : 1FFF                		dc.w $1FFF	;  V64 ----
(1)  572/    1CE8 : 3FFF                		dc.w $3FFF	;  V64 H128
(1)  573/    1CEA : 07FF                		dc.w $7FF 	; ----  H32
(1)  574/    1CEC : 0FFF                		dc.w $FFF	; ----  H64
(1)  575/    1CEE : 0FFF                		dc.w $FFF	; ---- ----
(1)  576/    1CF0 : 1FFF                		dc.w $1FFF	; ---- H128
(1)  577/    1CF2 : 1FFF                		dc.w $1FFF 	; V128  H32
(1)  578/    1CF4 : 3FFF                		dc.w $3FFF	; V128  H64
(1)  579/    1CF6 : 3FFF                		dc.w $3FFF	; V128 ----
(1)  580/    1CF8 : 7FFF                		dc.w $7FFF	; V128 H128
(1)  581/    1CFA :                     		align 2
(1)  582/    1CFA :                     		
(1)  583/    1CFA :                     ; ====================================================================
(1)  584/    1CFA :                     ; --------------------------------------------------------
(1)  585/    1CFA :                     ; DMA VDP Fill and VDP Copy
(1)  586/    1CFA :                     ; --------------------------------------------------------
(1)  587/    1CFA :                     
(1)  588/    1CFA :                     ; --------------------------------------------------------
(1)  589/    1CFA :                     ; Video_Fill
(1)  590/    1CFA :                     ; 
(1)  591/    1CFA :                     ; Fill data to VRAM
(1)  592/    1CFA :                     ;
(1)  593/    1CFA :                     ; d0 | WORD - Fill data
(1)  594/    1CFA :                     ; d1 | WORD - Size
(1)  595/    1CFA :                     ; d2 | WORD - VRAM
(1)  596/    1CFA :                     ; --------------------------------------------------------
(1)  597/    1CFA :                     
(1)  598/    1CFA :                     Video_Fill:
(1)  599/    1CFA : 49F9 00C0 0004      		lea	(vdp_ctrl),a4
(1)  600/    1D00 :                     		
(1)  601/    1D00 : 383C 8100           		move.w	#$8100,d4
(1)  602/    1D04 : 1838 A011           		move.b	(RAM_VdpCache+1),d4
(1)  603/    1D08 : 08C4 0004           		bset	#bitDmaEnbl,d4
(1)  604/    1D0C : 3884                		move.w	d4,(a4)
(1)  605/    1D0E : 3814                .dmaw:		move.w	(a4),d4
(1)  606/    1D10 : 0804 0001           		btst	#bitDma,d4
(1)  607/    1D14 : 66F8                		bne.s	.dmaw
(1)  608/    1D16 : 38BC 8F01           		move.w	#$8F01,(a4)		; Increment $01
(1)  609/    1D1A :                     
(1)  610/    1D1A :                     	; SIZE
(1)  611/    1D1A : 3801                		move.w	d1,d4
(1)  612/    1D1C : 2A3C 9400 9300      		move.l	#$94009300,d5
(1)  613/    1D22 : E24C                		lsr.w	#1,d4
(1)  614/    1D24 : 1A04                		move.b	d4,d5
(1)  615/    1D26 : 4845                		swap	d5
(1)  616/    1D28 : E04C                		lsr.w	#8,d4
(1)  617/    1D2A : 1A04                		move.b	d4,d5
(1)  618/    1D2C : 4845                		swap	d5
(1)  619/    1D2E : 2885                		move.l	d5,(a4)
(1)  620/    1D30 : 38BC 9780           		move.w	#$9780,(a4)		; DMA Fill bit
(1)  621/    1D34 :                     
(1)  622/    1D34 :                     	; DESTINATION
(1)  623/    1D34 : 2802                		move.l	d2,d4
(1)  624/    1D36 :                     ; 		lsl.w	#5,d4
(1)  625/    1D36 : 3A04                		move.w	d4,d5
(1)  626/    1D38 : 0245 3FFF           		andi.w	#$3FFF,d5
(1)  627/    1D3C : 0045 4000           		ori.w	#$4000,d5
(1)  628/    1D40 : 4845                		swap	d5
(1)  629/    1D42 : 3A04                		move.w	d4,d5
(1)  630/    1D44 : E04D                		lsr.w	#8,d5
(1)  631/    1D46 : EC4D                		lsr.w	#6,d5
(1)  632/    1D48 : 0245 0003           		andi.w	#%11,d5
(1)  633/    1D4C : 0045 0080           		ori.w	#$80,d5
(1)  634/    1D50 : 2885                		move.l	d5,(a4)
(1)  635/    1D52 : 3940 FFFC           		move.w	d0,-4(a4)
(1)  636/    1D56 : 3814                .dmawe:		move.w	(a4),d4
(1)  637/    1D58 : 0804 0001           		btst	#bitDma,d4
(1)  638/    1D5C : 66F8                		bne.s	.dmawe
(1)  639/    1D5E :                     
(1)  640/    1D5E : 38BC 8F02           		move.w	#$8F02,(a4)		; Increment $02
(1)  641/    1D62 : 383C 8100           		move.w	#$8100,d4
(1)  642/    1D66 : 1838 A011           		move.b	(RAM_VdpCache+1),d4
(1)  643/    1D6A : 3884                		move.w	d4,(a4)
(1)  644/    1D6C : 4E75                		rts
(1)  645/    1D6E :                     
(1)  646/    1D6E :                     ; --------------------------------------------------------
(1)  647/    1D6E :                     ; Video_Copy
(1)  648/    1D6E :                     ; 
(1)  649/    1D6E :                     ; Copy VRAM data to another location
(1)  650/    1D6E :                     ;
(1)  651/    1D6E :                     ; d0 | WORD - VRAM Source
(1)  652/    1D6E :                     ; d1 | WORD - Size
(1)  653/    1D6E :                     ; d2 | WORD - VRAM Destination
(1)  654/    1D6E :                     ; --------------------------------------------------------
(1)  655/    1D6E :                     
(1)  656/    1D6E :                     Video_Copy:
(1)  657/    1D6E : 49F9 00C0 0004      		lea	(vdp_ctrl),a4
(1)  658/    1D74 :                     		
(1)  659/    1D74 : 383C 8100           		move.w	#$8100,d4
(1)  660/    1D78 : 1838 A011           		move.b	(RAM_VdpCache+1),d4
(1)  661/    1D7C : 08C4 0004           		bset	#bitDmaEnbl,d4
(1)  662/    1D80 : 3884                		move.w	d4,(a4)
(1)  663/    1D82 : 3814                .dmaw:		move.w	(a4),d4
(1)  664/    1D84 : 0804 0001           		btst	#bitDma,d4
(1)  665/    1D88 : 66F8                		bne.s	.dmaw
(1)  666/    1D8A : 38BC 8F01           		move.w	#$8F01,(a4)		; Increment $01
(1)  667/    1D8E :                     
(1)  668/    1D8E :                     	; SIZE
(1)  669/    1D8E : 3801                		move.w	d1,d4
(1)  670/    1D90 : 2A3C 9400 9300      		move.l	#$94009300,d5
(1)  671/    1D96 : E24C                		lsr.w	#1,d4
(1)  672/    1D98 : 1A04                		move.b	d4,d5
(1)  673/    1D9A : 4845                		swap	d5
(1)  674/    1D9C : E04C                		lsr.w	#8,d4
(1)  675/    1D9E : 1A04                		move.b	d4,d5
(1)  676/    1DA0 : 4845                		swap	d5
(1)  677/    1DA2 : 2885                		move.l	d5,(a4)
(1)  678/    1DA4 :                     	
(1)  679/    1DA4 :                     	; SOURCE
(1)  680/    1DA4 : 2A3C 9600 9500      		move.l	#$96009500,d5
(1)  681/    1DAA : 3800                		move.w	d0,d4
(1)  682/    1DAC : 1A04                		move.b	d4,d5
(1)  683/    1DAE : 4845                		swap	d5
(1)  684/    1DB0 : E04C                		lsr.w	#8,d4
(1)  685/    1DB2 : 1A04                		move.b	d4,d5
(1)  686/    1DB4 : 2885                		move.l	d5,(a4)
(1)  687/    1DB6 : 38BC 97C0           		move.w	#$97C0,(a4)		; DMA Fill bit
(1)  688/    1DBA :                     		
(1)  689/    1DBA :                     	; DESTINATION
(1)  690/    1DBA : 2802                		move.l	d2,d4
(1)  691/    1DBC :                     ; 		lsl.w	#5,d4
(1)  692/    1DBC : 3A04                		move.w	d4,d5
(1)  693/    1DBE : 0245 3FFF           		andi.w	#$3FFF,d5
(1)  694/    1DC2 : 0045 4000           		ori.w	#$4000,d5
(1)  695/    1DC6 : 4845                		swap	d5
(1)  696/    1DC8 : 3A04                		move.w	d4,d5
(1)  697/    1DCA : E04D                		lsr.w	#8,d5
(1)  698/    1DCC : EC4D                		lsr.w	#6,d5
(1)  699/    1DCE : 0245 0003           		andi.w	#%11,d5
(1)  700/    1DD2 : 0045 00C0           		ori.w	#$C0,d5
(1)  701/    1DD6 : 2885                		move.l	d5,(a4)
(1)  702/    1DD8 : 3940 FFFC           		move.w	d0,-4(a4)
(1)  703/    1DDC : 3814                .dmawe:		move.w	(a4),d4
(1)  704/    1DDE : 0804 0001           		btst	#bitDma,d4
(1)  705/    1DE2 : 66F8                		bne.s	.dmawe
(1)  706/    1DE4 :                     
(1)  707/    1DE4 : 38BC 8F02           		move.w	#$8F02,(a4)		; Increment $02
(1)  708/    1DE8 : 383C 8100           		move.w	#$8100,d4
(1)  709/    1DEC : 1838 A011           		move.b	(RAM_VdpCache+1),d4
(1)  710/    1DF0 : 3884                		move.w	d4,(a4)
(1)  711/    1DF2 : 4E75                		rts
(1)  712/    1DF4 :                     
(1)  713/    1DF4 :                     ; ====================================================================
(1)  714/    1DF4 :                     ; --------------------------------------------------------
(1)  715/    1DF4 :                     ; DMA ROM to VDP Transfers
(1)  716/    1DF4 :                     ; 
(1)  717/    1DF4 :                     ; If porting to 32X: you need to transfer these
(1)  718/    1DF4 :                     ; routines to RAM
(1)  719/    1DF4 :                     ; --------------------------------------------------------
(1)  720/    1DF4 :                     		
(1)  721/    1DF4 :                     ; --------------------------------------------------------
(1)  722/    1DF4 :                     ; Video_LoadArt
(1)  723/    1DF4 :                     ; 
(1)  724/    1DF4 :                     ; Load art using DMA
(1)  725/    1DF4 :                     ;
(1)  726/    1DF4 :                     ; d0 | LONG - Art data
(1)  727/    1DF4 :                     ; d1 | WORD - Size
(1)  728/    1DF4 :                     ; d2 | WORD - VRAM (cell)
(1)  729/    1DF4 :                     ; 
(1)  730/    1DF4 :                     ; Uses:
(1)  731/    1DF4 :                     ; d4-d5,a4
(1)  732/    1DF4 :                     ; 
(1)  733/    1DF4 :                     ; *HARDWARE NOTES*
(1)  734/    1DF4 :                     ; MCD: WORDRAM source data must be incremented by 2 bytes,
(1)  735/    1DF4 :                     ;      also the first WORD write might get lost
(1)  736/    1DF4 :                     ; 
(1)  737/    1DF4 :                     ; 32X: The routine must be at RAM since we need
(1)  738/    1DF4 :                     ;      to set RV=1 so DMA can read from MD's
(1)  739/    1DF4 :                     ;      original ROM Map, also locks access to ROM on
(1)  740/    1DF4 :                     ;      the SH2 Side
(1)  741/    1DF4 :                     ; --------------------------------------------------------
(1)  742/    1DF4 :                     
(1)  743/    1DF4 :                     Video_LoadArt:
(1)  744/    1DF4 : 49F9 00C0 0004      		lea	(vdp_ctrl),a4
(1)  745/    1DFA : 383C 8100           		move.w	#$8100,d4
(1)  746/    1DFE : 1838 A011           		move.b	(RAM_VdpCache+1),d4
(1)  747/    1E02 : 08C4 0004           		bset	#bitDmaEnbl,d4
(1)  748/    1E06 : 3884                		move.w	d4,(a4)			; Turn ON DMA
(1)  749/    1E08 :                     
(1)  750/    1E08 :                     	; SIZE
(1)  751/    1E08 : 3801                		move.w	d1,d4
(1)  752/    1E0A : 2A3C 9400 9300      		move.l	#$94009300,d5
(1)  753/    1E10 : E24C                		lsr.w	#1,d4
(1)  754/    1E12 : 1A04                		move.b	d4,d5
(1)  755/    1E14 : 4845                		swap	d5
(1)  756/    1E16 : E04C                		lsr.w	#8,d4
(1)  757/    1E18 : 1A04                		move.b	d4,d5
(1)  758/    1E1A : 4845                		swap	d5
(1)  759/    1E1C : 2885                		move.l	d5,(a4)
(1)  760/    1E1E :                     
(1)  761/    1E1E :                     	; SOURCE
(1)  762/    1E1E : 2800                		move.l	d0,d4
(1)  763/    1E20 : E28C                  		lsr.l	#1,d4
(1)  764/    1E22 : 2A3C 9600 9500       		move.l	#$96009500,d5
(1)  765/    1E28 : 1A04                 		move.b	d4,d5
(1)  766/    1E2A : E08C                 		lsr.l	#8,d4
(1)  767/    1E2C : 4845                 		swap	d5
(1)  768/    1E2E : 1A04                 		move.b	d4,d5
(1)  769/    1E30 : 2885                 		move.l	d5,(a4)
(1)  770/    1E32 : 3A3C 9700            		move.w	#$9700,d5
(1)  771/    1E36 : E08C                 		lsr.l	#8,d4
(1)  772/    1E38 : 1A04                 		move.b	d4,d5
(1)  773/    1E3A : 3885                 		move.w	d5,(a4)
(1)  774/    1E3C :                      		
(1)  775/    1E3C :                     	; DESTINATION
(1)  776/    1E3C : 33FC 0100 00A1 1100 		move.w	#$0100,(z80_bus).l	; Stop Z80 request
(1)  777/    1E44 : 3802                		move.w	d2,d4
(1)  778/    1E46 : C87C 07FF           		and.w	#$7FF,d4
(1)  779/    1E4A : EB4C                		lsl.w	#5,d4
(1)  780/    1E4C : 3A04                		move.w	d4,d5
(1)  781/    1E4E : C8BC 0000 3FE0      		and.l	#$3FE0,d4
(1)  782/    1E54 : 0044 4000           		ori.w	#$4000,d4
(1)  783/    1E58 : 3884                		move.w	d4,(a4)			; First write
(1)  784/    1E5A : E04D                		lsr.w	#8,d5
(1)  785/    1E5C : EC4D                		lsr.w	#6,d5
(1)  786/    1E5E : 0245 0003           		andi.w	#%11,d5
(1)  787/    1E62 : 0045 0080           		ori.w	#$80,d5
(1)  788/    1E66 :                     .wait:
(1)  789/    1E66 : 0839 0000 00A1 1100 		btst	#0,(z80_bus).l		; Wait for Z80
(1)  790/    1E6E : 66F6                		bne.s	.wait
(1)  791/    1E70 : 3F05                 		move.w	d5,-(sp)		; Second write must be from RAM
(1)  792/    1E72 : 389F                		move.w	(sp)+,(a4)
(1)  793/    1E74 : 33FC 0000 00A1 1100 		move.w	#0,(z80_bus).l		; Start Z80
(1)  794/    1E7C :                     	
(1)  795/    1E7C : 383C 8100           		move.w	#$8100,d4		; Turn OFF DMA
(1)  796/    1E80 : 1838 A011           		move.b	(RAM_VdpCache+1),d4
(1)  797/    1E84 : 3884                		move.w	d4,(a4)
(1)  798/    1E86 : 4E75                		rts
(1)  799/    1E88 :                     
(1)  800/    1E88 :                     ; ====================================================================
(1)  801/    1E88 :                     ; --------------------------------------------------------
(1)  802/    1E88 :                     ; Video data
(1)  803/    1E88 :                     ; --------------------------------------------------------
(1)  804/    1E88 :                     
(1)  805/    1E88 :                     list_vdpregs:
(1)  806/    1E88 : 04                  		dc.b $04			; HBlank int off, HV Counter on
(1)  807/    1E89 : 44                  		dc.b $44			; Display ON, VBlank int off
(1)  808/    1E8A : 30                  		dc.b (($C000)>>10)		; ForeGrd at VRAM $C000 (%00xxx000)
(1)  809/    1E8B : 34                  		dc.b (($D000)>>10)		; Window  at VRAM $D000 (%00xxxxy0)
(1)  810/    1E8C : 07                  		dc.b (($E000)>>13)		; BackGrd at VRAM $E000 (%00000xxx)
(1)  811/    1E8D : 7C                  		dc.b (($F800)>>9)		; Sprites at VRAM $F800 (%0xxxxxxy)
(1)  812/    1E8E : 00                  		dc.b $00			; Nothing
(1)  813/    1E8F : 00                  		dc.b $00			; Background color: 0
(1)  814/    1E90 : 00                  		dc.b $00			; Nothing
(1)  815/    1E91 : 00                  		dc.b $00			; Nothing
(1)  816/    1E92 : 00                  		dc.b $00			; HInt value
(1)  817/    1E93 : 00                  		dc.b (%000|%00)			; No ExtInt, Scroll: VSCR:full HSCR:full
(1)  818/    1E94 : 81                  		dc.b $81			; H40, No shadow mode, Normal resolution
(1)  819/    1E95 : 3F                  		dc.b (($FC00)>>10)		; HScroll at VRAM $FC00 (%00xxxxxx)
(1)  820/    1E96 : 00                  		dc.b $00			; Nothing
(1)  821/    1E97 : 02                  		dc.b $02			; VDP Auto increment by $02
(1)  822/    1E98 : 01                  		dc.b (%00<<4)|%01		; Layer size: V32 H64
(1)  823/    1E99 : 00                  		dc.b $00			; Window layer Top/Bottom disabled
(1)  824/    1E9A : 00                  		dc.b $00			; Window layer Left/Right disabled
(1)  825/    1E9B :                     		align 2				; Align by 2
(1)  826/    1E9C :                     
(1)  827/    1E9C :                     Art_PrintFont:	binclude "system/md/data/art_prntfont.bin"
(1)  828/    2A9C :                     Art_PrintFont_e:
(1)  829/    2A9C :                     		align 2
(1)  830/    2A9C :                     
(1)  831/    2A9C :                     Pal_PrintFont:	binclude "system/md/data/pal_prntfont.bin"
(1)  832/    2AA8 :                     		align 2	
(1)  833/    2AA8 :                     
      40/    2AA8 :                     		include "system/md/system.asm"		; System
(1)    1/    2AA8 :                     ; ====================================================================
(1)    2/    2AA8 :                     ; ----------------------------------------------------------------
(1)    3/    2AA8 :                     ; System
(1)    4/    2AA8 :                     ; ----------------------------------------------------------------
(1)    5/    2AA8 :                     
(1)    6/    2AA8 :                     ; ASSEMBLER FLAGS USED:
(1)    7/    2AA8 :                     ; MCD  - Mega CD
(1)    8/    2AA8 :                     ; MARS - 32X
(1)    9/    2AA8 :                     
(1)   10/    2AA8 :                     ; --------------------------------------------------------
(1)   11/    2AA8 :                     ; Init System
(1)   12/    2AA8 :                     ; 
(1)   13/    2AA8 :                     ; Uses:
(1)   14/    2AA8 :                     ; a0-a2,d0-d1
(1)   15/    2AA8 :                     ; --------------------------------------------------------
(1)   16/    2AA8 :                     
(1)   17/    2AA8 :                     System_Init:
(1)   18/    2AA8 : 33FC 0100 00A1 1100 		move.w	#$0100,(z80_bus).l	; $0100 - Stop Z80
(1)   19/    2AB0 :                     .wait:
(1)   20/    2AB0 : 0839 0000 00A1 1100 		btst	#0,(z80_bus).l		; Z80 stopped?
(1)   21/    2AB8 : 66F6                		bne.s	.wait			; If not, wait
(1)   22/    2ABA : 7040                		moveq	#%01000000,d0		; d0 = (TH=1), Init input ports
(1)   23/    2ABC : 13C0 00A1 0009      		move.b	d0,(sys_ctrl_1).l	; Port 1 = d0
(1)   24/    2AC2 : 13C0 00A1 000B      		move.b	d0,(sys_ctrl_2).l	; Port 2 = d0
(1)   25/    2AC8 : 13C0 00A1 000D      		move.b	d0,(sys_ctrl_3).l	; Modem  = d0
(1)   26/    2ACE : 33FC 0000 00A1 1100 		move.w	#0,(z80_bus).l		; $0000 - Start Z80
(1)   27/    2AD6 : 4E75                		rts
(1)   28/    2AD8 :                     		
(1)   29/    2AD8 :                     ; ====================================================================
(1)   30/    2AD8 :                     ; ----------------------------------------------------------------
(1)   31/    2AD8 :                     ; System subroutines
(1)   32/    2AD8 :                     ; ----------------------------------------------------------------
(1)   33/    2AD8 :                     
(1)   34/    2AD8 :                     ; --------------------------------------------------------
(1)   35/    2AD8 :                     ; System_VSync
(1)   36/    2AD8 :                     ; 
(1)   37/    2AD8 :                     ; Waits for VBlank
(1)   38/    2AD8 :                     ; 
(1)   39/    2AD8 :                     ; Uses:
(1)   40/    2AD8 :                     ; d4
(1)   41/    2AD8 :                     ; --------------------------------------------------------
(1)   42/    2AD8 :                     
(1)   43/    2AD8 :                     System_VSync:
(1)   44/    2AD8 : 3839 00C0 0004      		move.w	(vdp_ctrl),d4			; Read VDP Control to d4
(1)   45/    2ADE : 0804 0003           		btst	#bitVBlnk,d4			; Test VBlank bit
(1)   46/    2AE2 : 67F4                		beq.s	System_VSync			; If FALSE (not inside VBlank), try again
(1)   47/    2AE4 : 610E                		bsr.s	System_Input			; Read user input data
(1)   48/    2AE6 : 3839 00C0 0004      .wait:		move.w	(vdp_ctrl),d4			; d4 - Read VDP Control
(1)   49/    2AEC : 0804 0003           		btst	#bitVBlnk,d4			; Test VBlank bit
(1)   50/    2AF0 : 66F4                		bne.s	.wait				; If TRUE (inside VBlank), wait for exit
(1)   51/    2AF2 : 4E75                		rts
(1)   52/    2AF4 :                     		
(1)   53/    2AF4 :                     ; --------------------------------------------------------
(1)   54/    2AF4 :                     ; System_Input
(1)   55/    2AF4 :                     ; 
(1)   56/    2AF4 :                     ; WARNING: Don't call this outside of VBLANK
(1)   57/    2AF4 :                     ; (call System_VSync first)
(1)   58/    2AF4 :                     ; 
(1)   59/    2AF4 :                     ; Uses:
(1)   60/    2AF4 :                     ; d4-d6,a4-a5
(1)   61/    2AF4 :                     ; --------------------------------------------------------
(1)   62/    2AF4 :                     
(1)   63/    2AF4 :                     System_Input:
(1)   64/    2AF4 :                     ; 		move.w	#$0100,(z80_bus).l	; $0100 - Stop Z80
(1)   65/    2AF4 :                     ; .wait:
(1)   66/    2AF4 :                     ; 		btst	#0,(z80_bus).l		; Z80 stopped?
(1)   67/    2AF4 :                     ; 		bne.s	.wait			; If not, wait
(1)   68/    2AF4 : 49F9 00A1 0003      		lea	(sys_data_1),a4		; a4 - Port 1 input data from system
(1)   69/    2AFA : 4BF8 A004           		lea	(RAM_InputData),a5	; a5 - Output data for reading
(1)   70/    2AFE : 610C                		bsr	.this_one		; read this input
(1)   71/    2B00 : D8FC 0002           		adda	#2,a4			; next port [$A10005]
(1)   72/    2B04 : DAFC 0006           		adda	#sizeof_input,a5	; next output slot
(1)   73/    2B08 : 6102                		bsr.s	.this_one		; read this input
(1)   74/    2B0A :                     ; 		move.w	#0,(z80_bus).l		; $0000 - Start Z80
(1)   75/    2B0A : 4E75                		rts
(1)   76/    2B0C :                     
(1)   77/    2B0C :                     ; --------------------------------------------------------	
(1)   78/    2B0C :                     ; do port
(1)   79/    2B0C :                     ; 
(1)   80/    2B0C :                     ; a4 - Current port
(1)   81/    2B0C :                     ; a5 - Output data
(1)   82/    2B0C :                     ; --------------------------------------------------------
(1)   83/    2B0C :                     
(1)   84/    2B0C :                     .this_one:
(1)   85/    2B0C : 6100 00D4           		bsr	.find_id			; Grab ID, returns at d4
(1)   86/    2B10 : 1A84                		move.b	d4,pad_id(a5)			; Save ID to output
(1)   87/    2B12 : B87C 000F           		cmp.w	#$F,d4				; Disconnected?
(1)   88/    2B16 : 670E                		beq.s	.exit				; If yes, exit this
(1)   89/    2B18 : C87C 000F           		and.w	#$F,d4				; Clear other bits, keep right 4 bits
(1)   90/    2B1C : D844                		add.w	d4,d4				; multiply by 2 for this list
(1)   91/    2B1E : 3A3B 400C           		move.w	.list(pc,d4.w),d5		; d5 = list+(inputid*2)
(1)   92/    2B22 : 4EFB 5008           		jmp	.list(pc,d5.w)			; jump to list+jumpresult
(1)   93/    2B26 :                     
(1)   94/    2B26 :                     ; ------------------------------------------------
(1)   95/    2B26 :                     
(1)   96/    2B26 :                     .exit:
(1)   97/    2B26 : 422D 0001           		clr.b	pad_ver(a5)			; Clear output pad version
(1)   98/    2B2A : 4E75                		rts
(1)   99/    2B2C :                     
(1)  100/    2B2C :                     ; --------------------------------------------------------
(1)  101/    2B2C :                     ; Grab ID
(1)  102/    2B2C :                     ; --------------------------------------------------------
(1)  103/    2B2C :                     
(1)  104/    2B2C : FFFA                .list:		dc.w .exit-.list	; $00
(1)  105/    2B2E : FFFA                		dc.w .exit-.list
(1)  106/    2B30 : FFFA                		dc.w .exit-.list
(1)  107/    2B32 : FFFA                		dc.w .exit-.list
(1)  108/    2B34 : FFFA                		dc.w .exit-.list	; $04
(1)  109/    2B36 : FFFA                		dc.w .exit-.list
(1)  110/    2B38 : FFFA                		dc.w .exit-.list
(1)  111/    2B3A : FFFA                		dc.w .exit-.list
(1)  112/    2B3C : FFFA                		dc.w .exit-.list	; $08
(1)  113/    2B3E : FFFA                		dc.w .exit-.list
(1)  114/    2B40 : FFFA                		dc.w .exit-.list
(1)  115/    2B42 : FFFA                		dc.w .exit-.list
(1)  116/    2B44 : FFFA                		dc.w .exit-.list	; $0C
(1)  117/    2B46 : 0020                		dc.w .id_0D-.list
(1)  118/    2B48 : FFFA                		dc.w .exit-.list
(1)  119/    2B4A : FFFA                		dc.w .exit-.list
(1)  120/    2B4C :                     
(1)  121/    2B4C :                     ; --------------------------------------------------------
(1)  122/    2B4C :                     ; ID $0D
(1)  123/    2B4C :                     ; 
(1)  124/    2B4C :                     ; Normal controller, Old or New
(1)  125/    2B4C :                     ; --------------------------------------------------------
(1)  126/    2B4C :                     
(1)  127/    2B4C :                     .id_0D:
(1)  128/    2B4C : 18BC 0040           		move.b	#$40,(a4)	; Show CB|RLDU
(1)  129/    2B50 : 4E71                		nop
(1)  130/    2B52 : 4E71                		nop
(1)  131/    2B54 : 18BC 0000           		move.b	#$00,(a4)	; Show SA|RLDU
(1)  132/    2B58 : 4E71                		nop
(1)  133/    2B5A : 4E71                		nop
(1)  134/    2B5C : 18BC 0040           		move.b	#$40,(a4)	; Show CB|RLDU
(1)  135/    2B60 : 4E71                		nop
(1)  136/    2B62 : 4E71                		nop
(1)  137/    2B64 : 18BC 0000           		move.b	#$00,(a4)	; Show SA|RLDU
(1)  138/    2B68 : 4E71                		nop
(1)  139/    2B6A : 4E71                		nop
(1)  140/    2B6C : 18BC 0040           		move.b	#$40,(a4)	; 6 button responds
(1)  141/    2B70 : 4E71                		nop
(1)  142/    2B72 : 4E71                		nop
(1)  143/    2B74 : 1814                		move.b	(a4),d4		; Grab ??|MXYZ
(1)  144/    2B76 : 18BC 0000            		move.b	#$00,(a4)
(1)  145/    2B7A : 4E71                  		nop
(1)  146/    2B7C : 4E71                  		nop
(1)  147/    2B7E : 1C14                 		move.b	(a4),d6		; Type: $03 old, $0F new
(1)  148/    2B80 : 18BC 0040            		move.b	#$40,(a4)
(1)  149/    2B84 : 4E71                 		nop
(1)  150/    2B86 : 4E71                 		nop
(1)  151/    2B88 : CC7C 000F           		and.w	#$F,d6
(1)  152/    2B8C : E44E                		lsr.w	#2,d6
(1)  153/    2B8E : CC7C 0001           		and.w	#1,d6
(1)  154/    2B92 : 6716                		beq.s	.oldpad
(1)  155/    2B94 : 4604                		not.b	d4
(1)  156/    2B96 : C87C 000F            		and.w	#%1111,d4
(1)  157/    2B9A : 1A2D 0002           		move.b	on_hold(a5),d5
(1)  158/    2B9E : B905                		eor.b	d4,d5
(1)  159/    2BA0 : 1B44 0002           		move.b	d4,on_hold(a5)
(1)  160/    2BA4 : CA04                		and.b	d4,d5
(1)  161/    2BA6 : 1B45 0004           		move.b	d5,on_press(a5)
(1)  162/    2BAA :                     .oldpad:
(1)  163/    2BAA : 1B46 0001           		move.b	d6,pad_ver(a5)
(1)  164/    2BAE :                     		
(1)  165/    2BAE : 18BC 0000           		move.b	#$00,(a4)	; Show SA??|RLDU
(1)  166/    2BB2 : 4E71                		nop
(1)  167/    2BB4 : 4E71                		nop
(1)  168/    2BB6 : 1814                		move.b	(a4),d4
(1)  169/    2BB8 : E50C                		lsl.b	#2,d4
(1)  170/    2BBA : C83C 00C0           		and.b	#%11000000,d4
(1)  171/    2BBE : 18BC 0040           		move.b	#$40,(a4)	; Show ??CB|RLDU
(1)  172/    2BC2 : 4E71                		nop
(1)  173/    2BC4 : 4E71                		nop
(1)  174/    2BC6 : 1A14                		move.b	(a4),d5
(1)  175/    2BC8 : CA3C 003F           		and.b	#%00111111,d5
(1)  176/    2BCC : 8805                		or.b	d5,d4
(1)  177/    2BCE : 4604                		not.b	d4
(1)  178/    2BD0 : 1A2D 0003           		move.b	on_hold+1(a5),d5
(1)  179/    2BD4 : B905                		eor.b	d4,d5
(1)  180/    2BD6 : 1B44 0003           		move.b	d4,on_hold+1(a5)
(1)  181/    2BDA : CA04                		and.b	d4,d5
(1)  182/    2BDC : 1B45 0005           		move.b	d5,on_press+1(a5)
(1)  183/    2BE0 : 4E75                		rts
(1)  184/    2BE2 :                     		
(1)  185/    2BE2 :                     ; --------------------------------------------------------
(1)  186/    2BE2 :                     ; Grab ID
(1)  187/    2BE2 :                     ; --------------------------------------------------------
(1)  188/    2BE2 :                     
(1)  189/    2BE2 :                     .find_id:
(1)  190/    2BE2 : 7800                		moveq	#0,d4
(1)  191/    2BE4 : 18BC 0070           		move.b	#%01110000,(a4)	; TH=1,TR=1,TL=1
(1)  192/    2BE8 : 4E71                		nop
(1)  193/    2BEA : 4E71                		nop
(1)  194/    2BEC : 610A                		bsr.s	.get_id
(1)  195/    2BEE : 18BC 0030           		move.b	#%00110000,(a4)	; TH=0,TR=1,TL=1
(1)  196/    2BF2 : 4E71                		nop
(1)  197/    2BF4 : 4E71                		nop
(1)  198/    2BF6 : D844                		add.w	d4,d4
(1)  199/    2BF8 :                     .get_id:
(1)  200/    2BF8 : 1A14                		move.b	(a4),d5
(1)  201/    2BFA : 1C05                		move.b	d5,d6
(1)  202/    2BFC : CC3C 000C           		and.b	#$C,d6
(1)  203/    2C00 : 6702                		beq.s	.step_1
(1)  204/    2C02 : 5244                		addq.w	#1,d4
(1)  205/    2C04 :                     .step_1:
(1)  206/    2C04 : D844                		add.w	d4,d4
(1)  207/    2C06 : 1C05                		move.b	d5,d6
(1)  208/    2C08 : CC7C 0003           		and.w	#3,d6
(1)  209/    2C0C : 6702                		beq.s	.step_2
(1)  210/    2C0E : 5244                		addq.w	#1,d4
(1)  211/    2C10 :                     .step_2:
(1)  212/    2C10 : 4E75                		rts
(1)  213/    2C12 :                     	
(1)  214/    2C12 :                     ; ====================================================================
(1)  215/    2C12 :                     ; ----------------------------------------------------------------
(1)  216/    2C12 :                     ; System data
(1)  217/    2C12 :                     ; ----------------------------------------------------------------
(1)  218/    2C12 :                     
      41/    2C12 :                     
      42/    2C12 :                     ; ====================================================================
      43/    2C12 :                     ; ----------------------------------------------------------------
      44/    2C12 :                     ; HBlank
      45/    2C12 :                     ; ----------------------------------------------------------------
      46/    2C12 :                     
      47/    2C12 :                     MD_HBlank:
      48/    2C12 : 4E73                		rte				; Return from Exception
      49/    2C14 :                     
      50/    2C14 :                     ; ====================================================================
      51/    2C14 :                     ; ----------------------------------------------------------------
      52/    2C14 :                     ; VBlank
      53/    2C14 :                     ; ----------------------------------------------------------------
      54/    2C14 :                     
      55/    2C14 :                     ; MD_VBlank:
      56/    2C14 :                     ; 		rte				; Return from Exception
      57/    2C14 :                     
      58/    2C14 :                     ; ====================================================================
      59/    2C14 :                     ; ----------------------------------------------------------------
      60/    2C14 :                     ; Main
      61/    2C14 :                     ; ----------------------------------------------------------------
      62/    2C14 :                     
      63/    2C14 :                     MD_Main:
      64/    2C14 : 6100 D644           		bsr	Sound_Init		; Init Sound (and the Z80)
      65/    2C18 : 6100 ECCE           		bsr	Video_Init		; Init Video (default VDP setup)
      66/    2C1C : 6100 FE8A           		bsr	System_Init		; Init System (user input)
      67/    2C20 :                     
      68/    2C20 :                     ; ================================================================
      69/    2C20 :                     ; ------------------------------------------------------------
      70/    2C20 :                     ; Your 68000 code starts here
      71/    2C20 :                     ; ------------------------------------------------------------
      72/    2C20 :                     
      73/    2C20 :                     CodeBank:
      74/    2C20 :                     		include	"game/code.asm"
(1)    1/    2C20 :                     ; ================================================================
(1)    2/    2C20 :                     ; ------------------------------------------------------------
(1)    3/    2C20 :                     ; Your game code starts here
(1)    4/    2C20 :                     ; 
(1)    5/    2C20 :                     ; No restrictions unless porting to Sega CD or 32X
(1)    6/    2C20 :                     ; ------------------------------------------------------------
(1)    7/    2C20 :                     
(1)    8/    2C20 :                     ; ====================================================================
(1)    9/    2C20 :                     ; ----------------------------------------------------------------
(1)   10/    2C20 :                     ; Variables
(1)   11/    2C20 :                     ; ----------------------------------------------------------------
(1)   12/    2C20 :                     
(1)   13/    2C20 : =$2                 VAR_MAXSONGS	equ	((list_TrackData_e-list_TrackData)>>4)-1
(1)   14/    2C20 : =$1                 VAR_MAXTRACK	equ	1
(1)   15/    2C20 :                     
(1)   16/    2C20 :                     ; ====================================================================
(1)   17/    2C20 :                     ; ----------------------------------------------------------------
(1)   18/    2C20 :                     ; RAM
(1)   19/    2C20 :                     ; ----------------------------------------------------------------
(1)   20/    2C20 :                     
(1)   21/    2C20 : (MACRO)             		struct RAM_Local
(1)   21/    2C20 : =$2C20              GLBL_LASTPC     set *
(1)   21/    2C20 : =$2C20              GLBL_LASTORG    set *
(1)   21/    2C20 :                                     dephase
(1)   21/FFFFFFFFFFFF8004 :                                     phase RAM_LOCAL
(1)   22/FFFFFFFFFFFF8004 :                     RAM_PlyrCurrIds	ds.w 4
(1)   23/FFFFFFFFFFFF800C :                     RAM_CurrTrack	ds.w 1
(1)   24/FFFFFFFFFFFF800E : (MACRO)             		finish
(1)   24/FFFFFFFFFFFF8004 :                                     !org GLBL_LASTORG
(1)   24/    2C20 :                                     phase GLBL_LASTPC
(1)   25/    2C20 :                     
(1)   26/    2C20 :                     ; ====================================================================
(1)   27/    2C20 :                     ; ----------------------------------------------------------------
(1)   28/    2C20 :                     ; Init
(1)   29/    2C20 :                     ; ----------------------------------------------------------------
(1)   30/    2C20 :                     
(1)   31/    2C20 : 6100 ED3C           		bsr	Video_Clear
(1)   32/    2C24 : 0039 0002 FFFF A01C 		or.b	#%00000010,(RAM_VdpCache+$C).l
(1)   33/    2C2C : 6100 ED10           		bsr	Video_Update
(1)   34/    2C30 : 203C 0000 1E9C      		move.l	#Art_PrintFont,d0
(1)   35/    2C36 : 323C 0C00           		move.w	#(Art_PrintFont_e-Art_PrintFont),d1
(1)   36/    2C3A : 343C 0020           		move.w	#$20,d2
(1)   37/    2C3E : 6100 F1B4           		bsr	Video_LoadArt
(1)   38/    2C42 : 41FA 01CC           		lea	Pal_FmScreen(pc),a0
(1)   39/    2C46 : 7000                		moveq	#0,d0
(1)   40/    2C48 : 323C 003F           		move.w	#63,d1
(1)   41/    2C4C : 6100 ED62           		bsr	Video_LoadPal
(1)   42/    2C50 :                     		
(1)   43/    2C50 : 41FA 015C           		lea	str_Title(pc),a0
(1)   44/    2C54 : 203C 0000 0504      		move.l	#locate(0,5,4),d0
(1)   45/    2C5A : 6100 EE7E           		bsr	Video_Print
(1)   46/    2C5E :                     
(1)   47/    2C5E : 6100 00CC           		bsr	SndTest_Update
(1)   48/    2C62 :                     		
(1)   49/    2C62 :                     ; ====================================================================
(1)   50/    2C62 :                     ; ----------------------------------------------------------------
(1)   51/    2C62 :                     ; Loop
(1)   52/    2C62 :                     ; ----------------------------------------------------------------
(1)   53/    2C62 :                     
(1)   54/    2C62 :                     FmEd_Loop:
(1)   55/    2C62 : 3839 00C0 0004      		move.w	(vdp_ctrl),d4
(1)   56/    2C68 : 0804 0003           		btst	#bitVBlnk,d4
(1)   57/    2C6C : 67F4                		beq.s	FmEd_Loop
(1)   58/    2C6E : 6100 FE84           		bsr	System_Input
(1)   59/    2C72 : 3839 00C0 0004      .wait:		move.w	(vdp_ctrl),d4
(1)   60/    2C78 : 0804 0003           		btst	#bitVBlnk,d4
(1)   61/    2C7C : 66F4                		bne.s	.wait
(1)   62/    2C7E :                     		
(1)   63/    2C7E : 47F8 8004           		lea	(RAM_PlyrCurrIds),a3
(1)   64/    2C82 : 3639 FFFF A008      		move.w	(Controller_1+on_press).l,d3
(1)   65/    2C88 : 0803 0005           		btst	#bitJoyC,d3
(1)   66/    2C8C : 670E                		beq.s	.noc
(1)   67/    2C8E : 3038 800C           		move.w	(RAM_CurrTrack),d0
(1)   68/    2C92 : D040                		add.w	d0,d0
(1)   69/    2C94 : 3033 0000           		move.w	(a3,d0.w),d0
(1)   70/    2C98 : 6100 00C4           		bsr	SndTest_PlaySound
(1)   71/    2C9C :                     
(1)   72/    2C9C :                     .noc:
(1)   73/    2C9C : 3639 FFFF A008      		move.w	(Controller_1+on_press).l,d3
(1)   74/    2CA2 : 0803 0003           		btst	#bitJoyRight,d3
(1)   75/    2CA6 : 6716                		beq.s	.nor
(1)   76/    2CA8 : 3038 800C           		move.w	(RAM_CurrTrack),d0
(1)   77/    2CAC : D040                		add.w	d0,d0
(1)   78/    2CAE : 0C73 0002 0000      		cmp.w	#VAR_MAXSONGS,(a3,d0.w)
(1)   79/    2CB4 : 6708                		beq.s	.nor
(1)   80/    2CB6 : 0673 0001 0000      		add.w	#1,(a3,d0.w)
(1)   81/    2CBC : 616E                		bsr	SndTest_Update
(1)   82/    2CBE :                     .nor:
(1)   83/    2CBE : 3639 FFFF A008      		move.w	(Controller_1+on_press).l,d3
(1)   84/    2CC4 : 0803 0002           		btst	#bitJoyLeft,d3
(1)   85/    2CC8 : 6714                		beq.s	.nol
(1)   86/    2CCA : 3038 800C           		move.w	(RAM_CurrTrack),d0
(1)   87/    2CCE : D040                		add.w	d0,d0
(1)   88/    2CD0 : 4A73 0000           		tst.w	(a3,d0.w)
(1)   89/    2CD4 : 6708                		beq.s	.nol
(1)   90/    2CD6 : 0473 0001 0000      		sub.w	#1,(a3,d0.w)
(1)   91/    2CDC : 614E                		bsr	SndTest_Update
(1)   92/    2CDE :                     .nol:
(1)   93/    2CDE :                     		
(1)   94/    2CDE : 47F8 800C           		lea	(RAM_CurrTrack),a3
(1)   95/    2CE2 : 3639 FFFF A008      		move.w	(Controller_1+on_press).l,d3
(1)   96/    2CE8 : 0803 0000           		btst	#bitJoyUp,d3
(1)   97/    2CEC : 670A                		beq.s	.nou
(1)   98/    2CEE : 4A53                		tst.w	(a3)
(1)   99/    2CF0 : 6706                		beq.s	.nou
(1)  100/    2CF2 : 0453 0001           		sub.w	#1,(a3)
(1)  101/    2CF6 : 6134                		bsr	SndTest_Update
(1)  102/    2CF8 :                     .nou:
(1)  103/    2CF8 : 3639 FFFF A008      		move.w	(Controller_1+on_press).l,d3
(1)  104/    2CFE : 0803 0001           		btst	#bitJoyDown,d3
(1)  105/    2D02 : 670C                		beq.s	.nod
(1)  106/    2D04 : 0C53 0001           		cmp.w	#VAR_MAXTRACK,(a3)
(1)  107/    2D08 : 6706                		beq.s	.nod
(1)  108/    2D0A : 0653 0001           		add.w	#1,(a3)
(1)  109/    2D0E : 611C                		bsr	SndTest_Update
(1)  110/    2D10 :                     .nod:
(1)  111/    2D10 :                     
(1)  112/    2D10 : 3639 FFFF A008      		move.w	(Controller_1+on_press).l,d3
(1)  113/    2D16 : 0803 0007           		btst	#bitJoyStart,d3
(1)  114/    2D1A : 670A                		beq.s	.nost
(1)  115/    2D1C : 7002                		moveq	#2,d0
(1)  116/    2D1E : 3238 800C           		move.w	(RAM_CurrTrack),d1
(1)  117/    2D22 : 6100 D602           		bsr	Sound_StopTrack
(1)  118/    2D26 :                     .nost:
(1)  119/    2D26 :                     
(1)  120/    2D26 : 6000 FF3A           		bra	FmEd_Loop
(1)  121/    2D2A :                     		
(1)  122/    2D2A :                     ; ====================================================================
(1)  123/    2D2A :                     ; ----------------------------------------------------------------
(1)  124/    2D2A :                     ; VBlank
(1)  125/    2D2A :                     ; ----------------------------------------------------------------
(1)  126/    2D2A :                     
(1)  127/    2D2A :                     MD_VBlank:
(1)  128/    2D2A : 4E73                		rte
(1)  129/    2D2C :                     		
(1)  130/    2D2C :                     ; ====================================================================
(1)  131/    2D2C :                     ; ----------------------------------------------------------------
(1)  132/    2D2C :                     ; Subs
(1)  133/    2D2C :                     ; ----------------------------------------------------------------
(1)  134/    2D2C :                     
(1)  135/    2D2C :                     SndTest_Update:
(1)  136/    2D2C : 45F8 8004           		lea	(RAM_PlyrCurrIds),a2
(1)  137/    2D30 : 203C 0000 0B09      		move.l	#locate(0,11,9),d0
(1)  138/    2D36 :                     
(1)  139/    2D36 : 7601                		moveq	#1,d3
(1)  140/    2D38 :                     .nextone:
(1)  141/    2D38 : 4843                		swap	d3
(1)  142/    2D3A : 323C 0030           		move.w	#"0",d1
(1)  143/    2D3E : B678 800C           		cmp.w	(RAM_CurrTrack),d3
(1)  144/    2D42 : 6604                		bne.s	.noequltr
(1)  145/    2D44 : D27C 2000           		add.w	#$2000,d1
(1)  146/    2D48 :                     .noequltr:
(1)  147/    2D48 : 341A                		move.w	(a2)+,d2
(1)  148/    2D4A : 6128                		bsr	ShowVal_custom
(1)  149/    2D4C : D0BC 0000 0002      		add.l	#$000002,d0
(1)  150/    2D52 : D67C 0001           		add.w	#1,d3
(1)  151/    2D56 : 4843                		swap	d3
(1)  152/    2D58 : 51CB FFDE           		dbf	d3,.nextone
(1)  153/    2D5C : 4E75                		rts
(1)  154/    2D5E :                     
(1)  155/    2D5E :                     SndTest_PlaySound:
(1)  156/    2D5E : 41FA 0130           		lea	list_TrackData(pc),a0
(1)  157/    2D62 : E948                		lsl.w	#4,d0
(1)  158/    2D64 : D0C0                		adda	d0,a0
(1)  159/    2D66 : 2018                		move.l	(a0)+,d0
(1)  160/    2D68 : 2218                		move.l	(a0)+,d1
(1)  161/    2D6A : 2418                		move.l	(a0)+,d2
(1)  162/    2D6C : 3638 800C           		move.w	(RAM_CurrTrack),d3
(1)  163/    2D70 : 6000 D542           		bra	Sound_SetTrack
(1)  164/    2D74 :                     
(1)  165/    2D74 :                     ShowVal_custom:
(1)  166/    2D74 : 6100 EEAC           		bsr	vid_PickLayer
(1)  167/    2D78 : 4DF9 00C0 0000      		lea	(vdp_data),a6
(1)  168/    2D7E : 2D44 0004           		move.l	d4,4(a6)
(1)  169/    2D82 : 3802                		move.w	d2,d4
(1)  170/    2D84 : E84C                		lsr.w	#4,d4
(1)  171/    2D86 : C87C 000F           		and.w	#%1111,d4
(1)  172/    2D8A : B87C 000A           		cmp.w	#10,d4
(1)  173/    2D8E : 6504                		bcs.s	.lowa
(1)  174/    2D90 : D87C 0007           		add.w	#7,d4
(1)  175/    2D94 :                     .lowa:
(1)  176/    2D94 : D841                		add.w	d1,d4
(1)  177/    2D96 : 3C84                		move.w	d4,(a6)
(1)  178/    2D98 :                     		
(1)  179/    2D98 : 3802                		move.w	d2,d4
(1)  180/    2D9A : C87C 000F           		and.w	#%1111,d4
(1)  181/    2D9E : B87C 000A           		cmp.w	#10,d4
(1)  182/    2DA2 : 6504                		bcs.s	.lowa2
(1)  183/    2DA4 : D87C 0007           		add.w	#7,d4
(1)  184/    2DA8 :                     .lowa2:
(1)  185/    2DA8 : D841                		add.w	d1,d4
(1)  186/    2DAA : 3C84                		move.w	d4,(a6)
(1)  187/    2DAC : 4E75                		rts
(1)  188/    2DAE :                     
(1)  189/    2DAE :                     ; ====================================================================
(1)  190/    2DAE :                     ; ----------------------------------------------------------------
(1)  191/    2DAE :                     ; Small data
(1)  192/    2DAE :                     ; ----------------------------------------------------------------
(1)  193/    2DAE :                     
(1)  194/    2DAE : 5075 6C73 654D 696E str_Title:	dc.b "PulseMini sound driver tester",$A
                    6920 736F 756E 6420 
                    6472 6976 6572 2074 
                    6573 7465 720A      
(1)  195/    2DCC : 5665 7220 3038 2F32 		dc.b "Ver 08/2019",$A
                    3031 390A           
(1)  196/    2DD8 : 0A                  		dc.b $A
(1)  197/    2DD9 : 2D2D 2D20 5472 6163 		dc.b "--- Track / Volume",$A,$A
                    6B20 2F20 566F 6C75 
                    6D65 0A0A           
(1)  198/    2DED : 5346 5820 2020 2020 		dc.b "SFX           ??",$A
                    2020 2020 2020 3F3F 
                    0A                  
(1)  199/    2DFE : 0A                  		dc.b $A
(1)  200/    2DFF : 4247 4D20 2020 2020 		dc.b "BGM           ??",0
                    2020 2020 2020 3F3F 
                    00                  
(1)  201/    2E10 :                     		align 2
(1)  202/    2E10 :                     		
(1)  203/    2E10 :                     Pal_FmScreen:
(1)  204/    2E10 : 0000 0EEE 0CCC 0AAA 		dc.w $0000,$0EEE,$0CCC,$0AAA,$0888,$0444,$000E,$0008
                    0888 0444 000E 0008 
(1)  205/    2E20 : 00EE 0088 00E0 0080 		dc.w $00EE,$0088,$00E0,$0080,$0E00,$0800,$0000,$0000
                    0E00 0800 0000 0000 
(1)  206/    2E30 : 0000 00AE 008C 006A 		dc.w $0000,$00AE,$008C,$006A,$0048,$0024,$000E,$0008
                    0048 0024 000E 0008 
(1)  207/    2E40 : 00EE 0088 00E0 0080 		dc.w $00EE,$0088,$00E0,$0080,$0E00,$0800,$0000,$0000
                    0E00 0800 0000 0000 
(1)  208/    2E50 : 0000 0AAA 0888 0666 		dc.w $0000,$0AAA,$0888,$0666,$0444,$0222,$0000,$0000
                    0444 0222 0000 0000 
(1)  209/    2E60 : 0000 0000 0000 0000 		dc.w $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
                    0000 0000 0000 0000 
(1)  210/    2E70 : 0000 0E00 0C00 0A00 		dc.w $0000,$0E00,$0C00,$0A00,$0800,$0400,$0000,$0000
                    0800 0400 0000 0000 
(1)  211/    2E80 : 0000 0000 0000 0000 		dc.w $0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
                    0000 0000 0000 0000 
(1)  212/    2E90 :                     		align 2
(1)  213/    2E90 :                     
(1)  214/    2E90 :                     list_TrackData:
(1)  215/    2E90 : 8000                		dc.w MusicBlk_TestMe&$FFFF
(1)  216/    2E92 : 8002                		dc.w MusicPat_TestMe&$FFFF
(1)  217/    2E94 : 80D6                		dc.w MusicIns_TestMe&$FFFF
(1)  218/    2E96 : 0001                		dc.w (ZSnd_MusicBank>>15)
(1)  219/    2E98 : 00                  		dc.b 0
(1)  220/    2E99 : 00                  		dc.b 0
(1)  221/    2E9A : 00                  		dc.b 0
(1)  222/    2E9B : 04                  		dc.b 4
(1)  223/    2E9C : 0000 0000           		dc.l 0
(1)  224/    2EA0 :                     		
(1)  225/    2EA0 : A099                		dc.w MusicBlk_Jackrab&$FFFF
(1)  226/    2EA2 : A0B7                		dc.w MusicPat_Jackrab&$FFFF
(1)  227/    2EA4 : C36B                		dc.w MusicIns_Jackrab&$FFFF
(1)  228/    2EA6 : 0001                		dc.w (ZSnd_MusicBank>>15)
(1)  229/    2EA8 : 00                  		dc.b 0
(1)  230/    2EA9 : 00                  		dc.b 0
(1)  231/    2EAA : 00                  		dc.b 0
(1)  232/    2EAB : 06                  		dc.b 6
(1)  233/    2EAC : 0000 0000           		dc.l 0
(1)  234/    2EB0 :                     		
(1)  235/    2EB0 : 8122                		dc.w MusicBlk_Gigalo&$FFFF
(1)  236/    2EB2 : 812F                		dc.w MusicPat_Gigalo&$FFFF
(1)  237/    2EB4 : A089                		dc.w MusicIns_Gigalo&$FFFF
(1)  238/    2EB6 : 0001                		dc.w (ZSnd_MusicBank>>15)
(1)  239/    2EB8 : 00                  		dc.b 0
(1)  240/    2EB9 : 00                  		dc.b 0
(1)  241/    2EBA : 00                  		dc.b 0
(1)  242/    2EBB : 02                  		dc.b 2
(1)  243/    2EBC : 0000 0000           		dc.l 0
(1)  244/    2EC0 :                     
(1)  245/    2EC0 :                     list_TrackData_e:
(1)  246/    2EC0 :                     		align 2
(1)  247/    2EC0 :                     
      75/    2EC0 :                     CodeBank_e:
      76/    2EC0 :                     
      80/    2EC0 :                     	
      81/    2EC0 :                     ; ====================================================================
      82/    2EC0 :                     ; DATA Section (large)
      83/    2EC0 :                     ; ====================================================================
      84/    2EC0 :                     
      85/    2EC0 :                     DataBank:
      86/    2EC0 :                     		include	"game/data.asm"
(1)    1/    2EC0 :                     ; ================================================================
(1)    2/    2EC0 :                     ; ------------------------------------------------------------
(1)    3/    2EC0 :                     ; DATA SECTION
(1)    4/    2EC0 :                     ; ------------------------------------------------------------
(1)    5/    2EC0 :                     
(1)    6/    2EC0 :                     ; ----------------------------------------------------
(1)    7/    2EC0 :                     ; Sound data
(1)    8/    2EC0 :                     ; ----------------------------------------------------
(1)    9/    2EC0 :                     
(1)   10/    2EC0 :                     		include "game/sound/data.asm"
(2)    1/    2EC0 :                     ; ================================================================
(2)    2/    2EC0 :                     ; ------------------------------------------------------------
(2)    3/    2EC0 :                     ; DATA SECTION
(2)    4/    2EC0 :                     ; 
(2)    5/    2EC0 :                     ; SOUND
(2)    6/    2EC0 :                     ; ------------------------------------------------------------
(2)    7/    2EC0 :                     
(2)    8/    2EC0 :                     ; TYPES:
(2)    9/    2EC0 :                     ;  -1 - ignore
(2)   10/    2EC0 :                     ;   0 - FM normal
(2)   11/    2EC0 :                     ;   1 - FM special
(2)   12/    2EC0 :                     ;   2 - FM sample
(2)   13/    2EC0 :                     ; $80 - PSG
(2)   14/    2EC0 :                     ; $E0 - PSG noise
(2)   15/    2EC0 :                     
(2)   16/    2EC0 : =$0                 insFM		equ 0
(2)   17/    2EC0 : =$1                 insFM3		equ 1
(2)   18/    2EC0 : =$2                 insFM6		equ 2
(2)   19/    2EC0 : =$80                insPSG		equ $80
(2)   20/    2EC0 : =$E0                insPBass0	equ $E0
(2)   21/    2EC0 : =$E1                insPBass1	equ $E1
(2)   22/    2EC0 : =$E2                insPBass2	equ $E2
(2)   23/    2EC0 : =$E3                insPBass3	equ $E3		; Grabs PSG3 frequency
(2)   24/    2EC0 : =$E4                insPNoise0	equ $E4
(2)   25/    2EC0 : =$E5                insPNoise1	equ $E5
(2)   26/    2EC0 : =$E6                insPNoise2	equ $E6
(2)   27/    2EC0 : =$E7                insPNoise3	equ $E7		; Grabs PSG3 frequency
(2)   28/    2EC0 :                     
(2)   29/    2EC0 :                     instrSlot	macro TYPE,OPT,LABEL
(2)   30/    2EC0 :                     	if TYPE=-1
(2)   31/    2EC0 :                     		dc.b -1,-1,-1,-1
(2)   32/    2EC0 :                     	else
(2)   33/    2EC0 :                     		dc.b TYPE,OPT
(2)   34/    2EC0 :                     		dc.b LABEL&$FF,((LABEL>>8)&$FF)
(2)   35/    2EC0 :                     	endif
(2)   36/    2EC0 :                     		endm
(2)   37/    2EC0 :                     
(2)   38/    2EC0 :                     instrSmpl	macro FLAGS,LABEL1,LABEL2,LABEL3
(2)   39/    2EC0 :                     		dc.b LABEL1&$FF,LABEL1>>8&$7F|$80,((LABEL1>>15)&$FF)
(2)   40/    2EC0 :                     		dc.b LABEL2&$FF,LABEL2>>8&$7F|$80,((LABEL2>>15)&$FF)
(2)   41/    2EC0 :                     		dc.b LABEL3&$FF,LABEL3>>8&$7F|$80,((LABEL3>>15)&$FF)
(2)   42/    2EC0 :                     		dc.b FLAGS
(2)   43/    2EC0 :                     		endm
(2)   44/    2EC0 :                     
(2)   45/    2EC0 :                     ; ----------------------------------------------------
(2)   46/    2EC0 :                     ; Sound bank for Z80
(2)   47/    2EC0 :                     ; ----------------------------------------------------
(2)   48/    2EC0 :                     		align $8000				; Align to bank
(2)   49/    8000 :                     ZSnd_MusicBank:
(2)   50/    8000 :                     		phase $8000
(2)   51/    8000 :                     		
(2)   52/    8000 :                     ; MusicBlk_Sample:
(2)   53/    8000 :                     ; 		binclude "game/sound/music/musictrck_blk.bin"		; BLOCKS data
(2)   54/    8000 :                     ; MusicPat_Sample:
(2)   55/    8000 :                     ; 		binclude "game/sound/music/musictrck_patt.bin"		; PATTERN data
(2)   56/    8000 :                     ; Instruments staring from number 01
(2)   57/    8000 :                     ; MusicIns_Sample:
(2)   58/    8000 :                     ; 		instrSlot      insFM,0,FmIns_Piano_Small		; FM normal: type,pitch,regdata
(2)   59/    8000 :                     ; 		instrSlot     insFM3,0,FmIns_Fm3_OpenHat		; FM special (channel 3): type,pitch,regdata+exfreq
(2)   60/    8000 :                     ; 		instrSlot     insFM3,0,FmIns_Fm3_ClosedHat
(2)   61/    8000 :                     ; 		instrSlot     insFM6,0,.kick				; FM sample (channel 6): type,pitch,custompointer (see below)
(2)   62/    8000 :                     ; 		instrSlot     insFM6,0,.snare
(2)   63/    8000 :                     ; 		instrSlot     insPSG,0,PsgIns_00			; PSG (channels 1-3): type,pitch,envelope data
(2)   64/    8000 :                     ; 		instrSlot insPBass0,0,PsgIns_00				; PSG Noise (channels 1-3): type,pitch,envelope data
(2)   65/    8000 :                     ; 		instrSlot insPBass1,0,PsgIns_00
(2)   66/    8000 :                     ; 		instrSlot insPBass2,0,PsgIns_00
(2)   67/    8000 :                     ; 		instrSlot insPBass3,0,PsgIns_00				; If using bass/noise type 3, NOISE will grab the frequency from chnl 3
(2)   68/    8000 :                     ; 		instrSlot insPNoise0,0,PsgIns_00
(2)   69/    8000 :                     ; 		instrSlot insPNoise1,0,PsgIns_00
(2)   70/    8000 :                     ; 		instrSlot insPNoise2,0,PsgIns_00
(2)   71/    8000 :                     ; 		instrSlot insPNoise3,0,PsgIns_00
(2)   72/    8000 :                     ; if using insFM6 instruments:
(2)   73/    8000 :                     ; .kick:	instrSmpl 0,WavIns_Kick,WavIns_Kick_e,WavIns_Kick	; sample flags (ex. loop), START, END, LOOP
(2)   74/    8000 :                     ; .snare:	instrSmpl 0,WavIns_Snare,WavIns_Snare_e,WavIns_Snare
(2)   75/    8000 :                     
(2)   76/    8000 :                     ; ------------------------------------
(2)   77/    8000 :                     ; Track TESTME
(2)   78/    8000 :                     ; ------------------------------------
(2)   79/    8000 :                     
(2)   80/    8000 :                     MusicBlk_TestMe:
(2)   81/    8000 :                     		binclude "game/sound/music/lasttest_blk.bin"		; BLOCKS data
(2)   82/    8002 :                     MusicPat_TestMe:
(2)   83/    8002 :                     		binclude "game/sound/music/lasttest_patt.bin"		; PATTERN data
(2)   84/    80D6 :                     MusicIns_TestMe:
(2)   85/    80D6 : (MACRO)             		instrSlot      insFM,0,FmIns_Piano_Small
(2)   85/    80D6 : 0000                                dc.b INSFM,0
(2)   85/    80D8 : 0814                                dc.b FMINS_PIANO_SMALL&$FF,((FMINS_PIANO_SMALL>>8)&$FF)
(2)   86/    80DA : (MACRO)             		instrSlot     insFM3,0,FmIns_Fm3_OpenHat
(2)   86/    80DA : 0100                                dc.b INSFM3,0
(2)   86/    80DC : 3811                                dc.b FMINS_FM3_OPENHAT&$FF,((FMINS_FM3_OPENHAT>>8)&$FF)
(2)   87/    80DE : (MACRO)             		instrSlot     insFM3,0,FmIns_Fm3_ClosedHat
(2)   87/    80DE : 0100                                dc.b INSFM3,0
(2)   87/    80E0 : 6011                                dc.b FMINS_FM3_CLOSEDHAT&$FF,((FMINS_FM3_CLOSEDHAT>>8)&$FF)
(2)   88/    80E2 : (MACRO)             		instrSlot     insFM6,-18,.kick
(2)   88/    80E2 : 02EE                                dc.b INSFM6,-18
(2)   88/    80E4 : 0E81                                dc.b .KICK&$FF,((.KICK>>8)&$FF)
(2)   89/    80E6 : (MACRO)             		instrSlot     insFM6,-18,.snare
(2)   89/    80E6 : 02EE                                dc.b INSFM6,-18
(2)   89/    80E8 : 1881                                dc.b .SNARE&$FF,((.SNARE>>8)&$FF)
(2)   90/    80EA : (MACRO)             		instrSlot     insPSG,0,PsgIns_00
(2)   90/    80EA : 8000                                dc.b INSPSG,0
(2)   90/    80EC : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   91/    80EE : (MACRO)             		instrSlot insPBass0,0,PsgIns_00
(2)   91/    80EE : E000                                dc.b INSPBASS0,0
(2)   91/    80F0 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   92/    80F2 : (MACRO)             		instrSlot insPBass1,0,PsgIns_00
(2)   92/    80F2 : E100                                dc.b INSPBASS1,0
(2)   92/    80F4 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   93/    80F6 : (MACRO)             		instrSlot insPBass2,0,PsgIns_00
(2)   93/    80F6 : E200                                dc.b INSPBASS2,0
(2)   93/    80F8 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   94/    80FA : (MACRO)             		instrSlot insPBass3,0,PsgIns_00
(2)   94/    80FA : E300                                dc.b INSPBASS3,0
(2)   94/    80FC : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   95/    80FE : (MACRO)             		instrSlot insPNoise0,0,PsgIns_00
(2)   95/    80FE : E400                                dc.b INSPNOISE0,0
(2)   95/    8100 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   96/    8102 : (MACRO)             		instrSlot insPNoise1,0,PsgIns_00
(2)   96/    8102 : E500                                dc.b INSPNOISE1,0
(2)   96/    8104 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   97/    8106 : (MACRO)             		instrSlot insPNoise2,0,PsgIns_00
(2)   97/    8106 : E600                                dc.b INSPNOISE2,0
(2)   97/    8108 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   98/    810A : (MACRO)             		instrSlot insPNoise3,0,PsgIns_00
(2)   98/    810A : E700                                dc.b INSPNOISE3,0
(2)   98/    810C : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)   99/    810E : (MACRO)             .kick:	instrSmpl 0,WavIns_Kick,WavIns_Kick_e,WavIns_Kick
(2)   99/    810E : 0080 02                             dc.b WAVINS_KICK&$FF,WAVINS_KICK>>8&$7F|$80,((WAVINS_KICK>>15)&$FF)
(2)   99/    8111 : B28A 02                             dc.b WAVINS_KICK_E&$FF,WAVINS_KICK_E>>8&$7F|$80,((WAVINS_KICK_E>>15)&$FF)
(2)   99/    8114 : 0080 02                             dc.b WAVINS_KICK&$FF,WAVINS_KICK>>8&$7F|$80,((WAVINS_KICK>>15)&$FF)
(2)   99/    8117 : 00                                  dc.b 0
(2)  100/    8118 : (MACRO)             .snare:	instrSmpl 0,WavIns_Snare,WavIns_Snare_e,WavIns_Snare
(2)  100/    8118 : B28A 02                             dc.b WAVINS_SNARE&$FF,WAVINS_SNARE>>8&$7F|$80,((WAVINS_SNARE>>15)&$FF)
(2)  100/    811B : B095 02                             dc.b WAVINS_SNARE_E&$FF,WAVINS_SNARE_E>>8&$7F|$80,((WAVINS_SNARE_E>>15)&$FF)
(2)  100/    811E : B28A 02                             dc.b WAVINS_SNARE&$FF,WAVINS_SNARE>>8&$7F|$80,((WAVINS_SNARE>>15)&$FF)
(2)  100/    8121 : 00                                  dc.b 0
(2)  101/    8122 :                     
(2)  102/    8122 :                     ; ------------------------------------
(2)  103/    8122 :                     ; Track Gigalo
(2)  104/    8122 :                     ; ------------------------------------
(2)  105/    8122 :                     
(2)  106/    8122 :                     MusicBlk_Gigalo:
(2)  107/    8122 :                     		binclude "game/sound/music/gigalo_psg_blk.bin"
(2)  108/    812F :                     MusicPat_Gigalo:
(2)  109/    812F :                     		binclude "game/sound/music/gigalo_psg_patt.bin"
(2)  110/    A089 :                     MusicIns_Gigalo:
(2)  111/    A089 : (MACRO)             		instrSlot     insPSG,0,PsgIns_01
(2)  111/    A089 : 8000                                dc.b INSPSG,0
(2)  111/    A08B : 1A11                                dc.b PSGINS_01&$FF,((PSGINS_01>>8)&$FF)
(2)  112/    A08D : (MACRO)             		instrSlot insPNoise0,0,PsgIns_01
(2)  112/    A08D : E400                                dc.b INSPNOISE0,0
(2)  112/    A08F : 1A11                                dc.b PSGINS_01&$FF,((PSGINS_01>>8)&$FF)
(2)  113/    A091 : (MACRO)             		instrSlot insPNoise1,0,PsgIns_01
(2)  113/    A091 : E500                                dc.b INSPNOISE1,0
(2)  113/    A093 : 1A11                                dc.b PSGINS_01&$FF,((PSGINS_01>>8)&$FF)
(2)  114/    A095 : (MACRO)             		instrSlot insPNoise2,0,PsgIns_01
(2)  114/    A095 : E600                                dc.b INSPNOISE2,0
(2)  114/    A097 : 1A11                                dc.b PSGINS_01&$FF,((PSGINS_01>>8)&$FF)
(2)  115/    A099 :                     
(2)  116/    A099 :                     ; ------------------------------------
(2)  117/    A099 :                     ; Track JackRab
(2)  118/    A099 :                     ; ------------------------------------
(2)  119/    A099 :                     
(2)  120/    A099 :                     MusicBlk_JackRab:
(2)  121/    A099 :                     		binclude "game/sound/music/jackrab_blk.bin"		; BLOCKS data
(2)  122/    A0B7 :                     MusicPat_JackRab:
(2)  123/    A0B7 :                     		binclude "game/sound/music/jackrab_patt.bin"		; PATTERN data
(2)  124/    C36B :                     MusicIns_JackRab:
(2)  125/    C36B : (MACRO)             		instrSlot -1
(2)  125/    C36B : FFFF FFFF                           dc.b -1,-1,-1,-1
(2)  126/    C36F : (MACRO)             		instrSlot insFM,0,FmIns_Ambient_spook
(2)  126/    C36F : 0000                                dc.b INSFM,0
(2)  126/    C371 : A814                                dc.b FMINS_AMBIENT_SPOOK&$FF,((FMINS_AMBIENT_SPOOK>>8)&$FF)
(2)  127/    C373 : (MACRO)             		instrSlot insFM6,+12,.tom
(2)  127/    C373 : 020C                                dc.b INSFM6,+12
(2)  127/    C375 : DFC3                                dc.b .TOM&$FF,((.TOM>>8)&$FF)
(2)  128/    C377 : (MACRO)             		instrSlot insFM6,+12,.kick
(2)  128/    C377 : 020C                                dc.b INSFM6,+12
(2)  128/    C379 : CBC3                                dc.b .KICK&$FF,((.KICK>>8)&$FF)
(2)  129/    C37B : (MACRO)             		instrSlot insPNoise0,0,PsgIns_02
(2)  129/    C37B : E400                                dc.b INSPNOISE0,0
(2)  129/    C37D : 2011                                dc.b PSGINS_02&$FF,((PSGINS_02>>8)&$FF)
(2)  130/    C37F : (MACRO)             		instrSlot insFM,0,FmIns_bass_synth
(2)  130/    C37F : 0000                                dc.b INSFM,0
(2)  130/    C381 : 2813                                dc.b FMINS_BASS_SYNTH&$FF,((FMINS_BASS_SYNTH>>8)&$FF)
(2)  131/    C383 : (MACRO)             		instrSlot insFM6,+6,.cuban
(2)  131/    C383 : 0206                                dc.b INSFM6,+6
(2)  131/    C385 : E9C3                                dc.b .CUBAN&$FF,((.CUBAN>>8)&$FF)
(2)  132/    C387 : (MACRO)             		instrSlot insFM,0,FmIns_piano_m1
(2)  132/    C387 : 0000                                dc.b INSFM,0
(2)  132/    C389 : E811                                dc.b FMINS_PIANO_M1&$FF,((FMINS_PIANO_M1>>8)&$FF)
(2)  133/    C38B : (MACRO)             		instrSlot insFM6,-17,.middle
(2)  133/    C38B : 02EF                                dc.b INSFM6,-17
(2)  133/    C38D : F3C3                                dc.b .MIDDLE&$FF,((.MIDDLE>>8)&$FF)
(2)  134/    C38F : (MACRO)             		instrSlot insFM,0,FmIns_Bass_3		; 10
(2)  134/    C38F : 0000                                dc.b INSFM,0
(2)  134/    C391 : E812                                dc.b FMINS_BASS_3&$FF,((FMINS_BASS_3>>8)&$FF)
(2)  135/    C393 : (MACRO)             		instrSlot insPSG,0,PsgIns_01
(2)  135/    C393 : 8000                                dc.b INSPSG,0
(2)  135/    C395 : 1A11                                dc.b PSGINS_01&$FF,((PSGINS_01>>8)&$FF)
(2)  136/    C397 : (MACRO)             		instrSlot insFM,0,FmIns_ambient_dark
(2)  136/    C397 : 0000                                dc.b INSFM,0
(2)  136/    C399 : 8814                                dc.b FMINS_AMBIENT_DARK&$FF,((FMINS_AMBIENT_DARK>>8)&$FF)
(2)  137/    C39B : (MACRO)             		instrSlot insPNoise1,0,PsgIns_00
(2)  137/    C39B : E500                                dc.b INSPNOISE1,0
(2)  137/    C39D : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)  138/    C39F : (MACRO)             		instrSlot insFM,0,FmIns_Ding_toy
(2)  138/    C39F : 0000                                dc.b INSFM,0
(2)  138/    C3A1 : C814                                dc.b FMINS_DING_TOY&$FF,((FMINS_DING_TOY>>8)&$FF)
(2)  139/    C3A3 : (MACRO)             		instrSlot insPSG,0,PsgIns_01
(2)  139/    C3A3 : 8000                                dc.b INSPSG,0
(2)  139/    C3A5 : 1A11                                dc.b PSGINS_01&$FF,((PSGINS_01>>8)&$FF)
(2)  140/    C3A7 : (MACRO)             		instrSlot insFM6,+12,.snare
(2)  140/    C3A7 : 020C                                dc.b INSFM6,+12
(2)  140/    C3A9 : D5C3                                dc.b .SNARE&$FF,((.SNARE>>8)&$FF)
(2)  141/    C3AB : (MACRO)             		instrSlot -1
(2)  141/    C3AB : FFFF FFFF                           dc.b -1,-1,-1,-1
(2)  142/    C3AF : (MACRO)             		instrSlot insFM,0,FmIns_Trumpet_2
(2)  142/    C3AF : 0000                                dc.b INSFM,0
(2)  142/    C3B1 : 2814                                dc.b FMINS_TRUMPET_2&$FF,((FMINS_TRUMPET_2>>8)&$FF)
(2)  143/    C3B3 : (MACRO)             		instrSlot insPNoise0,0,PsgIns_00
(2)  143/    C3B3 : E400                                dc.b INSPNOISE0,0
(2)  143/    C3B5 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)  144/    C3B7 : (MACRO)             		instrSlot insPSG,0,PsgIns_00		; 20
(2)  144/    C3B7 : 8000                                dc.b INSPSG,0
(2)  144/    C3B9 : 1811                                dc.b PSGINS_00&$FF,((PSGINS_00>>8)&$FF)
(2)  145/    C3BB : (MACRO)             		instrSlot -1
(2)  145/    C3BB : FFFF FFFF                           dc.b -1,-1,-1,-1
(2)  146/    C3BF : (MACRO)             		instrSlot -1
(2)  146/    C3BF : FFFF FFFF                           dc.b -1,-1,-1,-1
(2)  147/    C3C3 : (MACRO)             		instrSlot -1
(2)  147/    C3C3 : FFFF FFFF                           dc.b -1,-1,-1,-1
(2)  148/    C3C7 : (MACRO)             		instrSlot -1
(2)  148/    C3C7 : FFFF FFFF                           dc.b -1,-1,-1,-1
(2)  149/    C3CB : (MACRO)             .kick:		instrSmpl 0,WavIns_CLASIC02,WavIns_CLASIC02_e,WavIns_CLASIC02
(2)  149/    C3CB : B095 02                             dc.b WAVINS_CLASIC02&$FF,WAVINS_CLASIC02>>8&$7F|$80,((WAVINS_CLASIC02>>15)&$FF)
(2)  149/    C3CE : B0B4 02                             dc.b WAVINS_CLASIC02_E&$FF,WAVINS_CLASIC02_E>>8&$7F|$80,((WAVINS_CLASIC02_E>>15)&$FF)
(2)  149/    C3D1 : B095 02                             dc.b WAVINS_CLASIC02&$FF,WAVINS_CLASIC02>>8&$7F|$80,((WAVINS_CLASIC02>>15)&$FF)
(2)  149/    C3D4 : 00                                  dc.b 0
(2)  150/    C3D5 : (MACRO)             .snare:		instrSmpl 0,WavIns_SNOWD2,WavIns_SNOWD2_e,WavIns_SNOWD2
(2)  150/    C3D5 : B0B4 02                             dc.b WAVINS_SNOWD2&$FF,WAVINS_SNOWD2>>8&$7F|$80,((WAVINS_SNOWD2>>15)&$FF)
(2)  150/    C3D8 : F09C 03                             dc.b WAVINS_SNOWD2_E&$FF,WAVINS_SNOWD2_E>>8&$7F|$80,((WAVINS_SNOWD2_E>>15)&$FF)
(2)  150/    C3DB : B0B4 02                             dc.b WAVINS_SNOWD2&$FF,WAVINS_SNOWD2>>8&$7F|$80,((WAVINS_SNOWD2>>15)&$FF)
(2)  150/    C3DE : 00                                  dc.b 0
(2)  151/    C3DF : (MACRO)             .tom:		instrSmpl 0,WavIns_AFRICA2,WavIns_AFRICA2_e,WavIns_AFRICA2
(2)  151/    C3DF : F09C 03                             dc.b WAVINS_AFRICA2&$FF,WAVINS_AFRICA2>>8&$7F|$80,((WAVINS_AFRICA2>>15)&$FF)
(2)  151/    C3E2 : 08D9 04                             dc.b WAVINS_AFRICA2_E&$FF,WAVINS_AFRICA2_E>>8&$7F|$80,((WAVINS_AFRICA2_E>>15)&$FF)
(2)  151/    C3E5 : F09C 03                             dc.b WAVINS_AFRICA2&$FF,WAVINS_AFRICA2>>8&$7F|$80,((WAVINS_AFRICA2>>15)&$FF)
(2)  151/    C3E8 : 00                                  dc.b 0
(2)  152/    C3E9 : (MACRO)             .cuban:		instrSmpl 0,WavIns_CUBAN,WavIns_CUBAN_e,WavIns_CUBAN
(2)  152/    C3E9 : 08D9 04                             dc.b WAVINS_CUBAN&$FF,WAVINS_CUBAN>>8&$7F|$80,((WAVINS_CUBAN>>15)&$FF)
(2)  152/    C3EC : 2CBE 06                             dc.b WAVINS_CUBAN_E&$FF,WAVINS_CUBAN_E>>8&$7F|$80,((WAVINS_CUBAN_E>>15)&$FF)
(2)  152/    C3EF : 08D9 04                             dc.b WAVINS_CUBAN&$FF,WAVINS_CUBAN>>8&$7F|$80,((WAVINS_CUBAN>>15)&$FF)
(2)  152/    C3F2 : 00                                  dc.b 0
(2)  153/    C3F3 : (MACRO)             .middle		instrSmpl 0,WavIns_MIDDLE,WavIns_MIDDLE_e,WavIns_MIDDLE
(2)  153/    C3F3 : 2CBE 06                             dc.b WAVINS_MIDDLE&$FF,WAVINS_MIDDLE>>8&$7F|$80,((WAVINS_MIDDLE>>15)&$FF)
(2)  153/    C3F6 : 16F8 06                             dc.b WAVINS_MIDDLE_E&$FF,WAVINS_MIDDLE_E>>8&$7F|$80,((WAVINS_MIDDLE_E>>15)&$FF)
(2)  153/    C3F9 : 2CBE 06                             dc.b WAVINS_MIDDLE&$FF,WAVINS_MIDDLE>>8&$7F|$80,((WAVINS_MIDDLE>>15)&$FF)
(2)  153/    C3FC : 00                                  dc.b 0
(2)  154/    C3FD :                     
(2)  155/    C3FD :                     ; ------------------------------------
(2)  156/    C3FD :                     
(2)  157/    C3FD :                     		dephase		; close bank
(2)  158/    C3FD :                     		
(2)  159/    C3FD :                     ; ----------------------------------------------------
(2)  160/    C3FD :                     ; Sample data
(2)  161/    C3FD :                     ; 
(2)  162/    C3FD :                     ; can be anywhere in ROM
(2)  163/    C3FD :                     ; ----------------------------------------------------
(2)  164/    C3FD :                     
(2)  165/    C3FD :                     		align $8000
(2)  166/   10000 :                     WavIns_Kick:	binclude "game/sound/instr/dac/gems/12.wav",$2C
(2)  167/   10AB2 :                     WavIns_Kick_e:
(2)  168/   10AB2 :                     
(2)  169/   10AB2 :                     WavIns_Snare:	binclude "game/sound/instr/dac/gems/8.wav",$2C
(2)  170/   115B0 :                     WavIns_Snare_e:
(2)  171/   115B0 :                     
(2)  172/   115B0 :                     WavIns_CLASIC02:
(2)  173/   115B0 :                     		binclude "game/sound/instr/dac/CLASIC02.wav",$2C
(2)  174/   134B0 :                     WavIns_CLASIC02_e:
(2)  175/   134B0 :                     
(2)  176/   134B0 :                     WavIns_SNOWD2:
(2)  177/   134B0 :                     		binclude "game/sound/instr/dac/SNOWD2.wav",$2C
(2)  178/   19CF0 :                     WavIns_SNOWD2_e:
(2)  179/   19CF0 :                     
(2)  180/   19CF0 :                     WavIns_AFRICA2:
(2)  181/   19CF0 :                     		binclude "game/sound/instr/dac/AFRICA2.wav",$2C
(2)  182/   25908 :                     WavIns_AFRICA2_e:
(2)  183/   25908 :                     
(2)  184/   25908 :                     WavIns_CUBAN:
(2)  185/   25908 :                     		binclude "game/sound/instr/dac/CUBAN.wav",$2C
(2)  186/   33E2C :                     WavIns_CUBAN_e:
(2)  187/   33E2C :                     
(2)  188/   33E2C :                     WavIns_MIDDLE:
(2)  189/   33E2C :                     		binclude "game/sound/instr/dac/MIDDLE.wav",$2C
(2)  190/   37816 :                     WavIns_MIDDLE_e:
(2)  191/   37816 :                     
(1)   11/   37816 :                     
(1)   12/   37816 :                     
(1)   13/   37816 :                     
      87/   37816 :                     DataBank_e:
      91/   37816 :                     
      92/   37816 :                     ; ====================================================================
      93/   37816 :                     
      94/   37816 : (MACRO)             ROM_END:	rompad (ROM_END&$FF0000)+$10000
      94/   37816 : =$87EA              diff := (ROM_END&$FF0000)+$10000 - *
      94/   37816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   37816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   37C16 : =$83EA              diff := diff - 1024
      94/   37C16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   37C16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   38016 : =$7FEA              diff := diff - 1024
      94/   38016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   38016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   38416 : =$7BEA              diff := diff - 1024
      94/   38416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   38416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   38816 : =$77EA              diff := diff - 1024
      94/   38816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   38816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   38C16 : =$73EA              diff := diff - 1024
      94/   38C16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   38C16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   39016 : =$6FEA              diff := diff - 1024
      94/   39016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   39016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   39416 : =$6BEA              diff := diff - 1024
      94/   39416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   39416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   39816 : =$67EA              diff := diff - 1024
      94/   39816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   39816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   39C16 : =$63EA              diff := diff - 1024
      94/   39C16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   39C16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3A016 : =$5FEA              diff := diff - 1024
      94/   3A016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3A016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3A416 : =$5BEA              diff := diff - 1024
      94/   3A416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3A416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3A816 : =$57EA              diff := diff - 1024
      94/   3A816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3A816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3AC16 : =$53EA              diff := diff - 1024
      94/   3AC16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3AC16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3B016 : =$4FEA              diff := diff - 1024
      94/   3B016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3B016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3B416 : =$4BEA              diff := diff - 1024
      94/   3B416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3B416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3B816 : =$47EA              diff := diff - 1024
      94/   3B816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3B816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3BC16 : =$43EA              diff := diff - 1024
      94/   3BC16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3BC16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3C016 : =$3FEA              diff := diff - 1024
      94/   3C016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3C016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3C416 : =$3BEA              diff := diff - 1024
      94/   3C416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3C416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3C816 : =$37EA              diff := diff - 1024
      94/   3C816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3C816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3CC16 : =$33EA              diff := diff - 1024
      94/   3CC16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3CC16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3D016 : =$2FEA              diff := diff - 1024
      94/   3D016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3D016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3D416 : =$2BEA              diff := diff - 1024
      94/   3D416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3D416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3D816 : =$27EA              diff := diff - 1024
      94/   3D816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3D816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3DC16 : =$23EA              diff := diff - 1024
      94/   3DC16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3DC16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3E016 : =$1FEA              diff := diff - 1024
      94/   3E016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3E016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3E416 : =$1BEA              diff := diff - 1024
      94/   3E416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3E416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3E816 : =$17EA              diff := diff - 1024
      94/   3E816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3E816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3EC16 : =$13EA              diff := diff - 1024
      94/   3EC16 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3EC16 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3F016 : =$FEA               diff := diff - 1024
      94/   3F016 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3F016 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3F416 : =$BEA               diff := diff - 1024
      94/   3F416 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3F416 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3F816 : =$7EA               diff := diff - 1024
      94/   3F816 :                                                     ; AS can only generate 1 kb of code on a single line
      94/   3F816 : 0000 0000 0000 0000                                 dc.b [1024]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
      94/   3FC16 : =$3EA               diff := diff - 1024
      94/   3FC16 :                     
      94/   3FC16 : 0000 0000 0000 0000                         dc.b [diff]0
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000 0000 0000 0000 
                    0000                
      95/   40000 :                     
 AS V1.42 Beta [Bld 118] - source file main.asm - page 2 - 8/12/2019 17:35:03


  symbol table (* = unused):
  ------------------------

*ARCHITECTURE :                                        x86_64-unknown-linux - |
 ART_PRINTFONT :               1E9C C |  ART_PRINTFONT_E :             2A9C C |
*BIGENDIAN :                      0 - | *BITDISPENBL :                    6 - |
 BITDMA :                         1 - |  BITDMAENBL :                     4 - |
*BITHBLNK :                       2 - | *BITHINTENBL :                    4 - |
*BITHVSTOP :                      1 - | *BITJOYA :                        6 - |
*BITJOYB :                        4 - |  BITJOYC :                        5 - |
 BITJOYDOWN :                     1 - |  BITJOYLEFT :                     2 - |
*BITJOYMODE :                     3 - |  BITJOYRIGHT :                    3 - |
 BITJOYSTART :                    7 - |  BITJOYUP :                       0 - |
*BITJOYX :                        2 - | *BITJOYY :                        1 - |
*BITJOYZ :                        0 - | *BITODD :                         4 - |
*BITPAL :                         0 - | *BITSPRCOL :                      5 - |
*BITSPROVR :                      6 - | *BITV30 :                         3 - |
 BITVBLNK :                       3 - |  BITVINT :                        7 - |
*BITVINTENBL :                    5 - | *BRANCHEXT :                      0 - |
*CASESENSITIVE :                  0 - |  CHNL_CHIP :                      0 - |
 CHNL_EFFARG :                    6 - |  CHNL_EFFID :                     5 - |
 CHNL_EFNEWFREQ :                1A - |  CHNL_EFNEWVOL :                 17 - |
 CHNL_EFPORTAM :                 18 - |  CHNL_EFVOLSLIDE :               16 - |
 CHNL_FMPAN :                     D - |  CHNL_FMREGB0 :                   E - |
 CHNL_FMREGB4 :                   F - |  CHNL_FMREGKEYS :                10 - |
 CHNL_FMVOLBASE :                11 - |  CHNL_FREQ :                      9 - |
 CHNL_INS :                       3 - |  CHNL_INSADDR :                   7 - |
 CHNL_INSOPT :                    C - |  CHNL_INSTYPE :                   B - |
 CHNL_NOTE :                      2 - |  CHNL_PSGINDX :                  14 - |
 CHNL_PSGOUTFREQ :               1C - |  CHNL_PSGVOLBASE :               12 - |
 CHNL_PSGVOLENV :                13 - |  CHNL_SMPLFLAGS :                15 - |
 CHNL_TYPE :                      1 - |  CHNL_VOL :                       4 - |
*CODEBANK :                    2C20 C | *CODEBANK_E :                  2EC0 C |
*CONSTPI :        3.141592653589793 - |  CONTROLLER_1 :    FFFFFFFFFFFFA004 - |
*CONTROLLER_2 :    FFFFFFFFFFFFA00A - | *CURR_JSR :                      2F C |
 CURR_NOISEMODE :                33 C |  CURR_SNDBANK :                  32 C |
*DATABANK :                    2EC0 C | *DATABANK_E :                 37816 C |
*DATE :                   8/12/2019 - |  DIFF :                         3EA - |
*DISPENBL :                      40 - | *DMAENBL :                       10 - |
*FALSE :                          0 - |  FMED_LOOP :                   2C62 C |
 FMED_LOOP.NOC :               2C9C C |  FMED_LOOP.NOD :               2D10 C |
 FMED_LOOP.NOL :               2CDE C |  FMED_LOOP.NOR :               2CBE C |
 FMED_LOOP.NOST :              2D26 C |  FMED_LOOP.NOU :               2CF8 C |
 FMED_LOOP.WAIT :              2C72 C |  FMFREQ_LIST :                  B8E C |
 FMINS_AMBIENT_DARK :          1488 C |  FMINS_AMBIENT_SPOOK :         14A8 C |
*FMINS_BASS_2 :                12C8 C |  FMINS_BASS_3 :                12E8 C |
*FMINS_BASS_5 :                1308 C | *FMINS_BASS_AMBIENT :          1268 C |
*FMINS_BASS_BEACH :            13A8 C | *FMINS_BASS_BEACH_2 :          13C8 C |
*FMINS_BASS_CALM :             1228 C | *FMINS_BASS_GUM :              1208 C |
*FMINS_BASS_HEAVY :            1248 C |  FMINS_BASS_SYNTH :            1328 C |
*FMINS_BELL_GLASS :            1448 C | *FMINS_BRASS_CAVE :            13E8 C |
*FMINS_BRASS_GUMMY :           1288 C |  FMINS_DING_TOY :              14C8 C |
*FMINS_DRUMCLOSEHAT :          11C8 C | *FMINS_DRUMKICK :              1188 C |
*FMINS_DRUMSNARE :             11A8 C | *FMINS_FLAUTE_1 :              12A8 C |
 FMINS_FM3_CLOSEDHAT :         1160 C |  FMINS_FM3_OPENHAT :           1138 C |
*FMINS_GUITAR_1 :              1348 C | *FMINS_HORN_1 :                1368 C |
*FMINS_MARIMBA_1 :             1468 C | *FMINS_ORGAN_M1 :              1388 C |
 FMINS_PIANO_M1 :              11E8 C |  FMINS_PIANO_SMALL :           1408 C |
 FMINS_TRUMPET_2 :             1428 C | *FULLPMMU :                       1 - |
 GLBL_LASTORG :                2C20 - |  GLBL_LASTPC :                 2C20 - |
*HAS64 :                          1 - | *HASDSP :                         0 - |
*HASFPU :                         0 - | *HASPMMU :                        0 - |
*HINTENBL :                      10 - | *HVSTOP :                         2 - |
*INEXTMODE :                      0 - | *INLWORDMODE :                    0 - |
*INMAXMODE :                      0 - |  INSFM :                          0 - |
 INSFM3 :                         1 - |  INSFM6 :                         2 - |
 INSPBASS0 :                     E0 - |  INSPBASS1 :                     E1 - |
 INSPBASS2 :                     E2 - |  INSPBASS3 :                     E3 - |
 INSPNOISE0 :                    E4 - |  INSPNOISE1 :                    E5 - |
 INSPNOISE2 :                    E6 - |  INSPNOISE3 :                    E7 - |
 INSPSG :                        80 - | *INSRCMODE :                      0 - |
*INSUPMODE :                      1 - | *JOYA :                          40 - |
*JOYB :                          10 - | *JOYC :                          20 - |
*JOYDOWN :                        2 - | *JOYLEFT :                        4 - |
*JOYMODE :                      800 - | *JOYRIGHT :                       8 - |
*JOYSTART :                      80 - | *JOYUP :                          1 - |
*JOYX :                         400 - | *JOYY :                         200 - |
*JOYZ :                         100 - | *LISTON :                         3 - |
 LIST_TRACKDATA :              2E90 C |  LIST_TRACKDATA_E :            2EC0 C |
 LIST_VDPREGS :                1E88 C | *MACEXP :                         7 - |
 MAX_CHNLS :                      A - |  MAX_LOCRAM :                  2000 - |
 MAX_PRNTLIST :                  10 - |  MAX_TRACKS :                     2 - |
 MDRAM_START :             FFFF8000 - | *MD_BANK_SRAM :              A130F1 - |
 MD_ENTRY :                     202 C |  MD_ENTRY.CLRRAM :              248 C |
 MD_ENTRY.OLDMD :               21C C |  MD_ENTRY.WAITFRAME :           228 C |
 MD_ERRADDR :                   200 C |  MD_ERRBUS :                    200 C |
 MD_ERRCHK :                    200 C |  MD_ERRILL :                    200 C |
 MD_ERROREX :                   200 C |  MD_ERRORTRAP :                 200 C |
 MD_ERRPRIVL :                  200 C |  MD_ERRTRAPV :                  200 C |
 MD_ERRZDIV :                   200 C |  MD_HBLANK :                   2C12 C |
 MD_LINE1010 :                  200 C |  MD_LINE1111 :                  200 C |
 MD_MAIN :                     2C14 C | *MD_MARS_ID :                A130EC - |
 MD_TRACE :                     200 C |  MD_VBLANK :                   2D2A C |
 MOMCPU :                     68000 - | *MOMCPUNAME :                 68000 - |
 MUSICBLK_GIGALO :             8122 C |  MUSICBLK_JACKRAB :            A099 C |
 MUSICBLK_TESTME :             8000 C |  MUSICINS_GIGALO :             A089 C |
 MUSICINS_JACKRAB :            C36B C |  MUSICINS_JACKRAB.CUBAN :      C3E9 C |
 MUSICINS_JACKRAB.KICK :       C3CB C |  MUSICINS_JACKRAB.MIDDLE :     C3F3 C |
 MUSICINS_JACKRAB.SNARE :      C3D5 C |  MUSICINS_JACKRAB.TOM :        C3DF C |
 MUSICINS_TESTME :             80D6 C |  MUSICINS_TESTME.KICK :        810E C |
 MUSICINS_TESTME.SNARE :       8118 C |  MUSICPAT_GIGALO :             812F C |
 MUSICPAT_JACKRAB :            A0B7 C |  MUSICPAT_TESTME :             8002 C |
*NESTMAX :                      100 - |  ON_HOLD :                        2 C |
 ON_PRESS :                       4 C | *PACKING :                        0 - |
*PADDING :                        0 - | *PADDINGSOFAR :                   0 - |
 PAD_ID :                         0 C |  PAD_VER :                        1 C |
 PAL_FMSCREEN :                2E10 C |  PAL_PRINTFONT :               2A9C C |
 PSGFREQ_LIST :                 C4E C |  PSGINS_00 :                   1118 C |
 PSGINS_01 :                   111A C |  PSGINS_02 :                   1120 C |
*PSGINS_03 :                   1123 C | *PSGINS_04 :                   112F C |
*PSG_CTRL :                  C00011 - |  RAM_CURRTRACK :   FFFFFFFFFFFF800C C |
*RAM_GLBLNULL :    FFFFFFFFFFFF8000 C |  RAM_GLOBAL :      FFFFFFFFFFFF8000 C |
 RAM_INPUTDATA :   FFFFFFFFFFFFA004 C |  RAM_LOCAL :       FFFFFFFFFFFF8004 C |
 RAM_MDSYSTEM :    FFFFFFFFFFFFA004 C |  RAM_MDVIDEO :     FFFFFFFFFFFFA010 C |
 RAM_PLYRCURRIDS : FFFFFFFFFFFF8004 C |  RAM_VDPCACHE :    FFFFFFFFFFFFA010 C |
 RAM_VIDPRNTLIST : FFFFFFFFFFFFA028 C |  RAM_VIDPRNTVRAM : FFFFFFFFFFFFA088 C |
*RELAXED :                        0 - |  ROM_END :                    37816 C |
 SAMPLE_END :                    27 C |  SAMPLE_FLAGS :                  1F C |
 SAMPLE_LOOP :                   2A C |  SAMPLE_READ :                   20 C |
 SAMPLE_SPEED :                  2D C |  SAMPLE_START :                  24 C |
 SHOWVAL_CUSTOM :              2D74 C |  SHOWVAL_CUSTOM.LOWA :         2D94 C |
 SHOWVAL_CUSTOM.LOWA2 :        2DA8 C |  SIZEOF_GLOBAL :   FFFFFFFFFFFF8004 C |
 SIZEOF_INPUT :                   6 C |  SIZEOF_MDRAM :    FFFFFFFFFFFFA08A C |
 SIZEOF_MDSYS :    FFFFFFFFFFFFA010 C |  SIZEOF_MDVID :    FFFFFFFFFFFFA08A C |
 SNDBUFF_CHNLBUFF_1 :           E70 C |  SNDBUFF_CHNLBUFF_2 :           FB0 C |
 SNDBUFF_TRACK_1 :              E30 C |  SNDBUFF_TRACK_2 :              E50 C |
 SNDBUFF_USEDCHNLS :           10F0 C |  SNDBUFF_USEDCHNLS_2 :         1104 C |
 SNDDRV_FMAUTOSET :             B71 C |  SNDDRV_FMSET_1 :               B78 C |
 SNDDRV_FMSET_2 :               B83 C |  SNDDRV_INIT :                  19A C |
 SNDDRV_READTRACK :             1E5 C |  SNDDRV_READTRACK.CHIP_SETUP :  39D C |
 SNDDRV_READTRACK.DONTUPD_TRCK :                                        267 C |
 SNDDRV_READTRACK.DWN_EXFINE :  621 C |  SNDDRV_READTRACK.DWN_FINE :    631 C |
 SNDDRV_READTRACK.EFF_A :       5D1 C |  SNDDRV_READTRACK.EFF_B :       5D9 C |
 SNDDRV_READTRACK.EFF_D :       5E9 C |  SNDDRV_READTRACK.EFF_E :       603 C |
 SNDDRV_READTRACK.EFF_F :       643 C |  SNDDRV_READTRACK.EFF_LIST :    59B C |
 SNDDRV_READTRACK.EFF_NULL :    59A C |  SNDDRV_READTRACK.EFF_X :       67C C |
*SNDDRV_READTRACK.EXIT_BUSY :   2DE C |  SNDDRV_READTRACK.EXIT_NOTES :  2DD C |
 SNDDRV_READTRACK.FMFILES :     7A4 C |  SNDDRV_READTRACK.FMPAN_LIST :  68B C |
 SNDDRV_READTRACK.FM_NORMALCHNL :                                       4CA C |
 SNDDRV_READTRACK.FM_SETTLOFF : 757 C |  SNDDRV_READTRACK.FM_TURNOFF :  73E C |
 SNDDRV_READTRACK.FORCE_ON :    209 C |  SNDDRV_READTRACK.FREQRN_FM :   6C1 C |
 SNDDRV_READTRACK.FREQRN_NOT3 : 6B5 C |  SNDDRV_READTRACK.FREQRN_PSG :  72F C |
 SNDDRV_READTRACK.FREQRN_SMPL : 6F1 C |  SNDDRV_READTRACK.GOSRCH :      492 C |
*SNDDRV_READTRACK.GO_DOWN :     5F3 C |  SNDDRV_READTRACK.GO_UP :       5F9 C |
 SNDDRV_READTRACK.GRAB_INSTSLOT :                                       68F C |
 SNDDRV_READTRACK.KEEP_CTRL :   295 C |  SNDDRV_READTRACK.LAST_ENV :    387 C |
 SNDDRV_READTRACK.LEFTFM :      46A C |  SNDDRV_READTRACK.LIST_DOEFF :  9DA C |
 SNDDRV_READTRACK.LOOP_ME :     272 C |  SNDDRV_READTRACK.LOWPRIOSET :  453 C |
 SNDDRV_READTRACK.LOWUNLKSET :  4FF C | *SNDDRV_READTRACK.NEXT_PSG :    39C C |
 SNDDRV_READTRACK.NOTDAC :      89F C |  SNDDRV_READTRACK.NOTYPE3 :     4BE C |
 SNDDRV_READTRACK.NOT_DAC :     754 C |  SNDDRV_READTRACK.NOT_NOISE :   341 C |
 SNDDRV_READTRACK.NOT_NSE :     9A1 C |  SNDDRV_READTRACK.NOT_NSE3 :    991 C |
 SNDDRV_READTRACK.NO_CHNL3F :   867 C |  SNDDRV_READTRACK.NO_CHNL6 :    79C C |
 SNDDRV_READTRACK.NO_CHNL6F :   85D C |  SNDDRV_READTRACK.NO_EFF :      2C1 C |
 SNDDRV_READTRACK.NO_INST :     2AA C |  SNDDRV_READTRACK.NO_KEYCUT :   87C C |
 SNDDRV_READTRACK.NO_MAX :      393 C |  SNDDRV_READTRACK.NO_NEWEFF :   407 C |
 SNDDRV_READTRACK.NO_NEWINST :  3EE C |  SNDDRV_READTRACK.NO_NEWVOL :   446 C |
 SNDDRV_READTRACK.NO_NOTE :     2A1 C |  SNDDRV_READTRACK.NO_NOTEREQ :  42A C |
 SNDDRV_READTRACK.NO_UPD_FREQ : 36B C |  SNDDRV_READTRACK.NO_VOL :      2B3 C |
 SNDDRV_READTRACK.PLUSFM :      464 C |  SNDDRV_READTRACK.PNTOO_LOW :   96E C |
 SNDDRV_READTRACK.PNTOO_MUCH :  969 C |  SNDDRV_READTRACK.PNTOPPSGV :   97A C |
 SNDDRV_READTRACK.PRTDWN_CONT : 642 C |  SNDDRV_READTRACK.PRTUP_CONT :  67B C |
 SNDDRV_READTRACK.PSG_EF :      A47 C |  SNDDRV_READTRACK.PSG_ENVLOPE : 31E C |
 SNDDRV_READTRACK.PSG_INSTR :   3DB C |
 SNDDRV_READTRACK.ROW_COUNTDWN :                                        2E4 C |
 SNDDRV_READTRACK.RUN_EFFECT :  9C1 C |
 SNDDRV_READTRACK.RUN_FREQUENCY :                                       6A5 C |
 SNDDRV_READTRACK.SEARCH_SLOT : 475 C |
 SNDDRV_READTRACK.SETFM_SAMPLE :                                        522 C |
 SNDDRV_READTRACK.SETFREQ_PSG : 547 C |  SNDDRV_READTRACK.SETPSG_VOL :  A24 C |
 SNDDRV_READTRACK.SET_D :       A10 C |  SNDDRV_READTRACK.SET_EFFECT :  581 C |
 SNDDRV_READTRACK.SET_E_F :     A2A C |  SNDDRV_READTRACK.SET_FM3REG :  848 C |
 SNDDRV_READTRACK.SET_FM_FREQ : 84D C |  SNDDRV_READTRACK.SET_FM_INS :  77D C |
 SNDDRV_READTRACK.SET_FM_VOL :  890 C |
 SNDDRV_READTRACK.SET_FREQUENCY :                                       4AE C |
 SNDDRV_READTRACK.SET_KEYCUT :  878 C |  SNDDRV_READTRACK.SET_PORTAM :  63C C |
 SNDDRV_READTRACK.SET_PSG_FREQ :                                        97E C |
 SNDDRV_READTRACK.SET_PSG_VOL : 960 C |  SNDDRV_READTRACK.SET_SAMPL :   92E C |
 SNDDRV_READTRACK.SET_SMPFLAG : 72A C |  SNDDRV_READTRACK.SET_TIMER :   2DA C |
 SNDDRV_READTRACK.SET_VOL :     398 C |  SNDDRV_READTRACK.SET_VOLUME :  4A0 C |
 SNDDRV_READTRACK.SET_X :       A65 C |  SNDDRV_READTRACK.SKIP_BLOCK :  2CE C |
 SNDDRV_READTRACK.SRCHFM :      48C C |  SNDDRV_READTRACK.STOP_TRACK :  2D2 C |
 SNDDRV_READTRACK.TL_LV1 :      8E3 C |  SNDDRV_READTRACK.TL_LV1_TM :   8DF C |
 SNDDRV_READTRACK.TL_LV2 :      904 C |  SNDDRV_READTRACK.TL_LV2_OK :   8F8 C |
 SNDDRV_READTRACK.TL_LV2_TM :   900 C |  SNDDRV_READTRACK.TL_LV3 :      91C C |
 SNDDRV_READTRACK.TL_LV3_TM :   918 C |  SNDDRV_READTRACK.TL_LV4_TM :   929 C |
 SNDDRV_READTRACK.TOOLOW :      A5C C |  SNDDRV_READTRACK.TOO_LOW :     8B9 C |
 SNDDRV_READTRACK.TOO_MUCH :    8B4 C |
*SNDDRV_READTRACK.TRCK_RESTART :                                        222 C |
 SNDDRV_READTRACK.ULEFTFM :     516 C |  SNDDRV_READTRACK.UNLOCK_CHNL : 4F2 C |
 SNDDRV_READTRACK.UPLUSFM :     510 C |  SNDDRV_READTRACK.UP_EXFINE :   664 C |
 SNDDRV_READTRACK.UP_FINE :     670 C |  SNDDRV_READTRACK.USE_NEWEFF :  3FB C |
 SNDDRV_READTRACK.USE_NEWINST : 3B3 C |  SNDDRV_READTRACK.USE_NEWVOL :  437 C |
 SNDDRV_READTRACK.USE_NOTEREQ : 415 C |  SNDDRV_READTRACK.VOL_ISPSG :   4AA C |
 SNDDRV_REQTRACK :              A78 C |  SNDDRV_REQTRACK.REQ01 :        A99 C |
 SNDDRV_REQTRACK.REQ02 :        AF2 C |  SNDDRV_REQTRACK.REQ_LIST :     A93 C |
 SNDDRV_RESETCHAN :             AF6 C |  SNDDRV_RESETCHAN.DONTVOLFM :   B64 C |
 SNDDRV_RESETCHAN.FM_SHUT :     B5C C |  SNDDRV_RESETCHAN.INITCHNLS :   B12 C |
 SNDDRV_RESETCHAN.LOWPRIO :     B03 C |  SNDDRV_RESETCHAN.NEXTTYPE :    B06 C |
 SNDDRV_RESETCHAN.NXTFMCHNL :   B45 C |  SNDDRV_TRCKBUFFERS :           31E C |
 SNDTEST_PLAYSOUND :           2D5E C |  SNDTEST_UPDATE :              2D2C C |
 SNDTEST_UPDATE.NEXTONE :      2D38 C |  SNDTEST_UPDATE.NOEQULTR :     2D48 C |
 SOUND_INIT :                   25A C |  SOUND_INIT.CLEANUP :           280 C |
 SOUND_INIT.COPY :              296 C |  SOUND_INIT.WAIT :              26A C |
 SOUND_SETTRACK :               2B4 C |  SOUND_SETTRACK.WAIT :          2BC C |
 SOUND_STOPTRACK :              326 C |  SOUND_STOPTRACK.WAIT :         32E C |
 STR_TITLE :                   2DAE C | *SYSCD_ARGS_M :              A12010 - |
*SYSCD_ARGS_S :              A12020 - | *SYSCD_BUS :                 A12000 - |
*SYSCD_CDCHOST :             A12008 - | *SYSCD_CDCMODE :             A12004 - |
*SYSCD_COMM_M :              A1200E - | *SYSCD_COMM_S :              A1200F - |
*SYSCD_HINT :                A12006 - | *SYSCD_MEMORY :              A12003 - |
*SYSCD_PRGRAM :               20000 - | *SYSCD_STOPWTCH :            A12008 - |
*SYSCD_WORDRAM :             200000 - | *SYSMARS_ID :                A130EC - |
*SYSMARS_REG :               A15100 - |  SYSTEM_INIT :                 2AA8 C |
 SYSTEM_INIT.WAIT :            2AB0 C |  SYSTEM_INPUT :                2AF4 C |
 SYSTEM_INPUT.EXIT :           2B26 C |  SYSTEM_INPUT.FIND_ID :        2BE2 C |
 SYSTEM_INPUT.GET_ID :         2BF8 C |  SYSTEM_INPUT.ID_0D :          2B4C C |
 SYSTEM_INPUT.LIST :           2B2C C |  SYSTEM_INPUT.OLDPAD :         2BAA C |
 SYSTEM_INPUT.STEP_1 :         2C04 C |  SYSTEM_INPUT.STEP_2 :         2C10 C |
 SYSTEM_INPUT.THIS_ONE :       2B0C C |  SYSTEM_VSYNC :                2AD8 C |
 SYSTEM_VSYNC.WAIT :           2AE6 C |  SYS_CTRL_1 :                A10009 - |
 SYS_CTRL_2 :                A1000B - |  SYS_CTRL_3 :                A1000D - |
 SYS_DATA_1 :                A10003 - | *SYS_DATA_2 :                A10005 - |
*SYS_DATA_3 :                A10007 - | *SYS_EXRAM :                 200000 - |
 SYS_IO :                    A10001 - |  SYS_TMSS :                  A14000 - |
*TIME :                    17:35:02 - |  TRCK_ACTIVE :                   11 - |
 TRCK_BLOCKCURR :                 E - |  TRCK_BLOCKS :                   12 - |
 TRCK_INSTR :                    16 - | *TRCK_MASTERVOL :                 F - |
 TRCK_PATTBASE :                 14 - |  TRCK_PATTREAD :                 18 - |
 TRCK_PRIORITY :                 10 - |  TRCK_PSGNOISE :                  C - |
 TRCK_REQBLK :                    0 - | *TRCK_REQCHNLS :                  B - |
 TRCK_REQCURRBLK :                8 - |  TRCK_REQFLAG :                   A - |
 TRCK_REQINS :                    4 - |  TRCK_REQPATT :                   2 - |
 TRCK_REQSNDBNK :                 9 - |  TRCK_REQTEMPO :                  7 - |
 TRCK_REQTICKS :                  6 - |  TRCK_ROWSTEPS :                 1A - |
 TRCK_ROWWAIT :                  1E - |  TRCK_TEMPOBITS :                1D - |
 TRCK_TICKSCURR :                1F - |  TRCK_TICKSMAIN :                1C - |
 TRCK_TICKSREAD :                 D - | *TRUE :                           1 - |
 VARNULLVRAM :                  7FF - |  VAR_MAXSONGS :                   2 - |
 VAR_MAXTRACK :                   1 - |  VDP_CTRL :                  C00004 - |
 VDP_DATA :                  C00000 - | *VDP_PALETTE :             C0000000 - |
*VDP_VSRAM :               40000010 - | *VERSION :                     142F - |
*VIDEO_AUTOMAP_VERT :          1A98 C |  VIDEO_AUTOMAP_VERT.XLOOP :    1AA8 C |
 VIDEO_AUTOMAP_VERT.YLOOP :    1ABA C |  VIDEO_CLEAR :                 195E C |
 VIDEO_CLEAR.SMLWDW :          199E C | *VIDEO_COPY :                  1D6E C |
 VIDEO_COPY.DMAW :             1D82 C |  VIDEO_COPY.DMAWE :            1DDC C |
 VIDEO_FILL :                  1CFA C |  VIDEO_FILL.DMAW :             1D0E C |
 VIDEO_FILL.DMAWE :            1D56 C |  VIDEO_INIT :                  18E8 C |
 VIDEO_INIT.LOOP :             18FC C | *VIDEO_INITPRINT :             191A C |
 VIDEO_LOADART :               1DF4 C |  VIDEO_LOADART.WAIT :          1E66 C |
*VIDEO_LOADMAP :               19D0 C |  VIDEO_LOADMAP.CONT :          19F6 C |
 VIDEO_LOADMAP.NODBLE :        1A16 C |  VIDEO_LOADMAP.NONULL :        19F4 C |
 VIDEO_LOADMAP.XLOOP :         19E6 C |  VIDEO_LOADMAP.YLOOP :         19DC C |
*VIDEO_LOADMAP_VERT :          1A28 C |  VIDEO_LOADMAP_VERT.CONT :     1A5C C |
 VIDEO_LOADMAP_VERT.NODBLE :   1A7E C |  VIDEO_LOADMAP_VERT.NONULL :   1A5A C |
*VIDEO_LOADMAP_VERT.OUTDBL :   1A88 C |  VIDEO_LOADMAP_VERT.XLOOP :    1A36 C |
 VIDEO_LOADMAP_VERT.YLOOP :    1A48 C |  VIDEO_LOADPAL :               19B0 C |
 VIDEO_LOADPAL.LOOP :          19C8 C |  VIDEO_PRINT :                 1ADA C |
 VIDEO_PRINT.DONIBL :          1BFC C |  VIDEO_PRINT.EXIT :            1B6C C |
 VIDEO_PRINT.ISBYTE :          1B36 C |  VIDEO_PRINT.ISLONG :          1B5A C |
 VIDEO_PRINT.ISWORD :          1B48 C |  VIDEO_PRINT.LNGLOOP :         1BEC C |
 VIDEO_PRINT.LOOP :            1AF6 C |  VIDEO_PRINT.LOWR :            1C0C C |
 VIDEO_PRINT.NEWJUMP :         1AF0 C |  VIDEO_PRINT.NEXT :            1B18 C |
 VIDEO_PRINT.NEXTV :           1B76 C |  VIDEO_PRINT.NOTHING :         1C18 C |
 VIDEO_PRINT.PUTTEXT :         1B0A C |  VIDEO_PRINT.SPECIAL :         1B1C C |
 VIDEO_PRINT.VBYTE :           1BA8 C |  VIDEO_PRINT.VLONG :           1BF4 C |
 VIDEO_PRINT.VWORD :           1BCA C |  VIDEO_UPDATE :                193E C |
*VIDEO_UPDATE.EXIT :           195C C |  VIDEO_UPDATE.LOOP :           1950 C |
 VID_PICKLAYER :               1C22 C |  VID_PICKLAYER.GOLYR :         1C72 C |
 VID_PICKLAYER.NOWD :          1C5C C |  VID_PICKLAYER.PLAWND :        1C4A C |
 VID_PICKLAYER.THISSZ :        1C92 C |  VID_PICKLAYER.THISSZJ :       1CBA C |
 VID_PICKSIZE :                1CBE C |  VID_PICKSIZE.SIZELIST :       1CDA C |
*VINTENBL :                      20 - |  WAVFREQ_LIST :                 D40 C |
 WAVINS_AFRICA2 :             19CF0 C |  WAVINS_AFRICA2_E :           25908 C |
 WAVINS_CLASIC02 :            115B0 C |  WAVINS_CLASIC02_E :          134B0 C |
 WAVINS_CUBAN :               25908 C |  WAVINS_CUBAN_E :             33E2C C |
 WAVINS_KICK :                10000 C |  WAVINS_KICK_E :              10AB2 C |
 WAVINS_MIDDLE :              33E2C C |  WAVINS_MIDDLE_E :            37816 C |
 WAVINS_SNARE :               10AB2 C |  WAVINS_SNARE_E :             115B0 C |
 WAVINS_SNOWD2 :              134B0 C |  WAVINS_SNOWD2_E :            19CF0 C |
*YM_CTRL_1 :                 A04000 - | *YM_CTRL_2 :                 A04002 - |
*YM_DATA_1 :                 A04001 - | *YM_DATA_2 :                 A04003 - |
 Z80_BUS :                   A11100 - |  Z80_CODE :                     400 C |
 Z80_CODE_END :                18E8 C |  Z80_CPU :                   A00000 - |
 Z80_INIT :                      3B C |  Z80_INIT.EXIT :                 96 C |
 Z80_INIT.FULL_STOP :            DC C |  Z80_INIT.LOOP :                 3F C |
 Z80_INIT.NLPFL :               112 C |  Z80_INIT.PITCH :               14C C |
 Z80_INIT.REQUEST :              E8 C | *Z80_INIT.RESTART :              F9 C |
 Z80_INIT.TURN_OFF :            15D C |  Z80_INT :                      16C C |
*Z80_INT.NO_TRCKS :             196 C |  Z80_RESET :                 A11200 - |
 ZBANK :                       6000 - |  ZPSG_CTRL :                   7F11 - |
 ZSND_MUSICBANK :              8000 C | *ZVDP_CTRL :                   7F04 - |
*ZVDP_DATA :                   7F00 - |  ZYM_CTRL_1 :                  4000 - |
 ZYM_CTRL_2 :                  4002 - |  ZYM_DATA_1 :                  4001 - |
 ZYM_DATA_2 :                  4003 - |

    568 symbols
    132 unused symbols

 AS V1.42 Beta [Bld 118] - source file main.asm - page 3 - 8/12/2019 17:35:03


  defined macros:
  ---------------

FINISH                                | INSTRSLOT                            
INSTRSMPL                             | ISO_FILE                             
ISO_SETFS                             | ORG                                  
ROMPAD                                | STRUCT                               

      8 macros

 AS V1.42 Beta [Bld 118] - source file main.asm - page 4 - 8/12/2019 17:35:03


  defined functions:
  ------------------

NOTZ80                                | LOCATE                               
MAPSIZE                               | DOUBLEWORD                           

 AS V1.42 Beta [Bld 118] - source file main.asm - page 5 - 8/12/2019 17:35:03


  codepages:
  ----------

STANDARD (0 changed characters)


0.36 seconds assembly time

   5003 lines source file
   5467 lines incl. macro expansions
      5 passes
      0 errors
      0 warnings
